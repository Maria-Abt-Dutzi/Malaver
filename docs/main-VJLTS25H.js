var nR=Object.defineProperty,rR=Object.defineProperties;var iR=Object.getOwnPropertyDescriptors;var Gl=Object.getOwnPropertySymbols;var Vb=Object.prototype.hasOwnProperty,jb=Object.prototype.propertyIsEnumerable;var Lb=(n,e,t)=>e in n?nR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,U=(n,e)=>{for(var t in e||={})Vb.call(e,t)&&Lb(n,t,e[t]);if(Gl)for(var t of Gl(e))jb.call(e,t)&&Lb(n,t,e[t]);return n},me=(n,e)=>rR(n,iR(e));var Fo=(n,e)=>{var t={};for(var r in n)Vb.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Gl)for(var r of Gl(n))e.indexOf(r)<0&&jb.call(n,r)&&(t[r]=n[r]);return t};var N=(n,e,t)=>new Promise((r,i)=>{var o=l=>{try{a(t.next(l))}catch(u){i(u)}},s=l=>{try{a(t.throw(l))}catch(u){i(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((t=t.apply(n,e)).next())});function Ub(n,e){return Object.is(n,e)}var lt=null,Wl=!1,Kl=1,fr=Symbol("SIGNAL");function Me(n){let e=lt;return lt=n,e}function Bb(){return lt}var Oa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Np(n){if(Wl)throw new Error("");if(lt===null)return;lt.consumerOnSignalRead(n);let e=lt.nextProducerIndex++;if(Jl(lt),e<lt.producerNode.length&&lt.producerNode[e]!==n&&Na(lt)){let t=lt.producerNode[e];Zl(t,lt.producerIndexOfThis[e])}lt.producerNode[e]!==n&&(lt.producerNode[e]=n,lt.producerIndexOfThis[e]=Na(lt)?qb(n,lt,e):0),lt.producerLastReadVersion[e]=n.version}function oR(){Kl++}function $b(n){if(!(Na(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Kl)){if(!n.producerMustRecompute(n)&&!kp(n)){n.dirty=!1,n.lastCleanEpoch=Kl;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Kl}}function Hb(n){if(n.liveConsumerNode===void 0)return;let e=Wl;Wl=!0;try{for(let t of n.liveConsumerNode)t.dirty||sR(t)}finally{Wl=e}}function zb(){return lt?.consumerAllowSignalWrites!==!1}function sR(n){n.dirty=!0,Hb(n),n.consumerMarkedDirty?.(n)}function Yl(n){return n&&(n.nextProducerIndex=0),Me(n)}function Op(n,e){if(Me(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Na(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Zl(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function kp(n){Jl(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||($b(t),r!==t.version))return!0}return!1}function Fp(n){if(Jl(n),Na(n))for(let e=0;e<n.producerNode.length;e++)Zl(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function qb(n,e,t){if(Gb(n),n.liveConsumerNode.length===0&&Wb(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=qb(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Zl(n,e){if(Gb(n),n.liveConsumerNode.length===1&&Wb(n))for(let r=0;r<n.producerNode.length;r++)Zl(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Jl(i),i.producerIndexOfThis[r]=e}}function Na(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Jl(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Gb(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Wb(n){return n.producerNode!==void 0}function Kb(n){let e=Object.create(aR);e.computation=n;let t=()=>{if($b(e),Np(e),e.value===Ql)throw e.error;return e.value};return t[fr]=e,t}var Rp=Symbol("UNSET"),Pp=Symbol("COMPUTING"),Ql=Symbol("ERRORED"),aR=me(U({},Oa),{value:Rp,dirty:!0,error:null,equal:Ub,producerMustRecompute(n){return n.value===Rp||n.value===Pp},producerRecomputeValue(n){if(n.value===Pp)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Pp;let t=Yl(n),r;try{r=n.computation()}catch(i){r=Ql,n.error=i}finally{Op(n,t)}if(e!==Rp&&e!==Ql&&r!==Ql&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function cR(){throw new Error}var Qb=cR;function Yb(){Qb()}function Zb(n){Qb=n}var lR=null;function Jb(n){let e=Object.create(eI);e.value=n;let t=()=>(Np(e),e.value);return t[fr]=e,t}function Lp(n,e){zb()||Yb(),n.equal(n.value,e)||(n.value=e,uR(n))}function Xb(n,e){zb()||Yb(),Lp(n,e(n.value))}var eI=me(U({},Oa),{equal:Ub,value:void 0});function uR(n){n.version++,oR(),Hb(n),lR?.()}function ge(n){return typeof n=="function"}function Lo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Xl=Lo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Fi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var $e=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ge(r))try{r()}catch(o){e=o instanceof Xl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{tI(o)}catch(s){e=e??[],s instanceof Xl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Xl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)tI(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Fi(t,e)}remove(e){let{_finalizers:t}=this;t&&Fi(t,e),e instanceof n&&e._removeParent(this)}};$e.EMPTY=(()=>{let n=new $e;return n.closed=!0,n})();var Vp=$e.EMPTY;function eu(n){return n instanceof $e||n&&"closed"in n&&ge(n.remove)&&ge(n.add)&&ge(n.unsubscribe)}function tI(n){ge(n)?n():n.unsubscribe()}var bn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Vo={setTimeout(n,e,...t){let{delegate:r}=Vo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Vo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function tu(n){Vo.setTimeout(()=>{let{onUnhandledError:e}=bn;if(e)e(n);else throw n})}function ka(){}var nI=jp("C",void 0,void 0);function rI(n){return jp("E",void 0,n)}function iI(n){return jp("N",n,void 0)}function jp(n,e,t){return{kind:n,value:e,error:t}}var Li=null;function jo(n){if(bn.useDeprecatedSynchronousErrorHandling){let e=!Li;if(e&&(Li={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Li;if(Li=null,t)throw r}}else n()}function oI(n){bn.useDeprecatedSynchronousErrorHandling&&Li&&(Li.errorThrown=!0,Li.error=n)}var Vi=class extends $e{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,eu(e)&&e.add(this)):this.destination=fR}static create(e,t,r){return new pr(e,t,r)}next(e){this.isStopped?Bp(iI(e),this):this._next(e)}error(e){this.isStopped?Bp(rI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Bp(nI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},dR=Function.prototype.bind;function Up(n,e){return dR.call(n,e)}var $p=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){nu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){nu(r)}else nu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){nu(t)}}},pr=class extends Vi{constructor(e,t,r){super();let i;if(ge(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&bn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Up(e.next,o),error:e.error&&Up(e.error,o),complete:e.complete&&Up(e.complete,o)}):i=e}this.destination=new $p(i)}};function nu(n){bn.useDeprecatedSynchronousErrorHandling?oI(n):tu(n)}function hR(n){throw n}function Bp(n,e){let{onStoppedNotification:t}=bn;t&&Vo.setTimeout(()=>t(n,e))}var fR={closed:!0,next:ka,error:hR,complete:ka};var Uo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Vt(n){return n}function Hp(...n){return zp(n)}function zp(n){return n.length===0?Vt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var _e=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=mR(t)?t:new pr(t,r,i);return jo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=sI(r),new r((i,o)=>{let s=new pr({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Uo](){return this}pipe(...t){return zp(t)(this)}toPromise(t){return t=sI(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function sI(n){var e;return(e=n??bn.Promise)!==null&&e!==void 0?e:Promise}function pR(n){return n&&ge(n.next)&&ge(n.error)&&ge(n.complete)}function mR(n){return n&&n instanceof Vi||pR(n)&&eu(n)}function qp(n){return ge(n?.lift)}function Ce(n){return e=>{if(qp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ie(n,e,t,r,i){return new Gp(n,e,t,r,i)}var Gp=class extends Vi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Bo(){return Ce((n,e)=>{let t=null;n._refCount++;let r=Ie(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var $o=class extends _e{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,qp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $e;let t=this.getSubject();e.add(this.source.subscribe(Ie(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$e.EMPTY)}return e}refCount(){return Bo()(this)}};var aI=Lo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var We=(()=>{class n extends _e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ru(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new aI}next(t){jo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){jo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){jo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Vp:(this.currentObservers=null,o.push(t),new $e(()=>{this.currentObservers=null,Fi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new _e;return t.source=this,t}}return n.create=(e,t)=>new ru(e,t),n})(),ru=class extends We{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Vp}};var qe=class extends We{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Fa={now(){return(Fa.delegate||Date).now()},delegate:void 0};var La=class extends We{constructor(e=1/0,t=1/0,r=Fa){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}};var iu=class extends $e{constructor(e,t){super()}schedule(e,t=0){return this}};var Va={setInterval(n,e,...t){let{delegate:r}=Va;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Va;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Ho=class extends iu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Va.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Va.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Fi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var zo=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};zo.now=Fa.now;var qo=class extends zo{constructor(e,t=zo.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var ou=new qo(Ho),Wp=ou;var su=class extends Ho{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var au=class extends qo{};var Kp=new au(su);var jt=new _e(n=>n.complete());function cu(n){return n&&ge(n.schedule)}function cI(n){return n[n.length-1]}function lu(n){return ge(cI(n))?n.pop():void 0}function Kr(n){return cu(cI(n))?n.pop():void 0}function Qp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function uI(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{u(r.next(h))}catch(p){s(p)}}function l(h){try{u(r.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):i(h.value).then(a,l)}u((r=r.apply(n,e||[])).next())})}function lI(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ji(n){return this instanceof ji?(this.v=n,this):new ji(n)}function dI(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(w){return function(x){return Promise.resolve(x).then(w,p)}}function a(w,x){r[w]&&(i[w]=function(k){return new Promise(function(O,$){o.push([w,k,O,$])>1||l(w,k)})},x&&(i[w]=x(i[w])))}function l(w,x){try{u(r[w](x))}catch(k){_(o[0][3],k)}}function u(w){w.value instanceof ji?Promise.resolve(w.value.v).then(h,p):_(o[0][2],w)}function h(w){l("next",w)}function p(w){l("throw",w)}function _(w,x){w(x),o.shift(),o.length&&l(o[0][0],o[0][1])}}function hI(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof lI=="function"?lI(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}var uu=n=>n&&typeof n.length=="number"&&typeof n!="function";function du(n){return ge(n?.then)}function hu(n){return ge(n[Uo])}function fu(n){return Symbol.asyncIterator&&ge(n?.[Symbol.asyncIterator])}function pu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function gR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var mu=gR();function gu(n){return ge(n?.[mu])}function vu(n){return dI(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield ji(t.read());if(i)return yield ji(void 0);yield yield ji(r)}}finally{t.releaseLock()}})}function yu(n){return ge(n?.getReader)}function Ge(n){if(n instanceof _e)return n;if(n!=null){if(hu(n))return vR(n);if(uu(n))return yR(n);if(du(n))return _R(n);if(fu(n))return fI(n);if(gu(n))return wR(n);if(yu(n))return bR(n)}throw pu(n)}function vR(n){return new _e(e=>{let t=n[Uo]();if(ge(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function yR(n){return new _e(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function _R(n){return new _e(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,tu)})}function wR(n){return new _e(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function fI(n){return new _e(e=>{IR(n,e).catch(t=>e.error(t))})}function bR(n){return fI(vu(n))}function IR(n,e){var t,r,i,o;return uI(this,void 0,void 0,function*(){try{for(t=hI(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function zt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Qr(n,e=0){return Ce((t,r)=>{t.subscribe(Ie(r,i=>zt(r,n,()=>r.next(i),e),()=>zt(r,n,()=>r.complete(),e),i=>zt(r,n,()=>r.error(i),e)))})}function Yr(n,e=0){return Ce((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function pI(n,e){return Ge(n).pipe(Yr(e),Qr(e))}function mI(n,e){return Ge(n).pipe(Yr(e),Qr(e))}function gI(n,e){return new _e(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function vI(n,e){return new _e(t=>{let r;return zt(t,e,()=>{r=n[mu](),zt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ge(r?.return)&&r.return()})}function _u(n,e){if(!n)throw new Error("Iterable cannot be null");return new _e(t=>{zt(t,e,()=>{let r=n[Symbol.asyncIterator]();zt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function yI(n,e){return _u(vu(n),e)}function _I(n,e){if(n!=null){if(hu(n))return pI(n,e);if(uu(n))return gI(n,e);if(du(n))return mI(n,e);if(fu(n))return _u(n,e);if(gu(n))return vI(n,e);if(yu(n))return yI(n,e)}throw pu(n)}function Le(n,e){return e?_I(n,e):Ge(n)}function re(...n){let e=Kr(n);return Le(n,e)}function Go(n,e){let t=ge(n)?n:()=>n,r=i=>i.error(t());return new _e(e?i=>e.schedule(r,0,i):r)}function Yp(n){return!!n&&(n instanceof _e||ge(n.lift)&&ge(n.subscribe))}var mr=Lo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function wI(n){return n instanceof Date&&!isNaN(n)}function se(n,e){return Ce((t,r)=>{let i=0;t.subscribe(Ie(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:ER}=Array;function CR(n,e){return ER(e)?n(...e):n(e)}function wu(n){return se(e=>CR(n,e))}var{isArray:DR}=Array,{getPrototypeOf:TR,prototype:xR,keys:SR}=Object;function bu(n){if(n.length===1){let e=n[0];if(DR(e))return{args:e,keys:null};if(AR(e)){let t=SR(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function AR(n){return n&&typeof n=="object"&&TR(n)===xR}function Iu(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Ui(...n){let e=Kr(n),t=lu(n),{args:r,keys:i}=bu(n);if(r.length===0)return Le([],e);let o=new _e(MR(r,e,i?s=>Iu(i,s):Vt));return t?o.pipe(wu(t)):o}function MR(n,e,t=Vt){return r=>{bI(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)bI(e,()=>{let u=Le(n[l],e),h=!1;u.subscribe(Ie(r,p=>{o[l]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function bI(n,e,t){n?zt(t,n,e):e()}function II(n,e,t,r,i,o,s,a){let l=[],u=0,h=0,p=!1,_=()=>{p&&!l.length&&!u&&e.complete()},w=k=>u<r?x(k):l.push(k),x=k=>{o&&e.next(k),u++;let O=!1;Ge(t(k,h++)).subscribe(Ie(e,$=>{i?.($),o?w($):e.next($)},()=>{O=!0},void 0,()=>{if(O)try{for(u--;l.length&&u<r;){let $=l.shift();s?zt(e,s,()=>x($)):x($)}_()}catch($){e.error($)}}))};return n.subscribe(Ie(e,w,()=>{p=!0,_()})),()=>{a?.()}}function rt(n,e,t=1/0){return ge(e)?rt((r,i)=>se((o,s)=>e(r,o,i,s))(Ge(n(r,i))),t):(typeof e=="number"&&(t=e),Ce((r,i)=>II(r,i,n,t)))}function Wo(n=1/0){return rt(Vt,n)}function EI(){return Wo(1)}function Ko(...n){return EI()(Le(n,Kr(n)))}function Eu(n){return new _e(e=>{Ge(n()).subscribe(e)})}function Bi(...n){let e=lu(n),{args:t,keys:r}=bu(n),i=new _e(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,u=s;for(let h=0;h<s;h++){let p=!1;Ge(t[h]).subscribe(Ie(o,_=>{p||(p=!0,u--),a[h]=_},()=>l--,void 0,()=>{(!l||!p)&&(u||o.next(r?Iu(r,a):a),o.complete())}))}});return e?i.pipe(wu(e)):i}function CI(n=0,e,t=Wp){let r=-1;return e!=null&&(cu(e)?t=e:r=e),new _e(i=>{let o=wI(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function qt(n,e){return Ce((t,r)=>{let i=0;t.subscribe(Ie(r,o=>n.call(e,o,i++)&&r.next(o)))})}function In(n){return Ce((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Ie(t,void 0,void 0,s=>{o=Ge(n(s,In(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function DI(n,e,t,r,i){return(o,s)=>{let a=t,l=e,u=0;o.subscribe(Ie(s,h=>{let p=u++;l=a?n(l,h,p):(a=!0,h),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function gr(n,e){return ge(e)?rt(n,e,1):rt(n,1)}function Zr(n){return Ce((e,t)=>{let r=!1;e.subscribe(Ie(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function cn(n){return n<=0?()=>jt:Ce((e,t)=>{let r=0;e.subscribe(Ie(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Zp(n){return se(()=>n)}function Cu(n=RR){return Ce((e,t)=>{let r=!1;e.subscribe(Ie(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function RR(){return new mr}function $i(n){return Ce((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Vn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?qt((i,o)=>n(i,o,r)):Vt,cn(1),t?Zr(e):Cu(()=>new mr))}function Qo(n){return n<=0?()=>jt:Ce((e,t)=>{let r=[];e.subscribe(Ie(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Jp(n,e){let t=arguments.length>=2;return r=>r.pipe(n?qt((i,o)=>n(i,o,r)):Vt,Qo(1),t?Zr(e):Cu(()=>new mr))}function Xp(n=1/0){let e;n&&typeof n=="object"?e=n:e={count:n};let{count:t=1/0,delay:r,resetOnSuccess:i=!1}=e;return t<=0?Vt:Ce((o,s)=>{let a=0,l,u=()=>{let h=!1;l=o.subscribe(Ie(s,p=>{i&&(a=0),s.next(p)},void 0,p=>{if(a++<t){let _=()=>{l?(l.unsubscribe(),l=null,u()):h=!0};if(r!=null){let w=typeof r=="number"?CI(r):Ge(r(p,a)),x=Ie(s,()=>{x.unsubscribe(),_()},()=>{s.complete()});w.subscribe(x)}else _()}else s.error(p)})),h&&(l.unsubscribe(),l=null,u())};u()})}function em(n,e){return Ce(DI(n,e,arguments.length>=2,!0))}function TI(n={}){let{connector:e=()=>new We,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,l,u=0,h=!1,p=!1,_=()=>{a?.unsubscribe(),a=void 0},w=()=>{_(),s=l=void 0,h=p=!1},x=()=>{let k=s;w(),k?.unsubscribe()};return Ce((k,O)=>{u++,!p&&!h&&_();let $=l=l??e();O.add(()=>{u--,u===0&&!p&&!h&&(a=tm(x,i))}),$.subscribe(O),!s&&u>0&&(s=new pr({next:Y=>$.next(Y),error:Y=>{p=!0,_(),a=tm(w,t,Y),$.error(Y)},complete:()=>{h=!0,_(),a=tm(w,r),$.complete()}}),Ge(k).subscribe(s))})(o)}}function tm(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new pr({next:()=>{r.unsubscribe(),n()}});return Ge(e(...t)).subscribe(r)}function nm(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,TI({connector:()=>new La(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function rm(...n){let e=Kr(n);return Ce((t,r)=>{(e?Ko(n,t,e):Ko(n,t)).subscribe(r)})}function et(n,e){return Ce((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Ie(r,l=>{i?.unsubscribe();let u=0,h=o++;Ge(n(l,h)).subscribe(i=Ie(r,p=>r.next(e?e(l,p,h,u++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ja(n){return Ce((e,t)=>{Ge(n).subscribe(Ie(t,()=>t.complete(),ka)),!t.closed&&e.subscribe(t)})}function Ye(n,e,t){let r=ge(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ce((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ie(o,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),o.error(l)},()=>{var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Vt}var mE="https://g.co/ng/security#xss",te=class extends Error{constructor(e,t){super(cd(e,t)),this.code=e}};function cd(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Ka(n){return{toString:n}.toString()}var Du="__parameters__";function PR(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function gE(n,e,t){return Ka(()=>{let r=PR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,u,h){let p=l.hasOwnProperty(Du)?l[Du]:Object.defineProperty(l,Du,{value:[]})[Du];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var vr=globalThis;function Be(n){for(let e in n)if(n[e]===Be)return e;throw Error("Could not find renamed property on target object.")}function NR(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Bt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Bt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function ym(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var OR=Be({__forward_ref__:Be});function xn(n){return n.__forward_ref__=xn,n.toString=function(){return Bt(this())},n}function Ut(n){return vE(n)?n():n}function vE(n){return typeof n=="function"&&n.hasOwnProperty(OR)&&n.__forward_ref__===xn}function K(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Sn(n){return{providers:n.providers||[],imports:n.imports||[]}}function ld(n){return xI(n,_E)||xI(n,wE)}function yE(n){return ld(n)!==null}function xI(n,e){return n.hasOwnProperty(e)?n[e]:null}function kR(n){let e=n&&(n[_E]||n[wE]);return e||null}function SI(n){return n&&(n.hasOwnProperty(AI)||n.hasOwnProperty(FR))?n[AI]:null}var _E=Be({\u0275prov:Be}),AI=Be({\u0275inj:Be}),wE=Be({ngInjectableDef:Be}),FR=Be({ngInjectorDef:Be}),W=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=K({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function bE(n){return n&&!!n.\u0275providers}var LR=Be({\u0275cmp:Be}),VR=Be({\u0275dir:Be}),jR=Be({\u0275pipe:Be}),UR=Be({\u0275mod:Be}),Vu=Be({\u0275fac:Be}),Ba=Be({__NG_ELEMENT_ID__:Be}),MI=Be({__NG_ENV_ID__:Be});function qi(n){return typeof n=="string"?n:n==null?"":String(n)}function BR(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():qi(n)}function $R(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new te(-200,n)}function wg(n,e){throw new te(-201,!1)}var Ee=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ee||{}),_m;function IE(){return _m}function Gt(n){let e=_m;return _m=n,e}function EE(n,e,t){let r=ld(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&Ee.Optional)return null;if(e!==void 0)return e;wg(n,"Injector")}var HR={},$a=HR,wm="__NG_DI_FLAG__",ju="ngTempTokenPath",zR="ngTokenPath",qR=/\n/gm,GR="\u0275",RI="__source",es;function WR(){return es}function Jr(n){let e=es;return es=n,e}function KR(n,e=Ee.Default){if(es===void 0)throw new te(-203,!1);return es===null?EE(n,void 0,e):es.get(n,e&Ee.Optional?null:void 0,e)}function Z(n,e=Ee.Default){return(IE()||KR)(Ut(n),e)}function L(n,e=Ee.Default){return Z(n,ud(e))}function ud(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function bm(n){let e=[];for(let t=0;t<n.length;t++){let r=Ut(n[t]);if(Array.isArray(r)){if(r.length===0)throw new te(900,!1);let i,o=Ee.Default;for(let s=0;s<r.length;s++){let a=r[s],l=QR(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(Z(i,o))}else e.push(Z(r))}return e}function CE(n,e){return n[wm]=e,n.prototype[wm]=e,n}function QR(n){return n[wm]}function YR(n,e,t,r){let i=n[ju];throw e[RI]&&i.unshift(e[RI]),n.message=ZR(`
`+n.message,i,t,r),n[zR]=i,n[ju]=null,n}function ZR(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==GR?n.slice(2):n;let i=Bt(e);if(Array.isArray(e))i=e.map(Bt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Bt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(qR,`
  `)}`}var un=CE(gE("Optional"),8);var bg=CE(gE("SkipSelf"),4);function Gi(n,e){let t=n.hasOwnProperty(Vu);return t?n[Vu]:null}function JR(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function XR(n){return n.flat(Number.POSITIVE_INFINITY)}function Ig(n,e){n.forEach(t=>Array.isArray(t)?Ig(t,e):e(t))}function DE(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Uu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function eP(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Eg(n,e,t){let r=Qa(n,e);return r>=0?n[r|1]=t:(r=~r,eP(n,r,e,t)),r}function im(n,e){let t=Qa(n,e);if(t>=0)return n[t|1]}function Qa(n,e){return tP(n,e,1)}function tP(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var ns={},Wt=[],rs=new W(""),TE=new W("",-1),xE=new W(""),Bu=class{get(e,t=$a){if(t===$a){let r=new Error(`NullInjectorError: No provider for ${Bt(e)}!`);throw r.name="NullInjectorError",r}return t}},SE=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(SE||{}),Bn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Bn||{}),ti=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ti||{});function nP(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function Im(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];rP(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function AE(n){return n===3||n===4||n===6}function rP(n){return n.charCodeAt(0)===64}function Ha(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?PI(n,t,i,null,e[++r]):PI(n,t,i,null,null))}}return n}function PI(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var ME="ng-template";function iP(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&nP(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Cg(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Cg(n){return n.type===4&&n.value!==ME}function oP(n,e,t){let r=n.type===4&&!t?ME:n.value;return e===r}function sP(n,e,t){let r=4,i=n.attrs,o=i!==null?lP(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!En(r)&&!En(l))return!1;if(s&&En(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!oP(n,l,t)||l===""&&e.length===1){if(En(r))return!1;s=!0}}else if(r&8){if(i===null||!iP(n,i,l,t)){if(En(r))return!1;s=!0}}else{let u=e[++a],h=aP(l,i,Cg(n),t);if(h===-1){if(En(r))return!1;s=!0;continue}if(u!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&u!==p){if(En(r))return!1;s=!0}}}}return En(r)||s}function En(n){return(n&1)===0}function aP(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return uP(e,n)}function cP(n,e,t=!1){for(let r=0;r<e.length;r++)if(sP(n,e[r],t))return!0;return!1}function lP(n){for(let e=0;e<n.length;e++){let t=n[e];if(AE(t))return e}return n.length}function uP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function NI(n,e){return n?":not("+e.trim()+")":e}function dP(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!En(s)&&(e+=NI(o,i),i=""),r=s,o=o||!En(r);t++}return i!==""&&(e+=NI(o,i)),e}function hP(n){return n.map(dP).join(",")}function fP(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!En(i))break;i=o}r++}return{attrs:e,classes:t}}function Ve(n){return Ka(()=>{let e=kE(n),t=me(U({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===SE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Bn.Emulated,styles:n.styles||Wt,_:null,schemas:n.schemas||null,tView:null,id:""});FE(t);let r=n.dependencies;return t.directiveDefs=kI(r,!1),t.pipeDefs=kI(r,!0),t.id=gP(t),t})}function pP(n){return ni(n)||RE(n)}function mP(n){return n!==null}function An(n){return Ka(()=>({type:n.type,bootstrap:n.bootstrap||Wt,declarations:n.declarations||Wt,imports:n.imports||Wt,exports:n.exports||Wt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function OI(n,e){if(n==null)return ns;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=ti.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==ti.None?[r,a]:r,e[o]=s):t[o]=r}return t}function He(n){return Ka(()=>{let e=kE(n);return FE(e),e})}function dd(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function ni(n){return n[LR]||null}function RE(n){return n[VR]||null}function PE(n){return n[jR]||null}function NE(n){let e=ni(n)||RE(n)||PE(n);return e!==null?e.standalone:!1}function OE(n,e){let t=n[UR]||null;if(!t&&e===!0)throw new Error(`Type ${Bt(n)} does not have '\u0275mod' property.`);return t}function kE(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||ns,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Wt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:OI(n.inputs,e),outputs:OI(n.outputs),debugInfo:null}}function FE(n){n.features?.forEach(e=>e(n))}function kI(n,e){if(!n)return null;let t=e?PE:pP;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(mP)}function gP(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function _t(n){return{\u0275providers:n}}function vP(...n){return{\u0275providers:LE(!0,n),\u0275fromNgModule:!0}}function LE(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Ig(e,s=>{let a=s;Em(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&VE(i,o),t}function VE(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Dg(i,o=>{e(o,r)})}}function Em(n,e,t,r){if(n=Ut(n),!n)return!1;let i=null,o=SI(n),s=!o&&ni(n);if(!o&&!s){let l=n.ngModule;if(o=SI(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)Em(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{Ig(o.imports,h=>{Em(h,e,t,r)&&(u||=[],u.push(h))})}finally{}u!==void 0&&VE(u,e)}if(!a){let u=Gi(i)||(()=>new i);e({provide:i,useFactory:u,deps:Wt},i),e({provide:xE,useValue:i,multi:!0},i),e({provide:rs,useValue:()=>Z(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let u=n;Dg(l,h=>{e(h,u)})}}else return!1;return i!==n&&n.providers!==void 0}function Dg(n,e){for(let t of n)bE(t)&&(t=t.\u0275providers),Array.isArray(t)?Dg(t,e):e(t)}var yP=Be({provide:String,useValue:Be});function jE(n){return n!==null&&typeof n=="object"&&yP in n}function _P(n){return!!(n&&n.useExisting)}function wP(n){return!!(n&&n.useFactory)}function is(n){return typeof n=="function"}function bP(n){return!!n.useClass}var hd=new W(""),Pu={},IP={},om;function Tg(){return om===void 0&&(om=new Bu),om}var $t=class{},za=class extends $t{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Dm(e,s=>this.processProvider(s)),this.records.set(TE,Yo(void 0,this)),i.has("environment")&&this.records.set($t,Yo(void 0,this));let o=this.records.get(hd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(xE,Wt,Ee.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Me(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Me(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Jr(this),r=Gt(void 0),i;try{return e()}finally{Jr(t),Gt(r)}}get(e,t=$a,r=Ee.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(MI))return e[MI](this);r=ud(r);let i,o=Jr(this),s=Gt(void 0);try{if(!(r&Ee.SkipSelf)){let l=this.records.get(e);if(l===void 0){let u=xP(e)&&ld(e);u&&this.injectableDefInScope(u)?l=Yo(Cm(e),Pu):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&Ee.Self?Tg():this.parent;return t=r&Ee.Optional&&t===$a?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[ju]=a[ju]||[]).unshift(Bt(e)),o)throw a;return YR(a,e,"R3InjectorError",this.source)}else throw a}finally{Gt(s),Jr(o)}}resolveInjectorInitializers(){let e=Me(null),t=Jr(this),r=Gt(void 0),i;try{let o=this.get(rs,Wt,Ee.Self);for(let s of o)s()}finally{Jr(t),Gt(r),Me(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Bt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new te(205,!1)}processProvider(e){e=Ut(e);let t=is(e)?e:Ut(e&&e.provide),r=CP(e);if(!is(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Yo(void 0,Pu,!0),i.factory=()=>bm(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=Me(null);try{return t.value===Pu&&(t.value=IP,t.value=t.factory()),typeof t.value=="object"&&t.value&&TP(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Me(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ut(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Cm(n){let e=ld(n),t=e!==null?e.factory:Gi(n);if(t!==null)return t;if(n instanceof W)throw new te(204,!1);if(n instanceof Function)return EP(n);throw new te(204,!1)}function EP(n){if(n.length>0)throw new te(204,!1);let t=kR(n);return t!==null?()=>t.factory(n):()=>new n}function CP(n){if(jE(n))return Yo(void 0,n.useValue);{let e=UE(n);return Yo(e,Pu)}}function UE(n,e,t){let r;if(is(n)){let i=Ut(n);return Gi(i)||Cm(i)}else if(jE(n))r=()=>Ut(n.useValue);else if(wP(n))r=()=>n.useFactory(...bm(n.deps||[]));else if(_P(n))r=()=>Z(Ut(n.useExisting));else{let i=Ut(n&&(n.useClass||n.provide));if(DP(n))r=()=>new i(...bm(n.deps));else return Gi(i)||Cm(i)}return r}function Yo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function DP(n){return!!n.deps}function TP(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function xP(n){return typeof n=="function"||typeof n=="object"&&n instanceof W}function Dm(n,e){for(let t of n)Array.isArray(t)?Dm(t,e):t&&bE(t)?Dm(t.\u0275providers,e):e(t)}function Xt(n,e){n instanceof za&&n.assertNotDestroyed();let t,r=Jr(n),i=Gt(void 0);try{return e()}finally{Jr(r),Gt(i)}}function BE(){return IE()!==void 0||WR()!=null}function fd(n){if(!BE())throw new te(-203,!1)}function SP(n){return typeof n=="function"}var Er=0,we=1,fe=2,xt=3,Dn=4,Mn=5,$u=6,Hu=7,Tn=8,os=9,$n=10,nt=11,qa=12,FI=13,fs=14,Hn=15,Wi=16,Zo=17,yr=18,pd=19,$E=20,Xr=21,sm=22,ln=23,Jt=25,HE=1;var Ki=7,zu=8,ss=9,Zt=10,qu=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(qu||{});function ei(n){return Array.isArray(n)&&typeof n[HE]=="object"}function Cr(n){return Array.isArray(n)&&n[HE]===!0}function xg(n){return(n.flags&4)!==0}function md(n){return n.componentOffset>-1}function gd(n){return(n.flags&1)===1}function ri(n){return!!n.template}function Tm(n){return(n[fe]&512)!==0}var xm=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function zE(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function dn(){return qE}function qE(n){return n.type.prototype.ngOnChanges&&(n.setInput=MP),AP}dn.ngInherit=!0;function AP(){let n=WE(this),e=n?.current;if(e){let t=n.previous;if(t===ns)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function MP(n,e,t,r,i){let o=this.declaredInputs[r],s=WE(n)||RP(n,{previous:ns,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new xm(u&&u.currentValue,t,l===ns),zE(n,e,i,t)}var GE="__ngSimpleChanges__";function WE(n){return n[GE]||null}function RP(n,e){return n[GE]=e}var LI=null;var jn=function(n,e,t){LI?.(n,e,t)},KE="svg",PP="math";function zn(n){for(;Array.isArray(n);)n=n[Er];return n}function QE(n,e){return zn(e[n])}function hn(n,e){return zn(e[n.index])}function YE(n,e){return n.data[e]}function Sg(n,e){return n[e]}function si(n,e){let t=e[n];return ei(t)?t:t[Er]}function NP(n){return(n[fe]&4)===4}function Ag(n){return(n[fe]&128)===128}function OP(n){return Cr(n[xt])}function as(n,e){return e==null?null:n[e]}function ZE(n){n[Zo]=0}function JE(n){n[fe]&1024||(n[fe]|=1024,Ag(n)&&yd(n))}function kP(n,e){for(;n>0;)e=e[fs],n--;return e}function vd(n){return!!(n[fe]&9216||n[ln]?.dirty)}function Sm(n){n[$n].changeDetectionScheduler?.notify(8),n[fe]&64&&(n[fe]|=1024),vd(n)&&yd(n)}function yd(n){n[$n].changeDetectionScheduler?.notify(0);let e=Qi(n);for(;e!==null&&!(e[fe]&8192||(e[fe]|=8192,!Ag(e)));)e=Qi(e)}function XE(n,e){if((n[fe]&256)===256)throw new te(911,!1);n[Xr]===null&&(n[Xr]=[]),n[Xr].push(e)}function FP(n,e){if(n[Xr]===null)return;let t=n[Xr].indexOf(e);t!==-1&&n[Xr].splice(t,1)}function Qi(n){let e=n[xt];return Cr(e)?e[xt]:e}var ve={lFrame:cC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var eC=!1;function LP(){return ve.lFrame.elementDepthCount}function VP(){ve.lFrame.elementDepthCount++}function jP(){ve.lFrame.elementDepthCount--}function tC(){return ve.bindingsEnabled}function UP(){return ve.skipHydrationRootTNode!==null}function BP(n){return ve.skipHydrationRootTNode===n}function $P(){ve.skipHydrationRootTNode=null}function xe(){return ve.lFrame.lView}function ut(){return ve.lFrame.tView}function ie(n){return ve.lFrame.contextLView=n,n[Tn]}function oe(n){return ve.lFrame.contextLView=null,n}function St(){let n=nC();for(;n!==null&&n.type===64;)n=n.parent;return n}function nC(){return ve.lFrame.currentTNode}function HP(){let n=ve.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function to(n,e){let t=ve.lFrame;t.currentTNode=n,t.isParent=e}function Mg(){return ve.lFrame.isParent}function rC(){ve.lFrame.isParent=!1}function zP(){return ve.lFrame.contextLView}function iC(){return eC}function VI(n){eC=n}function Rg(){let n=ve.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function qP(){return ve.lFrame.bindingIndex}function GP(n){return ve.lFrame.bindingIndex=n}function _d(){return ve.lFrame.bindingIndex++}function Pg(n){let e=ve.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function WP(){return ve.lFrame.inI18n}function KP(n,e){let t=ve.lFrame;t.bindingIndex=t.bindingRootIndex=n,Am(e)}function QP(){return ve.lFrame.currentDirectiveIndex}function Am(n){ve.lFrame.currentDirectiveIndex=n}function YP(n){let e=ve.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function oC(){return ve.lFrame.currentQueryIndex}function Ng(n){ve.lFrame.currentQueryIndex=n}function ZP(n){let e=n[we];return e.type===2?e.declTNode:e.type===1?n[Mn]:null}function sC(n,e,t){if(t&Ee.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&Ee.Host);)if(i=ZP(o),i===null||(o=o[fs],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ve.lFrame=aC();return r.currentTNode=e,r.lView=n,!0}function Og(n){let e=aC(),t=n[we];ve.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function aC(){let n=ve.lFrame,e=n===null?null:n.child;return e===null?cC(n):e}function cC(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function lC(){let n=ve.lFrame;return ve.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var uC=lC;function kg(){let n=lC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function JP(n){return(ve.lFrame.contextLView=kP(n,ve.lFrame.contextLView))[Tn]}function ai(){return ve.lFrame.selectedIndex}function Yi(n){ve.lFrame.selectedIndex=n}function Fg(){let n=ve.lFrame;return YE(n.tView,n.selectedIndex)}function wd(){ve.lFrame.currentNamespace=KE}function bd(){XP()}function XP(){ve.lFrame.currentNamespace=null}function eN(){return ve.lFrame.currentNamespace}var dC=!0;function Id(){return dC}function Ed(n){dC=n}function tN(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=qE(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Cd(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Nu(n,e,t){hC(n,e,3,t)}function Ou(n,e,t,r){(n[fe]&3)===t&&hC(n,e,t,r)}function am(n,e){let t=n[fe];(t&3)===e&&(t&=16383,t+=1,n[fe]=t)}function hC(n,e,t,r){let i=r!==void 0?n[Zo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[Zo]+=65536),(a<o||o==-1)&&(nN(n,t,e,l),n[Zo]=(n[Zo]&4294901760)+l+2),l++}function jI(n,e){jn(4,n,e);let t=Me(null);try{e.call(n)}finally{Me(t),jn(5,n,e)}}function nN(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[fe]>>14<n[Zo]>>16&&(n[fe]&3)===e&&(n[fe]+=16384,jI(a,o)):jI(a,o)}var ts=-1,Zi=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function rN(n){return n instanceof Zi}function iN(n){return(n.flags&8)!==0}function oN(n){return(n.flags&16)!==0}var cm={},Mm=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=ud(r);let i=this.injector.get(e,cm,r);return i!==cm||t===cm?i:this.parentInjector.get(e,t,r)}};function fC(n){return n!==ts}function Gu(n){return n&32767}function sN(n){return n>>16}function Wu(n,e){let t=sN(n),r=e;for(;t>0;)r=r[fs],t--;return r}var Rm=!0;function Ku(n){let e=Rm;return Rm=n,e}var aN=256,pC=aN-1,mC=5,cN=0,Un={};function lN(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ba)&&(r=t[Ba]),r==null&&(r=t[Ba]=cN++);let i=r&pC,o=1<<i;e.data[n+(i>>mC)]|=o}function Qu(n,e){let t=gC(n,e);if(t!==-1)return t;let r=e[we];r.firstCreatePass&&(n.injectorIndex=e.length,lm(r.data,n),lm(e,null),lm(r.blueprint,null));let i=Lg(n,e),o=n.injectorIndex;if(fC(i)){let s=Gu(i),a=Wu(i,e),l=a[we].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=i,o}function lm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function gC(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Lg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=bC(i),r===null)return ts;if(t++,i=i[fs],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ts}function Pm(n,e,t){lN(n,e,t)}function uN(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(AE(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function vC(n,e,t){if(t&Ee.Optional||n!==void 0)return n;wg(e,"NodeInjector")}function yC(n,e,t,r){if(t&Ee.Optional&&r===void 0&&(r=null),!(t&(Ee.Self|Ee.Host))){let i=n[os],o=Gt(void 0);try{return i?i.get(e,r,t&Ee.Optional):EE(e,r,t&Ee.Optional)}finally{Gt(o)}}return vC(r,e,t)}function _C(n,e,t,r=Ee.Default,i){if(n!==null){if(e[fe]&2048&&!(r&Ee.Self)){let s=pN(n,e,t,r,Un);if(s!==Un)return s}let o=wC(n,e,t,r,Un);if(o!==Un)return o}return yC(e,t,r,i)}function wC(n,e,t,r,i){let o=hN(t);if(typeof o=="function"){if(!sC(e,n,r))return r&Ee.Host?vC(i,t,r):yC(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&Ee.Optional))wg(t);else return s}finally{uC()}}else if(typeof o=="number"){let s=null,a=gC(n,e),l=ts,u=r&Ee.Host?e[Hn][Mn]:null;for((a===-1||r&Ee.SkipSelf)&&(l=a===-1?Lg(n,e):e[a+8],l===ts||!BI(r,!1)?a=-1:(s=e[we],a=Gu(l),e=Wu(l,e)));a!==-1;){let h=e[we];if(UI(o,a,h.data)){let p=dN(a,e,t,s,r,u);if(p!==Un)return p}l=e[a+8],l!==ts&&BI(r,e[we].data[a+8]===u)&&UI(o,a,e)?(s=h,a=Gu(l),e=Wu(l,e)):a=-1}}return i}function dN(n,e,t,r,i,o){let s=e[we],a=s.data[n+8],l=r==null?md(a)&&Rm:r!=s&&(a.type&3)!==0,u=i&Ee.Host&&o===a,h=ku(a,s,t,l,u);return h!==null?Ji(e,s,h,a):Un}function ku(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,u=n.directiveEnd,h=o>>20,p=r?a:a+h,_=i?a+h:u;for(let w=p;w<_;w++){let x=s[w];if(w<l&&t===x||w>=l&&x.type===t)return w}if(i){let w=s[l];if(w&&ri(w)&&w.type===t)return l}return null}function Ji(n,e,t,r){let i=n[t],o=e.data;if(rN(i)){let s=i;s.resolving&&$R(BR(o[t]));let a=Ku(s.canSeeViewProviders);s.resolving=!0;let l,u=s.injectImpl?Gt(s.injectImpl):null,h=sC(n,r,Ee.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&tN(t,o[t],e)}finally{u!==null&&Gt(u),Ku(a),s.resolving=!1,uC()}}return i}function hN(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ba)?n[Ba]:void 0;return typeof e=="number"?e>=0?e&pC:fN:e}function UI(n,e,t){let r=1<<n;return!!(t[e+(n>>mC)]&r)}function BI(n,e){return!(n&Ee.Self)&&!(n&Ee.Host&&e)}var zi=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return _C(this._tNode,this._lView,e,ud(r),t)}};function fN(){return new zi(St(),xe())}function Rn(n){return Ka(()=>{let e=n.prototype.constructor,t=e[Vu]||Nm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Vu]||Nm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Nm(n){return vE(n)?()=>{let e=Nm(Ut(n));return e&&e()}:Gi(n)}function pN(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[fe]&2048&&!(s[fe]&512);){let a=wC(o,s,t,r|Ee.Self,Un);if(a!==Un)return a;let l=o.parent;if(!l){let u=s[$E];if(u){let h=u.get(t,Un,r);if(h!==Un)return h}l=bC(s),s=s[fs]}o=l}return i}function bC(n){let e=n[we],t=e.type;return t===2?e.declTNode:t===1?n[Mn]:null}function Vg(n){return uN(St(),n)}function $I(n,e=null,t=null,r){let i=IC(n,e,t,r);return i.resolveInjectorInitializers(),i}function IC(n,e=null,t=null,r,i=new Set){let o=[t||Wt,vP(n)];return r=r||(typeof n=="object"?void 0:Bt(n)),new za(o,e||Tg(),r||null,i)}var yt=class n{static{this.THROW_IF_NOT_FOUND=$a}static{this.NULL=new Bu}static create(e,t){if(Array.isArray(e))return $I({name:""},t,e,"");{let r=e.name??"";return $I({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=K({token:n,providedIn:"any",factory:()=>Z(TE)})}static{this.__NG_ELEMENT_ID__=-1}};var mN=new W("");mN.__NG_ELEMENT_ID__=n=>{let e=St();if(e===null)throw new te(204,!1);if(e.type&2)return e.value;if(n&Ee.Optional)return null;throw new te(204,!1)};var gN="ngOriginalError";function um(n){return n[gN]}var EC=!0,ci=(()=>{class n{static{this.__NG_ELEMENT_ID__=vN}static{this.__NG_ENV_ID__=t=>t}}return n})(),Om=class extends ci{constructor(e){super(),this._lView=e}onDestroy(e){return XE(this._lView,e),()=>FP(this._lView,e)}};function vN(){return new Om(xe())}var li=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new qe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=K({token:n,providedIn:"root",factory:()=>new n})}}return n})();var km=class extends We{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,BE()&&(this.destroyRef=L(ci,{optional:!0})??void 0,this.pendingTasks=L(li,{optional:!0})??void 0)}emit(e){let t=Me(null);try{super.next(e)}finally{Me(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof $e&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},tt=km;function Yu(...n){}function CC(n){let e,t;function r(){n=Yu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function HI(n){return queueMicrotask(()=>n()),()=>{n=Yu}}var jg="isAngularZone",Zu=jg+"_ID",yN=0,Oe=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tt(!1),this.onMicrotaskEmpty=new tt(!1),this.onStable=new tt(!1),this.onError=new tt(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=EC}=e;if(typeof Zone>"u")throw new te(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,bN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(jg)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new te(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new te(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,_N,Yu,Yu);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},_N={};function Ug(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function wN(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){CC(()=>{n.callbackScheduled=!1,Fm(n),n.isCheckStableRunning=!0,Ug(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Fm(n)}function bN(n){let e=()=>{wN(n)},t=yN++;n._inner=n._inner.fork({name:"angular",properties:{[jg]:!0,[Zu]:t,[Zu+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(IN(l))return r.invokeTask(o,s,a,l);try{return zI(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),qI(n)}},onInvoke:(r,i,o,s,a,l,u)=>{try{return zI(n),r.invoke(o,s,a,l,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!EN(l)&&e(),qI(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Fm(n),Ug(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Fm(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function zI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function qI(n){n._nesting--,Ug(n)}var Lm=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tt,this.onMicrotaskEmpty=new tt,this.onStable=new tt,this.onError=new tt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function IN(n){return DC(n,"__ignore_ng_zone__")}function EN(n){return DC(n,"__scheduler_tick__")}function DC(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var _r=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&um(e);for(;t&&um(t);)t=um(t);return t||null}},CN=new W("",{providedIn:"root",factory:()=>{let n=L(Oe),e=L(_r);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function DN(){return ps(St(),xe())}function ps(n,e){return new At(hn(n,e))}var At=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=DN}}return n})();function TN(n){return n instanceof At?n.nativeElement:n}function xN(){return this._results[Symbol.iterator]()}var Vm=class n{get changes(){return this._changes??=new tt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=xN)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=XR(e);(this._changesDetected=!JR(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function TC(n){return(n.flags&128)===128}var xC=new Map,SN=0;function AN(){return SN++}function MN(n){xC.set(n[pd],n)}function jm(n){xC.delete(n[pd])}var GI="__ngContext__";function ii(n,e){ei(e)?(n[GI]=e[pd],MN(e)):n[GI]=e}function SC(n){return MC(n[qa])}function AC(n){return MC(n[Dn])}function MC(n){for(;n!==null&&!Cr(n);)n=n[Dn];return n}var Um;function RC(n){Um=n}function PC(){if(Um!==void 0)return Um;if(typeof document<"u")return document;throw new te(210,!1)}var Bg=new W("",{providedIn:"root",factory:()=>RN}),RN="ng",$g=new W(""),fn=new W("",{providedIn:"platform",factory:()=>"unknown"});var Hg=new W("",{providedIn:"root",factory:()=>PC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var PN="h",NN="b";var ON=()=>null;function zg(n,e,t=!1){return ON(n,e,t)}var NC=!1,kN=new W("",{providedIn:"root",factory:()=>NC});var Tu;function FN(){if(Tu===void 0&&(Tu=null,vr.trustedTypes))try{Tu=vr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Tu}function Dd(n){return FN()?.createHTML(n)||n}var xu;function OC(){if(xu===void 0&&(xu=null,vr.trustedTypes))try{xu=vr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return xu}function WI(n){return OC()?.createHTML(n)||n}function KI(n){return OC()?.createScriptURL(n)||n}var Ju=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mE})`}};function no(n){return n instanceof Ju?n.changingThisBreaksApplicationSecurity:n}function Td(n,e){let t=LN(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${mE})`)}return t===e}function LN(n){return n instanceof Ju&&n.getTypeName()||null}function VN(n){let e=new $m(n);return jN()?new Bm(e):e}var Bm=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Dd(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},$m=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Dd(e),t}};function jN(){try{return!!new window.DOMParser().parseFromString(Dd(""),"text/html")}catch{return!1}}var UN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function qg(n){return n=String(n),n.match(UN)?n:"unsafe:"+n}function Dr(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Ya(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var kC=Dr("area,br,col,hr,img,wbr"),FC=Dr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),LC=Dr("rp,rt"),BN=Ya(LC,FC),$N=Ya(FC,Dr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),HN=Ya(LC,Dr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),QI=Ya(kC,$N,HN,BN),VC=Dr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zN=Dr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qN=Dr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),GN=Ya(VC,zN,qN),WN=Dr("script,style,template"),Hm=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=YN(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=QN(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=YI(e).toLowerCase();if(!QI.hasOwnProperty(t))return this.sanitizedSomething=!0,!WN.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!GN.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;VC[a]&&(l=qg(l)),this.buf.push(" ",s,'="',ZI(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=YI(e).toLowerCase();QI.hasOwnProperty(t)&&!kC.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(ZI(e))}};function KN(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function QN(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw jC(e);return e}function YN(n){let e=n.firstChild;if(e&&KN(n,e))throw jC(e);return e}function YI(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function jC(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var ZN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,JN=/([^\#-~ |!])/g;function ZI(n){return n.replace(/&/g,"&amp;").replace(ZN,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(JN,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Su;function UC(n,e){let t=null;try{Su=Su||VN(n);let r=e?String(e):"";t=Su.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=Su.getInertBodyElement(r)}while(r!==o);let a=new Hm().sanitizeChildren(JI(t)||t);return Dd(a)}finally{if(t){let r=JI(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function JI(n){return"content"in n&&XN(n)?n.content:null}function XN(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Za=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Za||{});function ro(n){let e=Gg();return e?WI(e.sanitize(Za.HTML,n)||""):Td(n,"HTML")?WI(no(n)):UC(PC(),qi(n))}function Tr(n){let e=Gg();return e?e.sanitize(Za.URL,n)||"":Td(n,"URL")?no(n):qg(qi(n))}function eO(n){let e=Gg();if(e)return KI(e.sanitize(Za.RESOURCE_URL,n)||"");if(Td(n,"ResourceURL"))return KI(no(n));throw new te(904,!1)}function tO(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?eO:Tr}function BC(n,e,t){return tO(e,t)(n)}function Gg(){let n=xe();return n&&n[$n].sanitizer}var nO=/^>|^->|<!--|-->|--!>|<!-$/g,rO=/(<|>)/g,iO="\u200B$1\u200B";function oO(n){return n.replace(nO,e=>e.replace(rO,iO))}function $C(n){return n.ownerDocument.defaultView}function Gn(n){return n.ownerDocument}function HC(n){return n instanceof Function?n():n}function sO(n){return(n??L(yt)).get(fn)==="browser"}var wr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(wr||{}),aO;function Wg(n,e){return aO(n,e)}function Jo(n,e,t,r,i){if(r!=null){let o,s=!1;Cr(r)?o=r:ei(r)&&(s=!0,r=r[Er]);let a=zn(r);n===0&&t!==null?i==null?KC(e,t,a):Xu(e,t,a,i||null,!0):n===1&&t!==null?Xu(e,t,a,i||null,!0):n===2?EO(e,a,s):n===3&&e.destroyNode(a),o!=null&&DO(e,n,o,t,i)}}function cO(n,e){return n.createText(e)}function lO(n,e,t){n.setValue(e,t)}function uO(n,e){return n.createComment(oO(e))}function zC(n,e,t){return n.createElement(e,t)}function dO(n,e){qC(n,e),e[Er]=null,e[Mn]=null}function hO(n,e,t,r,i,o){r[Er]=i,r[Mn]=e,Sd(n,r,t,1,i,o)}function qC(n,e){e[$n].changeDetectionScheduler?.notify(9),Sd(n,e,e[nt],2,null,null)}function fO(n){let e=n[qa];if(!e)return dm(n[we],n);for(;e;){let t=null;if(ei(e))t=e[qa];else{let r=e[Zt];r&&(t=r)}if(!t){for(;e&&!e[Dn]&&e!==n;)ei(e)&&dm(e[we],e),e=e[xt];e===null&&(e=n),ei(e)&&dm(e[we],e),t=e&&e[Dn]}e=t}}function pO(n,e,t,r){let i=Zt+r,o=t.length;r>0&&(t[i-1][Dn]=e),r<o-Zt?(e[Dn]=t[i],DE(t,Zt+r,e)):(t.push(e),e[Dn]=null),e[xt]=t;let s=e[Wi];s!==null&&t!==s&&GC(s,e);let a=e[yr];a!==null&&a.insertView(n),Sm(e),e[fe]|=128}function GC(n,e){let t=n[ss],r=e[xt];if(ei(r))n[fe]|=qu.HasTransplantedViews;else{let i=r[xt][Hn];e[Hn]!==i&&(n[fe]|=qu.HasTransplantedViews)}t===null?n[ss]=[e]:t.push(e)}function Kg(n,e){let t=n[ss],r=t.indexOf(e);t.splice(r,1)}function zm(n,e){if(n.length<=Zt)return;let t=Zt+e,r=n[t];if(r){let i=r[Wi];i!==null&&i!==n&&Kg(i,r),e>0&&(n[t-1][Dn]=r[Dn]);let o=Uu(n,Zt+e);dO(r[we],r);let s=o[yr];s!==null&&s.detachView(o[we]),r[xt]=null,r[Dn]=null,r[fe]&=-129}return r}function WC(n,e){if(!(e[fe]&256)){let t=e[nt];t.destroyNode&&Sd(n,e,t,3,null,null),fO(e)}}function dm(n,e){if(e[fe]&256)return;let t=Me(null);try{e[fe]&=-129,e[fe]|=256,e[ln]&&Fp(e[ln]),gO(n,e),mO(n,e),e[we].type===1&&e[nt].destroy();let r=e[Wi];if(r!==null&&Cr(e[xt])){r!==e[xt]&&Kg(r,e);let i=e[yr];i!==null&&i.detachView(n)}jm(e)}finally{Me(t)}}function mO(n,e){let t=n.cleanup,r=e[Hu];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[Hu]=null);let i=e[Xr];if(i!==null){e[Xr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function gO(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Zi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];jn(4,a,l);try{l.call(a)}finally{jn(5,a,l)}}else{jn(4,i,o);try{o.call(i)}finally{jn(5,i,o)}}}}}function vO(n,e,t){return yO(n,e.parent,t)}function yO(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Er];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===Bn.None||o===Bn.Emulated)return null}return hn(r,t)}}function Xu(n,e,t,r,i){n.insertBefore(e,t,r,i)}function KC(n,e,t){n.appendChild(e,t)}function XI(n,e,t,r,i){r!==null?Xu(n,e,t,r,i):KC(n,e,t)}function QC(n,e){return n.parentNode(e)}function _O(n,e){return n.nextSibling(e)}function wO(n,e,t){return IO(n,e,t)}function bO(n,e,t){return n.type&40?hn(n,t):null}var IO=bO,eE;function xd(n,e,t,r){let i=vO(n,r,e),o=e[nt],s=r.parent||e[Mn],a=wO(s,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)XI(o,i,t[l],a,!1);else XI(o,i,t,a,!1);eE!==void 0&&eE(o,r,e,t,i)}function Ua(n,e){if(e!==null){let t=e.type;if(t&3)return hn(e,n);if(t&4)return qm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Ua(n,r);{let i=n[e.index];return Cr(i)?qm(-1,i):zn(i)}}else{if(t&128)return Ua(n,e.next);if(t&32)return Wg(e,n)()||zn(n[e.index]);{let r=YC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Qi(n[Hn]);return Ua(i,r)}else return Ua(n,e.next)}}}return null}function YC(n,e){if(e!==null){let r=n[Hn][Mn],i=e.projection;return r.projection[i]}return null}function qm(n,e){let t=Zt+n+1;if(t<e.length){let r=e[t],i=r[we].firstChild;if(i!==null)return Ua(r,i)}return e[Ki]}function EO(n,e,t){n.removeChild(null,e,t)}function Qg(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&e===0&&(a&&ii(zn(a),r),t.flags|=2),(t.flags&32)!==32)if(l&8)Qg(n,e,t.child,r,i,o,!1),Jo(e,n,i,a,o);else if(l&32){let u=Wg(t,r),h;for(;h=u();)Jo(e,n,i,h,o);Jo(e,n,i,a,o)}else l&16?CO(n,e,r,t,i,o):Jo(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Sd(n,e,t,r,i,o){Qg(t,r,n.firstChild,e,i,o,!1)}function CO(n,e,t,r,i,o){let s=t[Hn],l=s[Mn].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let h=l[u];Jo(e,n,i,h,o)}else{let u=l,h=s[xt];TC(r)&&(u.flags|=128),Qg(n,e,u,h,i,o,!0)}}function DO(n,e,t,r,i){let o=t[Ki],s=zn(t);o!==s&&Jo(e,n,r,o,i);for(let a=Zt;a<t.length;a++){let l=t[a];Sd(l[we],l,n,e,r,o)}}function TO(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:wr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=wr.Important),n.setStyle(t,r,i,o))}}function xO(n,e,t){n.setAttribute(e,"style",t)}function ZC(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function JC(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Im(n,e,r),i!==null&&ZC(n,e,i),o!==null&&xO(n,e,o)}var Pn={};function y(n=1){XC(ut(),xe(),ai()+n,!1)}function XC(n,e,t,r){if(!r)if((e[fe]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Nu(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Ou(e,o,0,t)}Yi(t)}function J(n,e=Ee.Default){let t=xe();if(t===null)return Z(n,e);let r=St();return _C(r,t,Ut(n),e)}function eD(){let n="invalid";throw new Error(n)}function tD(n,e,t,r,i,o){let s=Me(null);try{let a=null;i&ti.SignalBased&&(a=e[r][fr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&ti.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):zE(e,a,r,o)}finally{Me(s)}}function SO(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Yi(~i);else{let o=i,s=t[++r],a=t[++r];KP(s,o);let l=e[o];a(2,l)}}}finally{Yi(-1)}}function Ad(n,e,t,r,i,o,s,a,l,u,h){let p=e.blueprint.slice();return p[Er]=i,p[fe]=r|4|128|8|64,(u!==null||n&&n[fe]&2048)&&(p[fe]|=2048),ZE(p),p[xt]=p[fs]=n,p[Tn]=t,p[$n]=s||n&&n[$n],p[nt]=a||n&&n[nt],p[os]=l||n&&n[os]||null,p[Mn]=o,p[pd]=AN(),p[$u]=h,p[$E]=u,p[Hn]=e.type==2?n[Hn]:p,p}function Ja(n,e,t,r,i){let o=n.data[e];if(o===null)o=AO(n,e,t,r,i),WP()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=HP();o.injectorIndex=s===null?-1:s.injectorIndex}return to(o,!0),o}function AO(n,e,t,r,i){let o=nC(),s=Mg(),a=s?o:o&&o.parent,l=n.data[e]=kO(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function nD(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function rD(n,e,t,r,i){let o=ai(),s=r&2;try{Yi(-1),s&&e.length>Jt&&XC(n,e,Jt,!1),jn(s?2:0,i),t(r,i)}finally{Yi(o),jn(s?3:1,i)}}function Yg(n,e,t){if(xg(e)){let r=Me(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{Me(r)}}}function Zg(n,e,t){tC()&&(BO(n,e,t,hn(t,e)),(t.flags&64)===64&&aD(n,e,t))}function Jg(n,e,t=hn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function iD(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Xg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Xg(n,e,t,r,i,o,s,a,l,u,h){let p=Jt+r,_=p+i,w=MO(p,_),x=typeof u=="function"?u():u;return w[we]={type:n,blueprint:w,template:t,queries:null,viewQuery:a,declTNode:e,data:w.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:x,incompleteFirstPass:!1,ssrId:h}}function MO(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Pn);return t}function RO(n,e,t,r){let o=r.get(kN,NC)||t===Bn.ShadowDom,s=n.selectRootElement(e,o);return PO(s),s}function PO(n){NO(n)}var NO=()=>null;function OO(n,e,t,r){let i=uD(e);i.push(t),n.firstCreatePass&&dD(n).push(r,i.length-1)}function kO(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return UP()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function tE(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,l=ti.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let u=o;if(i!==null){if(!i.hasOwnProperty(o))continue;u=i[o]}n===0?nE(r,t,u,a,l):nE(r,t,u,a)}return r}function nE(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function FO(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],l=null,u=null;for(let h=r;h<i;h++){let p=o[h],_=t?t.get(p):null,w=_?_.inputs:null,x=_?_.outputs:null;l=tE(0,p.inputs,h,l,w),u=tE(1,p.outputs,h,u,x);let k=l!==null&&s!==null&&!Cg(e)?JO(l,h,s):null;a.push(k)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}function LO(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function oD(n,e,t,r,i,o,s,a){let l=hn(e,t),u=e.inputs,h;!a&&u!=null&&(h=u[r])?(tv(n,t,h,r,i),md(e)&&VO(t,e.index)):e.type&3?(r=LO(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(l,r,i)):e.type&12}function VO(n,e){let t=si(e,n);t[fe]&16||(t[fe]|=64)}function ev(n,e,t,r){if(tC()){let i=r===null?null:{"":-1},o=HO(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&sD(n,e,t,s,i,a),i&&zO(t,r,i)}t.mergedAttrs=Ha(t.mergedAttrs,t.attrs)}function sD(n,e,t,r,i,o){for(let u=0;u<r.length;u++)Pm(Qu(t,e),n,r[u].type);GO(t,n.data.length,r.length);for(let u=0;u<r.length;u++){let h=r[u];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,l=nD(n,e,r.length,null);for(let u=0;u<r.length;u++){let h=r[u];t.mergedAttrs=Ha(t.mergedAttrs,h.hostAttrs),WO(n,t,e,l,h),qO(l,h,i),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}FO(n,t,o)}function jO(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;UO(s)!=a&&s.push(a),s.push(t,r,o)}}function UO(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function BO(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;md(t)&&KO(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Qu(t,e),ii(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let l=n.data[a],u=Ji(e,n,a,t);if(ii(u,e),s!==null&&ZO(e,a-i,u,l,t,s),ri(l)){let h=si(t.index,e);h[Tn]=Ji(e,n,a,t)}}}function aD(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=QP();try{Yi(o);for(let a=r;a<i;a++){let l=n.data[a],u=e[a];Am(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&$O(l,u)}}finally{Yi(-1),Am(s)}}function $O(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function HO(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(cP(e,s.selectors,!1))if(r||(r=[]),ri(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let l=a.length;Gm(n,e,l)}else r.unshift(s),Gm(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Gm(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function zO(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new te(-301,!1);r.push(e[i],o)}}}function qO(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ri(e)&&(t[""]=n)}}function GO(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function WO(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Gi(i.type,!0)),s=new Zi(o,ri(i),J);n.blueprint[r]=s,t[r]=s,jO(n,e,r,nD(n,t,i.hostVars,Pn),i)}function KO(n,e,t){let r=hn(e,n),i=iD(t),o=n[$n].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=Md(n,Ad(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function QO(n,e,t,r,i,o){let s=hn(n,e);YO(e[nt],s,o,n.value,t,r,i)}function YO(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?qi(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function ZO(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],u=s[a++],h=s[a++],p=s[a++];tD(r,t,l,u,h,p)}}function JO(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function cD(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function lD(n,e){let t=n.contentQueries;if(t!==null){let r=Me(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Ng(o),a.contentQueries(2,e[s],s)}}}finally{Me(r)}}}function Md(n,e){return n[qa]?n[FI][Dn]=e:n[qa]=e,n[FI]=e,e}function Wm(n,e,t){Ng(0);let r=Me(null);try{e(n,t)}finally{Me(r)}}function uD(n){return n[Hu]??=[]}function dD(n){return n.cleanup??=[]}function hD(n,e){let t=n[os],r=t?t.get(_r,null):null;r&&r.handleError(e)}function tv(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],l=t[o++],u=e[s],h=n.data[s];tD(h,u,r,a,l,i)}}function fD(n,e,t){let r=QE(e,n);lO(n[nt],r,t)}function XO(n,e){let t=si(e,n),r=t[we];ek(r,t);let i=t[Er];i!==null&&t[$u]===null&&(t[$u]=zg(i,t[os])),nv(r,t,t[Tn])}function ek(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function nv(n,e,t){Og(e);try{let r=n.viewQuery;r!==null&&Wm(1,r,t);let i=n.template;i!==null&&rD(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[yr]?.finishViewCreation(n),n.staticContentQueries&&lD(n,e),n.staticViewQueries&&Wm(2,n.viewQuery,t);let o=n.components;o!==null&&tk(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[fe]&=-5,kg()}}function tk(n,e){for(let t=0;t<e.length;t++)XO(n,e[t])}function nk(n,e,t,r){let i=Me(null);try{let o=e.tView,a=n[fe]&4096?4096:16,l=Ad(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];l[Wi]=u;let h=n[yr];return h!==null&&(l[yr]=h.createEmbeddedView(o)),nv(o,l,t),l}finally{Me(i)}}function rE(n,e){return!e||e.firstChild===null||TC(n)}function rk(n,e,t,r=!0){let i=e[we];if(pO(i,e,n,t),r){let s=qm(t,n),a=e[nt],l=QC(a,n[Ki]);l!==null&&hO(i,n[Mn],a,e,l,s)}let o=e[$u];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function ed(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(zn(o)),Cr(o)&&ik(o,r);let s=t.type;if(s&8)ed(n,e,t.child,r);else if(s&32){let a=Wg(t,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=YC(e,t);if(Array.isArray(a))r.push(...a);else{let l=Qi(e[Hn]);ed(l[we],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function ik(n,e){for(let t=Zt;t<n.length;t++){let r=n[t],i=r[we].firstChild;i!==null&&ed(r[we],r,i,e)}n[Ki]!==n[Er]&&e.push(n[Ki])}var pD=[];function ok(n){return n[ln]??sk(n)}function sk(n){let e=pD.pop()??Object.create(ck);return e.lView=n,e}function ak(n){n.lView[ln]!==n&&(n.lView=null,pD.push(n))}var ck=me(U({},Oa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{yd(n.lView)},consumerOnSignalRead(){this.lView[ln]=this}});function lk(n){let e=n[ln]??Object.create(uk);return e.lView=n,e}var uk=me(U({},Oa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Qi(n.lView);for(;e&&!mD(e[we]);)e=Qi(e);e&&JE(e)},consumerOnSignalRead(){this.lView[ln]=this}});function mD(n){return n.type!==2}var dk=100;function gD(n,e=!0,t=0){let r=n[$n],i=r.rendererFactory,o=!1;o||i.begin?.();try{hk(n,t)}catch(s){throw e&&hD(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function hk(n,e){let t=iC();try{VI(!0),Km(n,e);let r=0;for(;vd(n);){if(r===dk)throw new te(103,!1);r++,Km(n,1)}}finally{VI(t)}}function fk(n,e,t,r){let i=e[fe];if((i&256)===256)return;let o=!1,s=!1;!o&&e[$n].inlineEffectRunner?.flush(),Og(e);let a=!0,l=null,u=null;o||(mD(n)?(u=ok(e),l=Yl(u)):Bb()===null?(a=!1,u=lk(e),l=Yl(u)):e[ln]&&(Fp(e[ln]),e[ln]=null));try{ZE(e),GP(n.bindingStartIndex),t!==null&&rD(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let w=n.preOrderCheckHooks;w!==null&&Nu(e,w,null)}else{let w=n.preOrderHooks;w!==null&&Ou(e,w,0,null),am(e,0)}if(s||pk(e),vD(e,0),n.contentQueries!==null&&lD(n,e),!o)if(h){let w=n.contentCheckHooks;w!==null&&Nu(e,w)}else{let w=n.contentHooks;w!==null&&Ou(e,w,1),am(e,1)}SO(n,e);let p=n.components;p!==null&&_D(e,p,0);let _=n.viewQuery;if(_!==null&&Wm(2,_,r),!o)if(h){let w=n.viewCheckHooks;w!==null&&Nu(e,w)}else{let w=n.viewHooks;w!==null&&Ou(e,w,2),am(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[sm]){for(let w of e[sm])w();e[sm]=null}o||(e[fe]&=-73)}catch(h){throw o||yd(e),h}finally{u!==null&&(Op(u,l),a&&ak(u)),kg()}}function vD(n,e){for(let t=SC(n);t!==null;t=AC(t))for(let r=Zt;r<t.length;r++){let i=t[r];yD(i,e)}}function pk(n){for(let e=SC(n);e!==null;e=AC(e)){if(!(e[fe]&qu.HasTransplantedViews))continue;let t=e[ss];for(let r=0;r<t.length;r++){let i=t[r];JE(i)}}}function mk(n,e,t){let r=si(e,n);yD(r,t)}function yD(n,e){Ag(n)&&Km(n,e)}function Km(n,e){let r=n[we],i=n[fe],o=n[ln],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&kp(o)),s||=!1,o&&(o.dirty=!1),n[fe]&=-9217,s)fk(r,n,r.template,n[Tn]);else if(i&8192){vD(n,1);let a=r.components;a!==null&&_D(n,a,1)}}function _D(n,e,t){for(let r=0;r<e.length;r++)mk(n,e[r],t)}function rv(n,e){let t=iC()?64:1088;for(n[$n].changeDetectionScheduler?.notify(e);n;){n[fe]|=t;let r=Qi(n);if(Tm(n)&&!r)return n;n=r}return null}var Xi=class{get rootNodes(){let e=this._lView,t=e[we];return ed(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Tn]}set context(e){this._lView[Tn]=e}get destroyed(){return(this._lView[fe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[xt];if(Cr(e)){let t=e[zu],r=t?t.indexOf(this):-1;r>-1&&(zm(e,r),Uu(t,r))}this._attachedToViewContainer=!1}WC(this._lView[we],this._lView)}onDestroy(e){XE(this._lView,e)}markForCheck(){rv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[fe]&=-129}reattach(){Sm(this._lView),this._lView[fe]|=128}detectChanges(){this._lView[fe]|=1024,gD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Tm(this._lView),t=this._lView[Wi];t!==null&&!e&&Kg(t,this._lView),qC(this._lView[we],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new te(902,!1);this._appRef=e;let t=Tm(this._lView),r=this._lView[Wi];r!==null&&!t&&GC(r,this._lView),Sm(this._lView)}},qn=(()=>{class n{static{this.__NG_ELEMENT_ID__=yk}}return n})(),gk=qn,vk=class extends gk{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=nk(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Xi(i)}};function yk(){return Rd(St(),xe())}function Rd(n,e){return n.type&4?new vk(e,n,ps(n,e)):null}var i7=new RegExp(`^(\\d+)*(${NN}|${PN})*(.*)`);var _k=()=>null;function iE(n,e){return _k(n,e)}var cs=class{},Pd=new W("",{providedIn:"root",factory:()=>!1});var wD=new W(""),bD=new W(""),Qm=class{},td=class{};function wk(n){let e=Error(`No component factory found for ${Bt(n)}.`);return e[bk]=n,e}var bk="ngComponent";var Ym=class{resolveComponentFactory(e){throw wk(e)}},ls=class{static{this.NULL=new Ym}},us=class{},pn=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>Ik()}}return n})();function Ik(){let n=xe(),e=St(),t=si(e.index,n);return(ei(t)?t:n)[nt]}var Ek=(()=>{class n{static{this.\u0275prov=K({token:n,providedIn:"root",factory:()=>null})}}return n})();function nd(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=ym(i,a);else if(o==2){let l=a,u=e[++s];r=ym(r,l+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var rd=class extends ls{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ni(e);return new ds(t,this.ngModule)}};function oE(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:ti.None;e?t.push({propName:s,templateName:r,isSignal:(a&ti.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function Ck(n){let e=n.toLowerCase();return e==="svg"?KE:e==="math"?PP:null}var ds=class extends td{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=oE(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return oE(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=hP(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=Me(null);try{i=i||this.ngModule;let s=i instanceof $t?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Mm(e,s):e,l=a.get(us,null);if(l===null)throw new te(407,!1);let u=a.get(Ek,null),h=a.get(cs,null),p={rendererFactory:l,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:h},_=l.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",x=r?RO(_,r,this.componentDef.encapsulation,a):zC(_,w,Ck(w)),k=512;this.componentDef.signals?k|=4096:this.componentDef.onPush||(k|=16);let O=null;x!==null&&(O=zg(x,a,!0));let $=Xg(0,null,null,1,0,null,null,null,null,null,null),Y=Ad(null,$,null,k,null,null,p,_,a,null,O);Og(Y);let Q,de,Ae=null;try{let le=this.componentDef,D,b=null;le.findHostDirectiveDefs?(D=[],b=new Map,le.findHostDirectiveDefs(le,D,b),D.push(le)):D=[le];let E=Dk(Y,x);Ae=Tk(E,x,le,D,Y,p,_),de=YE($,Jt),x&&Ak(_,le,x,r),t!==void 0&&Mk(de,this.ngContentSelectors,t),Q=Sk(Ae,le,D,b,Y,[Rk]),nv($,Y,null)}catch(le){throw Ae!==null&&jm(Ae),jm(Y),le}finally{kg()}return new Zm(this.componentType,Q,ps(de,Y),Y,de)}finally{Me(o)}}},Zm=class extends Qm{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Xi(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;tv(o[we],o,i,e,t),this.previousInputValues.set(e,t);let s=si(this._tNode.index,o);rv(s,1)}}get injector(){return new zi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Dk(n,e){let t=n[we],r=Jt;return n[r]=e,Ja(t,r,2,"#host",null)}function Tk(n,e,t,r,i,o,s){let a=i[we];xk(r,n,e,s);let l=null;e!==null&&(l=zg(e,i[os]));let u=o.rendererFactory.createRenderer(e,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let p=Ad(i,iD(t),null,h,i[n.index],n,o,u,null,null,l);return a.firstCreatePass&&Gm(a,n,r.length-1),Md(i,p),i[n.index]=p}function xk(n,e,t,r){for(let i of n)e.mergedAttrs=Ha(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(nd(e,e.mergedAttrs,!0),t!==null&&JC(r,t,e))}function Sk(n,e,t,r,i,o){let s=St(),a=i[we],l=hn(s,i);sD(a,i,s,t,null,r);for(let h=0;h<t.length;h++){let p=s.directiveStart+h,_=Ji(i,a,p,s);ii(_,i)}aD(a,i,s),l&&ii(l,i);let u=Ji(i,a,s.directiveStart+s.componentOffset,s);if(n[Tn]=i[Tn]=u,o!==null)for(let h of o)h(u,e);return Yg(a,s,i),u}function Ak(n,e,t,r){if(r)Im(n,t,["ng-version","18.2.14"]);else{let{attrs:i,classes:o}=fP(e.selectors[0]);i&&Im(n,t,i),o&&o.length>0&&ZC(n,t,o.join(" "))}}function Mk(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function Rk(){let n=St();Cd(xe()[we],n)}var Wn=(()=>{class n{static{this.__NG_ELEMENT_ID__=Pk}}return n})();function Pk(){let n=St();return ED(n,xe())}var Nk=Wn,ID=class extends Nk{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ps(this._hostTNode,this._hostLView)}get injector(){return new zi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Lg(this._hostTNode,this._hostLView);if(fC(e)){let t=Wu(e,this._hostLView),r=Gu(e),i=t[we].data[r+8];return new zi(i,t)}else return new zi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=sE(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Zt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=iE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,rE(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!SP(e),a;if(s)a=t;else{let x=t||{};a=x.index,r=x.injector,i=x.projectableNodes,o=x.environmentInjector||x.ngModuleRef}let l=s?e:new ds(ni(e)),u=r||this.parentInjector;if(!o&&l.ngModule==null){let k=(s?u:this.parentInjector).get($t,null);k&&(o=k)}let h=ni(l.componentType??{}),p=iE(this._lContainer,h?.id??null),_=p?.firstChild??null,w=l.create(u,i,_,o);return this.insertImpl(w.hostView,a,rE(this._hostTNode,p)),w}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(OP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[xt],u=new ID(l,l[Mn],l[xt]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return rk(s,i,o,r),e.attachToViewContainerRef(),DE(hm(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=sE(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=zm(this._lContainer,t);r&&(Uu(hm(this._lContainer),t),WC(r[we],r))}detach(e){let t=this._adjustIndex(e,-1),r=zm(this._lContainer,t);return r&&Uu(hm(this._lContainer),t)!=null?new Xi(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function sE(n){return n[zu]}function hm(n){return n[zu]||(n[zu]=[])}function ED(n,e){let t,r=e[n.index];return Cr(r)?t=r:(t=cD(r,e,null,n),e[n.index]=t,Md(e,t)),kk(t,e,n,r),new ID(t,n,e)}function Ok(n,e){let t=n[nt],r=t.createComment(""),i=hn(e,n),o=QC(t,i);return Xu(t,o,r,_O(t,i),!1),r}var kk=Vk,Fk=()=>!1;function Lk(n,e,t){return Fk(n,e,t)}function Vk(n,e,t,r){if(n[Ki])return;let i;t.type&8?i=zn(r):i=Ok(e,t),n[Ki]=i}var Jm=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Xm=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)iv(e,t).matches!==null&&this.queries[t].setDirty()}},eg=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=Gk(e):this.predicate=e}},tg=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},ng=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,jk(t,o)),this.matchTNodeWithReadOption(e,t,ku(t,e,o,!1,!1))}else r===qn?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ku(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===At||i===Wn||i===qn&&t.type&4)this.addMatch(t.index,-2);else{let o=ku(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function jk(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function Uk(n,e){return n.type&11?ps(n,e):n.type&4?Rd(n,e):null}function Bk(n,e,t,r){return t===-1?Uk(e,n):t===-2?$k(n,e,r):Ji(n,n[we],t,e)}function $k(n,e,t){if(t===At)return ps(e,n);if(t===qn)return Rd(e,n);if(t===Wn)return ED(e,n)}function CD(n,e,t,r){let i=e[yr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let u=s[l];if(u<0)a.push(null);else{let h=o[u];a.push(Bk(e,h,s[l+1],t.metadata.read))}}i.matches=a}return i.matches}function rg(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=CD(n,e,i,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let u=o[a+1],h=e[-l];for(let p=Zt;p<h.length;p++){let _=h[p];_[Wi]===_[xt]&&rg(_[we],_,u,r)}if(h[ss]!==null){let p=h[ss];for(let _=0;_<p.length;_++){let w=p[_];rg(w[we],w,u,r)}}}}}return r}function Hk(n,e){return n[yr].queries[e].queryList}function zk(n,e,t){let r=new Vm((t&4)===4);return OO(n,e,r,r.destroy),(e[yr]??=new Xm).queries.push(new Jm(r))-1}function qk(n,e,t){let r=ut();return r.firstCreatePass&&(Wk(r,new eg(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),zk(r,xe(),e)}function Gk(n){return n.split(",").map(e=>e.trim())}function Wk(n,e,t){n.queries===null&&(n.queries=new tg),n.queries.track(new ng(e,t))}function iv(n,e){return n.queries.getByIndex(e)}function Kk(n,e){let t=n[we],r=iv(t,e);return r.crossesNgTemplate?rg(t,n,e,[]):CD(t,n,r,e)}var aE=new Set;function io(n){aE.has(n)||(aE.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function DD(n){return typeof n=="function"&&n[fr]!==void 0}function ms(n,e){io("NgSignals");let t=Jb(n),r=t[fr];return e?.equal&&(r.equal=e.equal),t.set=i=>Lp(r,i),t.update=i=>Xb(r,i),t.asReadonly=Qk.bind(t),t}function Qk(){let n=this[fr];if(n.readonlyFn===void 0){let e=()=>this();e[fr]=n,n.readonlyFn=e}return n.readonlyFn}function TD(n){return DD(n)&&typeof n.set=="function"}function Yk(n){return Object.getPrototypeOf(n.prototype).constructor}function en(n){let e=Yk(n.type),t=!0,r=[n];for(;e;){let i;if(ri(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new te(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Au(n.inputs),s.inputTransforms=Au(n.inputTransforms),s.declaredInputs=Au(n.declaredInputs),s.outputs=Au(n.outputs);let a=i.hostBindings;a&&tF(n,a);let l=i.viewQuery,u=i.contentQueries;if(l&&Xk(n,l),u&&eF(n,u),Zk(n,i),NR(n.outputs,i.outputs),ri(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===en&&(t=!1)}}e=Object.getPrototypeOf(e)}Jk(r)}function Zk(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function Jk(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ha(i.hostAttrs,t=Ha(t,i.hostAttrs))}}function Au(n){return n===ns?{}:n===Wt?[]:n}function Xk(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function eF(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function tF(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function ov(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var oi=class{},Ga=class{};var ig=class extends oi{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new rd(this);let o=OE(e);this._bootstrapComponents=HC(o.bootstrap),this._r3Injector=IC(e,t,[{provide:oi,useValue:this},{provide:ls,useValue:this.componentFactoryResolver},...r],Bt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},og=class extends Ga{constructor(e){super(),this.moduleType=e}create(e){return new ig(this.moduleType,e,[])}};var id=class extends oi{constructor(e){super(),this.componentFactoryResolver=new rd(this),this.instance=null;let t=new za([...e.providers,{provide:oi,useValue:this},{provide:ls,useValue:this.componentFactoryResolver}],e.parent||Tg(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Nd(n,e,t=null){return new id({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function xD(n){return rF(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function nF(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function rF(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function SD(n,e,t){return n[e]=t}function br(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function sg(n,e,t,r){let i=br(n,e,t);return br(n,e+1,r)||i}function iF(n,e,t,r,i,o){let s=sg(n,e,t,r);return sg(n,e+2,i,o)||s}function oF(n){return(n.flags&32)===32}function sF(n,e,t,r,i,o,s,a,l){let u=e.consts,h=Ja(e,n,4,s||null,a||null);ev(e,t,h,as(u,l)),Cd(e,h);let p=h.tView=Xg(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function aF(n,e,t,r,i,o,s,a,l,u){let h=t+Jt,p=e.firstCreatePass?sF(h,e,n,r,i,o,s,a,l):e.data[h];to(p,!1);let _=cF(e,n,p,t);Id()&&xd(e,n,_,p),ii(_,n);let w=cD(_,n,_,p);return n[h]=w,Md(n,w),Lk(w,p,n),gd(p)&&Zg(e,n,p),l!=null&&Jg(n,p,u),p}function G(n,e,t,r,i,o,s,a){let l=xe(),u=ut(),h=as(u.consts,o);return aF(l,u,n,e,t,r,i,h,s,a),G}var cF=lF;function lF(n,e,t,r){return Ed(!0),e[nt].createComment("")}var Xo=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Xo||{}),AD=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=K({token:n,providedIn:"root",factory:()=>new n})}}return n})(),ag=class n{constructor(){this.ngZone=L(Oe),this.scheduler=L(cs),this.errorHandler=L(_r,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Xo.EarlyRead,Xo.Write,Xo.MixedReadWrite,Xo.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=K({token:n,providedIn:"root",factory:()=>new n})}},cg=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function sv(n,e){!e?.injector&&fd(sv);let t=e?.injector??L(yt);return sO(t)?(io("NgAfterNextRender"),dF(n,t,e,!0)):hF}function uF(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function dF(n,e,t,r){let i=e.get(AD);i.impl??=e.get(ag);let o=t?.phase??Xo.MixedReadWrite,s=t?.manualCleanup!==!0?e.get(ci):null,a=new cg(i.impl,uF(n,o),r,s);return i.impl.register(a),a}var hF={destroy(){}};function gs(n,e,t,r){let i=xe(),o=_d();if(br(i,o,e)){let s=ut(),a=Fg();QO(a,i,n,e,t,r)}return gs}function fF(n,e,t,r){return br(n,_d(),t)?e+qi(t)+r:Pn}function pF(n,e,t,r,i,o){let s=qP(),a=sg(n,s,t,i);return Pg(2),a?e+qi(t)+r+qi(i)+o:Pn}function Mu(n,e){return n<<17|e<<2}function eo(n){return n>>17&32767}function mF(n){return(n&2)==2}function gF(n,e){return n&131071|e<<17}function lg(n){return n|2}function hs(n){return(n&131068)>>2}function fm(n,e){return n&-131069|e<<2}function vF(n){return(n&1)===1}function ug(n){return n|1}function yF(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=eo(s),l=hs(s);n[r]=t;let u=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Qa(p,h)>0)&&(u=!0)}else h=t;if(i)if(l!==0){let _=eo(n[a+1]);n[r+1]=Mu(_,a),_!==0&&(n[_+1]=fm(n[_+1],r)),n[a+1]=gF(n[a+1],r)}else n[r+1]=Mu(a,0),a!==0&&(n[a+1]=fm(n[a+1],r)),a=r;else n[r+1]=Mu(l,0),a===0?a=r:n[l+1]=fm(n[l+1],r),l=r;u&&(n[r+1]=lg(n[r+1])),cE(n,h,r,!0),cE(n,h,r,!1),_F(e,h,n,r,o),s=Mu(a,l),o?e.classBindings=s:e.styleBindings=s}function _F(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Qa(o,e)>=0&&(t[r+1]=ug(t[r+1]))}function cE(n,e,t,r){let i=n[t+1],o=e===null,s=r?eo(i):hs(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],u=n[s+1];wF(l,e)&&(a=!0,n[s+1]=r?ug(u):lg(u)),s=r?eo(u):hs(u)}a&&(n[t+1]=r?lg(i):ug(i))}function wF(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Qa(n,e)>=0:!1}var Cn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function bF(n){return n.substring(Cn.key,Cn.keyEnd)}function IF(n){return EF(n),MD(n,RD(n,0,Cn.textEnd))}function MD(n,e){let t=Cn.textEnd;return t===e?-1:(e=Cn.keyEnd=CF(n,Cn.key=e,t),RD(n,e,t))}function EF(n){Cn.key=0,Cn.keyEnd=0,Cn.value=0,Cn.valueEnd=0,Cn.textEnd=n.length}function RD(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function CF(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function V(n,e,t){let r=xe(),i=_d();if(br(r,i,e)){let o=ut(),s=Fg();oD(o,s,r,n,e,r[nt],t,!1)}return V}function dg(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";tv(n,t,o[s],s,r)}function Od(n,e,t){return PD(n,e,t,!1),Od}function Ht(n,e){return PD(n,e,null,!0),Ht}function kd(n){TF(PF,DF,n,!0)}function DF(n,e){for(let t=IF(e);t>=0;t=MD(e,t))Eg(n,bF(e),!0)}function PD(n,e,t,r){let i=xe(),o=ut(),s=Pg(2);if(o.firstUpdatePass&&OD(o,n,s,r),e!==Pn&&br(i,s,e)){let a=o.data[ai()];kD(o,a,i,i[nt],n,i[s+1]=OF(e,t),r,s)}}function TF(n,e,t,r){let i=ut(),o=Pg(2);i.firstUpdatePass&&OD(i,null,o,r);let s=xe();if(t!==Pn&&br(s,o,t)){let a=i.data[ai()];if(FD(a,r)&&!ND(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=ym(l,t||"")),dg(i,a,s,t,r)}else NF(i,a,s,s[nt],s[o+1],s[o+1]=RF(n,e,t),r,o)}}function ND(n,e){return e>=n.expandoStartIndex}function OD(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[ai()],s=ND(n,t);FD(o,r)&&e===null&&!s&&(e=!1),e=xF(i,o,e,r),yF(i,o,e,t,s,r)}}function xF(n,e,t,r){let i=YP(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=pm(null,n,e,t,r),t=Wa(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=pm(i,n,e,t,r),o===null){let l=SF(n,e,r);l!==void 0&&Array.isArray(l)&&(l=pm(null,n,e,l[1],r),l=Wa(l,e.attrs,r),AF(n,e,r,l))}else o=MF(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function SF(n,e,t){let r=t?e.classBindings:e.styleBindings;if(hs(r)!==0)return n[eo(r)]}function AF(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[eo(i)]=r}function MF(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Wa(r,s,t)}return Wa(r,e.attrs,t)}function pm(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Wa(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Wa(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Eg(n,s,t?!0:e[++o]))}return n===void 0?null:n}function RF(n,e,t){if(t==null||t==="")return Wt;let r=[],i=no(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function PF(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&Eg(n,r,t)}function NF(n,e,t,r,i,o,s,a){i===Pn&&(i=Wt);let l=0,u=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let _=l<i.length?i[l+1]:void 0,w=u<o.length?o[u+1]:void 0,x=null,k;h===p?(l+=2,u+=2,_!==w&&(x=p,k=w)):p===null||h!==null&&h<p?(l+=2,x=h):(u+=2,x=p,k=w),x!==null&&kD(n,e,t,r,x,k,s,a),h=l<i.length?i[l]:null,p=u<o.length?o[u]:null}}function kD(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let l=n.data,u=l[a+1],h=vF(u)?lE(l,e,t,i,hs(u),s):void 0;if(!od(h)){od(o)||mF(u)&&(o=lE(l,null,t,i,a,s));let p=QE(ai(),t);TO(r,s,p,i,o)}}function lE(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let l=n[i],u=Array.isArray(l),h=u?l[1]:l,p=h===null,_=t[i+1];_===Pn&&(_=p?Wt:void 0);let w=p?im(_,r):h===r?_:void 0;if(u&&!od(w)&&(w=im(l,r)),od(w)&&(a=w,s))return a;let x=n[i+1];i=s?eo(x):hs(x)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=im(l,r))}return a}function od(n){return n!==void 0}function OF(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Bt(no(n)))),n}function FD(n,e){return(n.flags&(e?8:16))!==0}function kF(n,e,t,r,i,o){let s=e.consts,a=as(s,i),l=Ja(e,n,2,r,a);return ev(e,t,l,as(s,o)),l.attrs!==null&&nd(l,l.attrs,!1),l.mergedAttrs!==null&&nd(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function g(n,e,t,r){let i=xe(),o=ut(),s=Jt+n,a=i[nt],l=o.firstCreatePass?kF(s,o,i,e,t,r):o.data[s],u=FF(o,i,l,a,e,n);i[s]=u;let h=gd(l);return to(l,!0),JC(a,u,l),!oF(l)&&Id()&&xd(o,i,u,l),LP()===0&&ii(u,i),VP(),h&&(Zg(o,i,l),Yg(o,l,i)),r!==null&&Jg(i,l),g}function v(){let n=St();Mg()?rC():(n=n.parent,to(n,!1));let e=n;BP(e)&&$P(),jP();let t=ut();return t.firstCreatePass&&(Cd(t,n),xg(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&iN(e)&&dg(t,e,xe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&oN(e)&&dg(t,e,xe(),e.stylesWithoutHost,!1),v}function ne(n,e,t,r){return g(n,e,t,r),v(),ne}var FF=(n,e,t,r,i,o)=>(Ed(!0),zC(r,i,eN()));function LF(n,e,t,r,i){let o=e.consts,s=as(o,r),a=Ja(e,n,8,"ng-container",s);s!==null&&nd(a,s,!0);let l=as(o,i);return ev(e,t,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function vs(n,e,t){let r=xe(),i=ut(),o=n+Jt,s=i.firstCreatePass?LF(o,i,r,e,t):i.data[o];to(s,!0);let a=VF(i,r,s,n);return r[o]=a,Id()&&xd(i,r,a,s),ii(a,r),gd(s)&&(Zg(i,r,s),Yg(i,s,r)),t!=null&&Jg(r,s),vs}function ys(){let n=St(),e=ut();return Mg()?rC():(n=n.parent,to(n,!1)),e.firstCreatePass&&(Cd(e,n),xg(n)&&e.queries.elementEnd(n)),ys}var VF=(n,e,t,r)=>(Ed(!0),uO(e[nt],""));function it(){return xe()}var Hi=void 0;function jF(n){let e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}var UF=["en",[["a","p"],["AM","PM"],Hi],[["AM","PM"],Hi,Hi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hi,"{1} 'at' {0}",Hi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",jF],mm={};function Fd(n){let e=BF(n),t=uE(e);if(t)return t;let r=e.split("-")[0];if(t=uE(r),t)return t;if(r==="en")return UF;throw new te(701,!1)}function uE(n){return n in mm||(mm[n]=vr.ng&&vr.ng.common&&vr.ng.common.locales&&vr.ng.common.locales[n]),mm[n]}var oo=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(oo||{});function BF(n){return n.toLowerCase().replace(/_/g,"-")}var sd="en-US",$F="USD";var HF=sd;function zF(n){typeof n=="string"&&(HF=n.toLowerCase().replace(/_/g,"-"))}var qF=(n,e,t)=>{};function ce(n,e,t,r){let i=xe(),o=ut(),s=St();return LD(o,i,i[nt],s,n,e,r),ce}function GF(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Hu],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function LD(n,e,t,r,i,o,s){let a=gd(r),u=n.firstCreatePass&&dD(n),h=e[Tn],p=uD(e),_=!0;if(r.type&3||s){let k=hn(r,e),O=s?s(k):k,$=p.length,Y=s?de=>s(zn(de[r.index])):r.index,Q=null;if(!s&&a&&(Q=GF(n,e,i,r.index)),Q!==null){let de=Q.__ngLastListenerFn__||Q;de.__ngNextListenerFn__=o,Q.__ngLastListenerFn__=o,_=!1}else{o=hE(r,e,h,o),qF(k,i,o);let de=t.listen(O,i,o);p.push(o,de),u&&u.push(i,Y,$,$+1)}}else o=hE(r,e,h,o);let w=r.outputs,x;if(_&&w!==null&&(x=w[i])){let k=x.length;if(k)for(let O=0;O<k;O+=2){let $=x[O],Y=x[O+1],Ae=e[$][Y].subscribe(o),le=p.length;p.push(o,Ae),u&&u.push(i,r.index,le,-(le+1))}}}function dE(n,e,t,r){let i=Me(null);try{return jn(6,e,t),t(r)!==!1}catch(o){return hD(n,o),!1}finally{jn(7,e,t),Me(i)}}function hE(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?si(n.index,e):e;rv(s,5);let a=dE(e,t,r,o),l=i.__ngNextListenerFn__;for(;l;)a=dE(e,t,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function ue(n=1){return JP(n)}function av(n,e,t){qk(n,e,t)}function Ld(n){let e=xe(),t=ut(),r=oC();Ng(r+1);let i=iv(t,r);if(n.dirty&&NP(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=Kk(e,r);n.reset(o,TN),n.notifyOnChanges()}return!0}return!1}function Vd(){return Hk(xe(),oC())}function WF(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function xr(n){let e=zP();return Sg(e,Jt+n)}function I(n,e=""){let t=xe(),r=ut(),i=n+Jt,o=r.firstCreatePass?Ja(r,i,1,e,null):r.data[i],s=KF(r,t,o,e,n);t[i]=s,Id()&&xd(r,t,s,o),to(o,!1)}var KF=(n,e,t,r,i)=>(Ed(!0),cO(e[nt],r));function H(n){return B("",n,""),H}function B(n,e,t){let r=xe(),i=fF(r,n,e,t);return i!==Pn&&fD(r,ai(),i),B}function Xa(n,e,t,r,i){let o=xe(),s=pF(o,n,e,t,r,i);return s!==Pn&&fD(o,ai(),s),Xa}function ht(n,e,t){TD(e)&&(e=e());let r=xe(),i=_d();if(br(r,i,e)){let o=ut(),s=Fg();oD(o,s,r,n,e,r[nt],t,!1)}return ht}function wt(n,e){let t=TD(n);return t&&n.set(e),t}function ft(n,e){let t=xe(),r=ut(),i=St();return LD(r,t,t[nt],i,n,e),ft}function QF(n,e,t){let r=ut();if(r.firstCreatePass){let i=ri(n);hg(t,r.data,r.blueprint,i,!0),hg(e,r.data,r.blueprint,i,!1)}}function hg(n,e,t,r,i){if(n=Ut(n),Array.isArray(n))for(let o=0;o<n.length;o++)hg(n[o],e,t,r,i);else{let o=ut(),s=xe(),a=St(),l=is(n)?n:Ut(n.provide),u=UE(n),h=a.providerIndexes&1048575,p=a.directiveStart,_=a.providerIndexes>>20;if(is(n)||!n.multi){let w=new Zi(u,i,J),x=vm(l,e,i?h:h+_,p);x===-1?(Pm(Qu(a,s),o,l),gm(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(w),s.push(w)):(t[x]=w,s[x]=w)}else{let w=vm(l,e,h+_,p),x=vm(l,e,h,h+_),k=w>=0&&t[w],O=x>=0&&t[x];if(i&&!O||!i&&!k){Pm(Qu(a,s),o,l);let $=JF(i?ZF:YF,t.length,i,r,u);!i&&O&&(t[x].providerFactory=$),gm(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push($),s.push($)}else{let $=VD(t[i?x:w],u,!i&&r);gm(o,n,w>-1?w:x,$)}!i&&r&&O&&t[x].componentProviders++}}}function gm(n,e,t,r){let i=is(e),o=bP(e);if(i||o){let l=(o?Ut(e.useClass):e).prototype.ngOnDestroy;if(l){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=u.indexOf(t);h===-1?u.push(t,[r,l]):u[h+1].push(r,l)}else u.push(t,l)}}}function VD(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function vm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function YF(n,e,t,r){return fg(this.multi,[])}function ZF(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ji(t,t[we],this.providerFactory.index,r);o=a.slice(0,s),fg(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],fg(i,o);return o}function fg(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function JF(n,e,t,r,i){let o=new Zi(n,t,J);return o.multi=[],o.index=e,o.componentProviders=0,VD(o,i,r&&!t),o}function Sr(n,e=[]){return t=>{t.providersResolver=(r,i)=>QF(r,i?i(n):n,e)}}var XF=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=LE(!1,t.type),i=r.length>0?Nd([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=K({token:n,providedIn:"environment",factory:()=>new n(Z($t))})}}return n})();function je(n){io("NgStandalone"),n.getStandaloneInjector=e=>e.get(XF).getOrCreateStandaloneInjector(n)}function jD(n,e,t,r){return BD(xe(),Rg(),n,e,t,r)}function UD(n,e){let t=n[e];return t===Pn?void 0:t}function BD(n,e,t,r,i,o){let s=e+t;return br(n,s,i)?SD(n,s+1,o?r.call(o,i):r(i)):UD(n,s+1)}function eL(n,e,t,r,i,o,s,a,l){let u=e+t;return iF(n,u,i,o,s,a)?SD(n,u+4,l?r.call(l,i,o,s,a):r(i,o,s,a)):UD(n,u+4)}function R(n,e){let t=ut(),r,i=n+Jt;t.firstCreatePass?(r=tL(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Gi(r.type,!0)),s,a=Gt(J);try{let l=Ku(!1),u=o();return Ku(l),WF(t,xe(),i,u),u}finally{Gt(a)}}function tL(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function P(n,e,t){let r=n+Jt,i=xe(),o=Sg(i,r);return HD(i,r)?BD(i,Rg(),e,o.transform,t,o):o.transform(t)}function $D(n,e,t,r,i,o){let s=n+Jt,a=xe(),l=Sg(a,s);return HD(a,s)?eL(a,Rg(),e,l.transform,t,r,i,o,l):l.transform(t,r,i,o)}function HD(n,e){return n[we].data[e].pure}function so(n,e){return Rd(n,e)}var Ir=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},zD=new Ir("18.2.14");var jd=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var qD=new W("");function ao(n){return!!n&&typeof n.then=="function"}function GD(n){return!!n&&typeof n.subscribe=="function"}var ec=new W(""),WD=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=L(ec,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(ao(o))t.push(o);else if(GD(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),tc=new W("");function nL(){Zb(()=>{throw new te(600,!1)})}function rL(n){return n.isBoundToModule}var iL=10;function oL(n,e,t){try{let r=t();return ao(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var ui=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=L(CN),this.afterRenderManager=L(AD),this.zonelessEnabled=L(Pd),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new We,this.afterTick=new We,this.componentTypes=[],this.components=[],this.isStable=L(li).hasPendingTasks.pipe(se(t=>!t)),this._injector=L($t)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof td;if(!this._injector.get(WD).done){let _=!i&&NE(t),w=!1;throw new te(405,w)}let s;i?s=t:s=this._injector.get(ls).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=rL(s)?void 0:this._injector.get(oi),l=r||s.selector,u=s.create(yt.NULL,[],l,a),h=u.location.nativeElement,p=u.injector.get(qD,null);return p?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),Fu(this.components,u),p?.unregisterApplication(h)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new te(101,!1);let t=Me(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Me(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(us,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<iL;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)sL(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>vd(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Fu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(tc,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Fu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new te(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Fu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function sL(n,e,t,r){if(!t&&!vd(n))return;gD(n,e,t&&!r?0:1)}var pg=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Ud=(()=>{class n{compileModuleSync(t){return new og(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=OE(t),o=HC(i.declarations).reduce((s,a)=>{let l=ni(a);return l&&s.push(new ds(l)),s},[]);return new pg(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var aL=(()=>{class n{constructor(){this.zone=L(Oe),this.changeDetectionScheduler=L(cs),this.applicationRef=L(ui)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),cL=new W("",{factory:()=>!1});function KD({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Oe(me(U({},YD()),{scheduleInRootZone:t})),[{provide:Oe,useFactory:n},{provide:rs,multi:!0,useFactory:()=>{let r=L(aL,{optional:!0});return()=>r.initialize()}},{provide:rs,multi:!0,useFactory:()=>{let r=L(lL);return()=>{r.initialize()}}},e===!0?{provide:wD,useValue:!0}:[],{provide:bD,useValue:t??EC}]}function QD(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=KD({ngZoneFactory:()=>{let i=YD(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&io("NgZone_CoalesceEvent"),new Oe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return _t([{provide:cL,useValue:!0},{provide:Pd,useValue:!1},r])}function YD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var lL=(()=>{class n{constructor(){this.subscription=new $e,this.initialized=!1,this.zone=L(Oe),this.pendingTasks=L(li)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Oe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Oe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var uL=(()=>{class n{constructor(){this.appRef=L(ui),this.taskService=L(li),this.ngZone=L(Oe),this.zonelessEnabled=L(Pd),this.disableScheduling=L(wD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new $e,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Zu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(L(bD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Lm||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?HI:CC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Zu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,HI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function dL(){return typeof $localize<"u"&&$localize.locale||sd}var Bd=new W("",{providedIn:"root",factory:()=>L(Bd,Ee.Optional|Ee.SkipSelf)||dL()}),ZD=new W("",{providedIn:"root",factory:()=>$F});var mg=new W("");function Ru(n){return!n.moduleRef}function hL(n){let e=Ru(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Oe);return t.run(()=>{Ru(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(_r,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Ru(n)){let o=()=>e.destroy(),s=n.platformInjector.get(mg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(mg);s.add(o),n.moduleRef.onDestroy(()=>{Fu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return oL(r,t,()=>{let o=e.get(WD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Bd,sd);if(zF(s||sd),Ru(n)){let a=e.get(ui);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return fL(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function fL(n,e){let t=n.injector.get(ui);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new te(-403,!1);e.push(n)}var Lu=null,JD=new W("");function pL(n=[],e){return yt.create({name:e,providers:[{provide:hd,useValue:"platform"},{provide:mg,useValue:new Set([()=>Lu=null])},...n]})}function mL(n=[]){if(Lu)return Lu;let e=pL(n);return e.get(JD,!1)||(Lu=e),nL(),gL(e),e}function gL(n){n.get($g,null)?.forEach(t=>t())}function XD(){return!1}var Nn=(()=>{class n{static{this.__NG_ELEMENT_ID__=vL}}return n})();function vL(n){return yL(St(),xe(),(n&16)===16)}function yL(n,e,t){if(md(n)&&!t){let r=si(n.index,e);return new Xi(r,r)}else if(n.type&175){let r=e[Hn];return new Xi(r,e)}return null}var gg=class{constructor(){}supports(e){return xD(e)}create(e){return new vg(e)}},_L=(n,e)=>e,vg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||_L}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<fE(r,i,o)?t:r,a=fE(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,h=l-i;if(u!=h){for(let _=0;_<u;_++){let w=_<o.length?o[_]:o[_]=0,x=w+_;h<=x&&x<u&&(o[_]=w+1)}let p=s.previousIndex;o[p]=h-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!xD(e))throw new te(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,nF(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new yg(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new ad),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ad),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},yg=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},_g=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},ad=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new _g,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function fE(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function pE(){return new cv([new gg])}var cv=(()=>{class n{static{this.\u0275prov=K({token:n,providedIn:"root",factory:pE})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||pE()),deps:[[n,new bg,new un]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new te(901,!1)}}return n})();function eT(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;try{let o=i?.injector??mL(r);if(o.get(JD,!1)===!0&&!n.platformRef)throw new te(401,!1);let s=[KD({}),{provide:cs,useExisting:uL},...t||[]],a=new id({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return hL({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}}function di(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function co(n,e){io("NgSignals");let t=Kb(n);return e?.equal&&(t[fr].equal=e.equal),t}function Kn(n){let e=Me(null);try{return n()}finally{Me(e)}}function tT(n){let e=ni(n);if(!e)return null;let t=new ds(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var lT=null;function Rr(){return lT}function uT(n){lT??=n}var $d=class{};var Mt=new W(""),gv=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:()=>L(bL),providedIn:"platform"})}}return n})(),dT=new W(""),bL=(()=>{class n extends gv{constructor(){super(),this._doc=L(Mt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Rr().getBaseHref(this._doc)}onPopState(t){let r=Rr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Rr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function vv(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function nT(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Ar(n){return n&&n[0]!=="?"?"?"+n:n}var Pr=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:()=>L(yv),providedIn:"root"})}}return n})(),hT=new W(""),yv=(()=>{class n extends Pr{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??L(Mt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return vv(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Ar(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ar(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ar(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(Z(gv),Z(hT,8))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fT=(()=>{class n extends Pr{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=vv(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ar(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ar(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(Z(gv),Z(hT,8))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),ws=(()=>{class n{constructor(t){this._subject=new tt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=CL(nT(rT(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ar(r))}normalize(t){return n.stripTrailingSlash(EL(this._basePath,rT(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ar(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ar(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Ar}static{this.joinWithSlash=vv}static{this.stripTrailingSlash=nT}static{this.\u0275fac=function(r){return new(r||n)(Z(Pr))}}static{this.\u0275prov=K({token:n,factory:()=>IL(),providedIn:"root"})}}return n})();function IL(){return new ws(Z(Pr))}function EL(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function rT(n){return n.replace(/\/index.html$/,"")}function CL(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var pT={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},mT=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(mT||{});var Mr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function nc(n,e){let t=Fd(n),r=t[oo.NumberSymbols][e];if(typeof r>"u"){if(e===Mr.CurrencyDecimal)return t[oo.NumberSymbols][Mr.Decimal];if(e===Mr.CurrencyGroup)return t[oo.NumberSymbols][Mr.Group]}return r}function DL(n,e){return Fd(n)[oo.NumberFormats][e]}function TL(n){return Fd(n)[oo.Currencies]}function xL(n,e,t="en"){let r=TL(t)[n]||pT[n]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||n}var SL=2;function AL(n){let e,t=pT[n];return t&&(e=t[2]),typeof e=="number"?e:SL}var ML=/^(\d+)?\.((\d+)(-(\d+))?)?$/,iT=22,Hd=".",rc="0",RL=";",PL=",",lv="#",oT="\xA4";function NL(n,e,t,r,i,o,s=!1){let a="",l=!1;if(!isFinite(n))a=nc(t,Mr.Infinity);else{let u=LL(n);s&&(u=FL(u));let h=e.minInt,p=e.minFrac,_=e.maxFrac;if(o){let Y=o.match(ML);if(Y===null)throw new Error(`${o} is not a valid digit info`);let Q=Y[1],de=Y[3],Ae=Y[5];Q!=null&&(h=uv(Q)),de!=null&&(p=uv(de)),Ae!=null?_=uv(Ae):de!=null&&p>_&&(_=p)}VL(u,p,_);let w=u.digits,x=u.integerLen,k=u.exponent,O=[];for(l=w.every(Y=>!Y);x<h;x++)w.unshift(0);for(;x<0;x++)w.unshift(0);x>0?O=w.splice(x,w.length):(O=w,w=[0]);let $=[];for(w.length>=e.lgSize&&$.unshift(w.splice(-e.lgSize,w.length).join(""));w.length>e.gSize;)$.unshift(w.splice(-e.gSize,w.length).join(""));w.length&&$.unshift(w.join("")),a=$.join(nc(t,r)),O.length&&(a+=nc(t,i)+O.join("")),k&&(a+=nc(t,Mr.Exponential)+"+"+k)}return n<0&&!l?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function OL(n,e,t,r,i){let o=DL(e,mT.Currency),s=kL(o,nc(e,Mr.MinusSign));return s.minFrac=AL(r),s.maxFrac=s.minFrac,NL(n,s,e,Mr.CurrencyGroup,Mr.CurrencyDecimal,i).replace(oT,t).replace(oT,"").trim()}function kL(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(RL),i=r[0],o=r[1],s=i.indexOf(Hd)!==-1?i.split(Hd):[i.substring(0,i.lastIndexOf(rc)+1),i.substring(i.lastIndexOf(rc)+1)],a=s[0],l=s[1]||"";t.posPre=a.substring(0,a.indexOf(lv));for(let h=0;h<l.length;h++){let p=l.charAt(h);p===rc?t.minFrac=t.maxFrac=h+1:p===lv?t.maxFrac=h+1:t.posSuf+=p}let u=a.split(PL);if(t.gSize=u[1]?u[1].length:0,t.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){let h=i.length-t.posPre.length-t.posSuf.length,p=o.indexOf(lv);t.negPre=o.substring(0,p).replace(/'/g,""),t.negSuf=o.slice(p+h).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function FL(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function LL(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(Hd))>-1&&(e=e.replace(Hd,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===rc;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===rc;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>iT&&(r=r.splice(0,iT-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function VL(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=o!==0,u=e+n.integerLen,h=r.reduceRight(function(p,_,w,x){return _=_+p,x[w]=_<10?_:_-10,l&&(x[w]===0&&w>=u?x.pop():l=!1),_>=10?1:0},0);h&&(r.unshift(h),n.integerLen++)}function uv(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function zd(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var dv=/\s+/,sT=[],gT=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=sT,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(dv):sT}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(dv):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(dv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(J(At),J(pn))}}static{this.\u0275dir=He({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var hv=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Qn=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new hv(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),aT(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);aT(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(J(Wn),J(qn),J(cv))}}static{this.\u0275dir=He({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function aT(n,e){n.context.$implicit=e.item}var mn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new fv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){cT("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){cT("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(J(Wn),J(qn))}}static{this.\u0275dir=He({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),fv=class{constructor(){this.$implicit=null,this.ngIf=null}};function cT(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Bt(e)}'.`)}function jL(n,e){return new te(2100,!1)}var vT=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",o,s){if(!UL(t))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=xL(a,i==="symbol"?"wide":"narrow",s):a=i);try{let l=BL(t);return OL(l,s,a,r,o)}catch(l){throw jL(n,l.message)}}static{this.\u0275fac=function(r){return new(r||n)(J(Bd,16),J(ZD,16))}}static{this.\u0275pipe=dd({name:"currency",type:n,pure:!0,standalone:!0})}}return n})();function UL(n){return!(n==null||n===""||n!==n)}function BL(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var dt=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=An({type:n})}static{this.\u0275inj=Sn({})}}return n})(),_v="browser",$L="server";function HL(n){return n===_v}function qd(n){return n===$L}var yT=(()=>{class n{static{this.\u0275prov=K({token:n,providedIn:"root",factory:()=>HL(L(fn))?new pv(L(Mt),window):new mv})}}return n})(),pv=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=zL(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function zL(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var mv=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},_s=class{};var oc=class{},Wd=class{},Nr=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var bv=class{encodeKey(e){return _T(e)}encodeValue(e){return _T(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function qL(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var GL=/%(\d[a-f0-9])/gi,WL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _T(n){return encodeURIComponent(n).replace(GL,(e,t)=>WL[t]??e)}function Gd(n){return`${n}`}var fi=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new bv,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=qL(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Gd):[Gd(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Gd(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Gd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Iv=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function KL(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function wT(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function bT(n){return typeof Blob<"u"&&n instanceof Blob}function IT(n){return typeof FormData<"u"&&n instanceof FormData}function QL(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var ic=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(KL(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Nr,this.context??=new Iv,!this.params)this.params=new fi,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||wT(this.body)||bT(this.body)||IT(this.body)||QL(this.body)?this.body:this.body instanceof fi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||IT(this.body)?null:bT(this.body)?this.body.type||null:wT(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof fi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,u=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((_,w)=>_.set(w,e.setHeaders[w]),u)),e.setParams&&(h=Object.keys(e.setParams).reduce((_,w)=>_.set(w,e.setParams[w]),h)),new n(t,r,s,{params:h,headers:u,context:p,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},pi=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(pi||{}),sc=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new Nr,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Kd=class n extends sc{constructor(e={}){super(e),this.type=pi.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ac=class n extends sc{constructor(e={}){super(e),this.type=pi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},hi=class extends sc{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},TT=200,YL=204;function wv(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Dv=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof ic)o=t;else{let l;i.headers instanceof Nr?l=i.headers:l=new Nr(i.headers);let u;i.params&&(i.params instanceof fi?u=i.params:u=new fi({fromObject:i.params})),o=new ic(t,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=re(o).pipe(gr(l=>this.handler.handle(l)));if(t instanceof ic||i.observe==="events")return s;let a=s.pipe(qt(l=>l instanceof ac));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(se(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(se(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(se(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(se(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new fi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,wv(i,r))}post(t,r,i={}){return this.request("POST",t,wv(i,r))}put(t,r,i={}){return this.request("PUT",t,wv(i,r))}static{this.\u0275fac=function(r){return new(r||n)(Z(oc))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),ZL=/^\)\]\}',?\n/,JL="X-Request-URL";function ET(n){if(n.url)return n.url;let e=JL.toLocaleLowerCase();return n.headers.get(e)}var XL=(()=>{class n{constructor(){this.fetchImpl=L(Ev,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=L(Oe)}handle(t){return new _e(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(Cv,o=>r.error(new hi({error:o}))),()=>i.abort()})}doRequest(t,r,i){return N(this,null,function*(){let o=this.createRequestInit(t),s;try{let w=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,U({signal:r},o)));e2(w),i.next({type:pi.Sent}),s=yield w}catch(w){i.error(new hi({error:w,status:w.status??0,statusText:w.statusText,url:t.urlWithParams,headers:w.headers}));return}let a=new Nr(s.headers),l=s.statusText,u=ET(s)??t.urlWithParams,h=s.status,p=null;if(t.reportProgress&&i.next(new Kd({headers:a,status:h,statusText:l,url:u})),s.body){let w=s.headers.get("content-length"),x=[],k=s.body.getReader(),O=0,$,Y,Q=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>N(this,null,function*(){for(;;){let{done:Ae,value:le}=yield k.read();if(Ae)break;if(x.push(le),O+=le.length,t.reportProgress){Y=t.responseType==="text"?(Y??"")+($??=new TextDecoder).decode(le,{stream:!0}):void 0;let D=()=>i.next({type:pi.DownloadProgress,total:w?+w:void 0,loaded:O,partialText:Y});Q?Q.run(D):D()}}}));let de=this.concatChunks(x,O);try{let Ae=s.headers.get("Content-Type")??"";p=this.parseBody(t,de,Ae)}catch(Ae){i.error(new hi({error:Ae,headers:new Nr(s.headers),status:s.status,statusText:s.statusText,url:ET(s)??t.urlWithParams}));return}}h===0&&(h=p?TT:0),h>=200&&h<300?(i.next(new ac({body:p,headers:a,status:h,statusText:l,url:u})),i.complete()):i.error(new hi({error:p,headers:a,status:h,statusText:l,url:u}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(ZL,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),Ev=class{};function Cv(){}function e2(n){n.then(Cv,Cv)}function t2(n,e){return e(n)}function n2(n,e,t){return(r,i)=>Xt(t,()=>e(r,o=>n(o,i)))}var xT=new W(""),r2=new W(""),i2=new W("",{providedIn:"root",factory:()=>!0});var CT=(()=>{class n extends oc{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=L(li),this.contributeToStability=L(i2)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(xT),...this.injector.get(r2,[])]));this.chain=r.reduceRight((i,o)=>n2(i,o,this.injector),t2)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe($i(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(Z(Wd),Z($t))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})();var o2=/^\)\]\}',?\n/;function s2(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var DT=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new te(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Le(r.\u0275loadImpl()):re(null)).pipe(et(()=>new _e(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((k,O)=>s.setRequestHeader(k,O.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let k=t.detectContentTypeHeader();k!==null&&s.setRequestHeader("Content-Type",k)}if(t.responseType){let k=t.responseType.toLowerCase();s.responseType=k!=="json"?k:"text"}let a=t.serializeBody(),l=null,u=()=>{if(l!==null)return l;let k=s.statusText||"OK",O=new Nr(s.getAllResponseHeaders()),$=s2(s)||t.url;return l=new Kd({headers:O,status:s.status,statusText:k,url:$}),l},h=()=>{let{headers:k,status:O,statusText:$,url:Y}=u(),Q=null;O!==YL&&(Q=typeof s.response>"u"?s.responseText:s.response),O===0&&(O=Q?TT:0);let de=O>=200&&O<300;if(t.responseType==="json"&&typeof Q=="string"){let Ae=Q;Q=Q.replace(o2,"");try{Q=Q!==""?JSON.parse(Q):null}catch(le){Q=Ae,de&&(de=!1,Q={error:le,text:Q})}}de?(o.next(new ac({body:Q,headers:k,status:O,statusText:$,url:Y||void 0})),o.complete()):o.error(new hi({error:Q,headers:k,status:O,statusText:$,url:Y||void 0}))},p=k=>{let{url:O}=u(),$=new hi({error:k,status:s.status||0,statusText:s.statusText||"Unknown Error",url:O||void 0});o.error($)},_=!1,w=k=>{_||(o.next(u()),_=!0);let O={type:pi.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(O.total=k.total),t.responseType==="text"&&s.responseText&&(O.partialText=s.responseText),o.next(O)},x=k=>{let O={type:pi.UploadProgress,loaded:k.loaded};k.lengthComputable&&(O.total=k.total),o.next(O)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",w),a!==null&&s.upload&&s.upload.addEventListener("progress",x)),s.send(a),o.next({type:pi.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",w),a!==null&&s.upload&&s.upload.removeEventListener("progress",x)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(Z(_s))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),ST=new W(""),a2="XSRF-TOKEN",c2=new W("",{providedIn:"root",factory:()=>a2}),l2="X-XSRF-TOKEN",u2=new W("",{providedIn:"root",factory:()=>l2}),Qd=class{},d2=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=zd(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(Z(Mt),Z(fn),Z(c2))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})();function h2(n,e){let t=n.url.toLowerCase();if(!L(ST)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=L(Qd).getToken(),i=L(u2);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function AT(...n){let e=[Dv,DT,CT,{provide:oc,useExisting:CT},{provide:Wd,useFactory:()=>L(XL,{optional:!0})??L(DT)},{provide:xT,useValue:h2,multi:!0},{provide:ST,useValue:!0},{provide:Qd,useClass:d2}];for(let t of n)e.push(...t.\u0275providers);return _t(e)}var Sv=class extends $d{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Av=class n extends Sv{static makeCurrent(){uT(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=f2();return t==null?null:p2(t)}resetBaseElement(){cc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return zd(document.cookie,e)}},cc=null;function f2(){return cc=cc||document.querySelector("base"),cc?cc.getAttribute("href"):null}function p2(n){return new URL(n,document.baseURI).pathname}var m2=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),Mv=new W(""),NT=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new te(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(Z(Mv),Z(Oe))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),Yd=class{constructor(e){this._doc=e}},Tv="ng-app-id",OT=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=qd(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Tv}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Tv),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Tv,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(Z(Mt),Z(Bg),Z(Hg,8),Z(fn))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),xv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Pv=/%COMP%/g,kT="%COMP%",g2=`_nghost-${kT}`,v2=`_ngcontent-${kT}`,y2=!0,_2=new W("",{providedIn:"root",factory:()=>y2});function w2(n){return v2.replace(Pv,n)}function b2(n){return g2.replace(Pv,n)}function FT(n,e){return e.map(t=>t.replace(Pv,n))}var MT=(()=>{class n{constructor(t,r,i,o,s,a,l,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=qd(a),this.defaultRenderer=new lc(t,s,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Bn.ShadowDom&&(r=me(U({},r),{encapsulation:Bn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Zd?i.applyToHost(t):i instanceof uc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case Bn.Emulated:o=new Zd(l,u,r,this.appId,h,s,a,p);break;case Bn.ShadowDom:return new Rv(l,u,t,r,s,a,this.nonce,p);default:o=new uc(l,u,r,h,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(Z(NT),Z(OT),Z(Bg),Z(_2),Z(Mt),Z(fn),Z(Oe),Z(Hg))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),lc=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(xv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(RT(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(RT(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new te(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=xv[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=xv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(wr.DashCase|wr.Important)?e.style.setProperty(t,r,i&wr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&wr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Rr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function RT(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Rv=class extends lc{constructor(e,t,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=FT(i.id,i.styles);for(let h of u){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},uc=class extends lc{constructor(e,t,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?FT(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Zd=class extends uc{constructor(e,t,r,i,o,s,a,l){let u=i+"-"+r.id;super(e,t,r,o,s,a,l,u),this.contentAttr=w2(u),this.hostAttr=b2(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},I2=(()=>{class n extends Yd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(Z(Mt))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),PT=["alt","control","meta","shift"],E2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},C2={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},D2=(()=>{class n extends Yd{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Rr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),PT.forEach(u=>{let h=r.indexOf(u);h>-1&&(r.splice(h,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=E2[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),PT.forEach(s=>{if(s!==i){let a=C2[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(Z(Mt))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})();function LT(n,e,t){return eT(U({rootComponent:n,platformRef:t?.platformRef},T2(e)))}function T2(n){return{appProviders:[...R2,...n?.providers??[]],platformProviders:M2}}function x2(){Av.makeCurrent()}function S2(){return new _r}function A2(){return RC(document),document}var M2=[{provide:fn,useValue:_v},{provide:$g,useValue:x2,multi:!0},{provide:Mt,useFactory:A2,deps:[]}];var R2=[{provide:hd,useValue:"root"},{provide:_r,useFactory:S2,deps:[]},{provide:Mv,useClass:I2,multi:!0,deps:[Mt,Oe,fn]},{provide:Mv,useClass:D2,multi:!0,deps:[Mt]},MT,OT,NT,{provide:us,useExisting:MT},{provide:_s,useClass:m2,deps:[]},[]];var VT=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(Z(Mt))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var be="primary",Dc=Symbol("RouteTitle"),Lv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ts(n){return new Lv(n)}function N2(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function O2(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Zn(n[t],e[t]))return!1;return!0}function Zn(n,e){let t=n?Vv(n):void 0,r=e?Vv(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!QT(n[i],e[i]))return!1;return!0}function Vv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function QT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function YT(n){return n.length>0?n[n.length-1]:null}function vi(n){return Yp(n)?n:ao(n)?Le(Promise.resolve(n)):re(n)}var k2={exact:JT,subset:XT},ZT={exact:F2,subset:L2,ignored:()=>!0};function jT(n,e,t){return k2[t.paths](n.root,e.root,t.matrixParams)&&ZT[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function F2(n,e){return Zn(n,e)}function JT(n,e,t){if(!uo(n.segments,e.segments)||!eh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!JT(n.children[r],e.children[r],t))return!1;return!0}function L2(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>QT(n[t],e[t]))}function XT(n,e,t){return ex(n,e,e.segments,t)}function ex(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!uo(i,t)||e.hasChildren()||!eh(i,t,r))}else if(n.segments.length===t.length){if(!uo(n.segments,t)||!eh(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!XT(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!uo(n.segments,i)||!eh(n.segments,i,r)||!n.children[be]?!1:ex(n.children[be],e,o,r)}}function eh(n,e,t){return e.every((r,i)=>ZT[t](n[i].parameters,r.parameters))}var kr=class{constructor(e=new ke([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ts(this.queryParams),this._queryParamMap}toString(){return U2.serialize(this)}},ke=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return th(this)}},lo=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ts(this.parameters),this._parameterMap}toString(){return nx(this)}};function V2(n,e){return uo(n,e)&&n.every((t,r)=>Zn(t.parameters,e[r].parameters))}function uo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function j2(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===be&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==be&&(t=t.concat(e(i,r)))}),t}var Tc=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:()=>new xs,providedIn:"root"})}}return n})(),xs=class{parse(e){let t=new Uv(e);return new kr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${dc(e.root,!0)}`,r=H2(e.queryParams),i=typeof e.fragment=="string"?`#${B2(e.fragment)}`:"";return`${t}${r}${i}`}},U2=new xs;function th(n){return n.segments.map(e=>nx(e)).join("/")}function dc(n,e){if(!n.hasChildren())return th(n);if(e){let t=n.children[be]?dc(n.children[be],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==be&&r.push(`${i}:${dc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=j2(n,(r,i)=>i===be?[dc(n.children[be],!1)]:[`${i}:${dc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[be]!=null?`${th(n)}/${t[0]}`:`${th(n)}/(${t.join("//")})`}}function tx(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jd(n){return tx(n).replace(/%3B/gi,";")}function B2(n){return encodeURI(n)}function jv(n){return tx(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nh(n){return decodeURIComponent(n)}function UT(n){return nh(n.replace(/\+/g,"%20"))}function nx(n){return`${jv(n.path)}${$2(n.parameters)}`}function $2(n){return Object.entries(n).map(([e,t])=>`;${jv(e)}=${jv(t)}`).join("")}function H2(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Jd(t)}=${Jd(i)}`).join("&"):`${Jd(t)}=${Jd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var z2=/^[^\/()?;#]+/;function Nv(n){let e=n.match(z2);return e?e[0]:""}var q2=/^[^\/()?;=#]+/;function G2(n){let e=n.match(q2);return e?e[0]:""}var W2=/^[^=?&#]+/;function K2(n){let e=n.match(W2);return e?e[0]:""}var Q2=/^[^&#]+/;function Y2(n){let e=n.match(Q2);return e?e[0]:""}var Uv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ke([],{}):new ke([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[be]=new ke(e,t)),r}parseSegment(){let e=Nv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new te(4009,!1);return this.capture(e),new lo(nh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=G2(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Nv(this.remaining);i&&(r=i,this.capture(r))}e[nh(t)]=nh(r)}parseQueryParam(e){let t=K2(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=Y2(this.remaining);s&&(r=s,this.capture(r))}let i=UT(t),o=UT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Nv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new te(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=be);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[be]:new ke([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new te(4011,!1)}};function rx(n){return n.segments.length>0?new ke([],{[be]:n}):n}function ix(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=ix(i);if(r===be&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new ke(n.segments,e);return Z2(t)}function Z2(n){if(n.numberOfChildren===1&&n.children[be]){let e=n.children[be];return new ke(n.segments.concat(e.segments),e.children)}return n}function ho(n){return n instanceof kr}function J2(n,e,t=null,r=null){let i=ox(n);return sx(i,e,t,r)}function ox(n){let e;function t(o){let s={};for(let l of o.children){let u=t(l);s[l.outlet]=u}let a=new ke(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=rx(r);return e??i}function sx(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Ov(i,i,i,t,r);let o=X2(e);if(o.toRoot())return Ov(i,i,new ke([],{}),t,r);let s=eV(o,i,n),a=s.processChildren?pc(s.segmentGroup,s.index,o.commands):cx(s.segmentGroup,s.index,o.commands);return Ov(i,s.segmentGroup,a,t,r)}function rh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function vc(n){return typeof n=="object"&&n!=null&&n.outlets}function Ov(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`});let s;n===e?s=t:s=ax(n,e,t);let a=rx(ix(s));return new kr(a,o,i)}function ax(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=ax(o,e,t)}),new ke(n.segments,r)}var ih=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&rh(r[0]))throw new te(4003,!1);let i=r.find(vc);if(i&&i!==YT(r))throw new te(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function X2(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new ih(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new ih(t,e,r)}var Es=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function eV(n,e,t){if(n.isAbsolute)return new Es(e,!0,0);if(!t)return new Es(e,!1,NaN);if(t.parent===null)return new Es(t,!0,0);let r=rh(n.commands[0])?0:1,i=t.segments.length-1+r;return tV(t,i,n.numberOfDoubleDots)}function tV(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new te(4005,!1);i=r.segments.length}return new Es(r,!1,i-o)}function nV(n){return vc(n[0])?n[0].outlets:{[be]:n}}function cx(n,e,t){if(n??=new ke([],{}),n.segments.length===0&&n.hasChildren())return pc(n,e,t);let r=rV(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new ke(n.segments.slice(0,r.pathIndex),{});return o.children[be]=new ke(n.segments.slice(r.pathIndex),n.children),pc(o,0,i)}else return r.match&&i.length===0?new ke(n.segments,{}):r.match&&!n.hasChildren()?Bv(n,e,t):r.match?pc(n,0,i):Bv(n,e,t)}function pc(n,e,t){if(t.length===0)return new ke(n.segments,{});{let r=nV(t),i={};if(Object.keys(r).some(o=>o!==be)&&n.children[be]&&n.numberOfChildren===1&&n.children[be].segments.length===0){let o=pc(n.children[be],e,t);return new ke(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=cx(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ke(n.segments,i)}}function rV(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(vc(a))break;let l=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!$T(l,u,s))return o;r+=2}else{if(!$T(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Bv(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(vc(o)){let l=iV(o.outlets);return new ke(r,l)}if(i===0&&rh(t[0])){let l=n.segments[e];r.push(new lo(l.path,BT(t[0]))),i++;continue}let s=vc(o)?o.outlets[be]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&rh(a)?(r.push(new lo(s,BT(a))),i+=2):(r.push(new lo(s,{})),i++)}return new ke(r,{})}function iV(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Bv(new ke([],{}),0,r))}),e}function BT(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function $T(n,e,t){return n==t.path&&Zn(e,t.parameters)}var mc="imperative",pt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(pt||{}),gn=class{constructor(e,t){this.id=e,this.url=t}},Ss=class extends gn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=pt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Jn=class extends gn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=pt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},nn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(nn||{}),oh=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(oh||{}),Or=class extends gn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=pt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},mi=class extends gn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=pt.NavigationSkipped}},yc=class extends gn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=pt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},sh=class extends gn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=pt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$v=class extends gn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=pt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hv=class extends gn{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=pt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},zv=class extends gn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=pt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qv=class extends gn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=pt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gv=class{constructor(e){this.route=e,this.type=pt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Wv=class{constructor(e){this.route=e,this.type=pt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Kv=class{constructor(e){this.snapshot=e,this.type=pt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qv=class{constructor(e){this.snapshot=e,this.type=pt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yv=class{constructor(e){this.snapshot=e,this.type=pt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zv=class{constructor(e){this.snapshot=e,this.type=pt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ah=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=pt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},_c=class{},As=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function oV(n,e){return n.providers&&!n._injector&&(n._injector=Nd(n.providers,e,`Route: ${n.path}`)),n._injector??e}function On(n){return n.outlet||be}function sV(n,e){let t=n.filter(r=>On(r)===e);return t.push(...n.filter(r=>On(r)!==e)),t}function xc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Jv=class{get injector(){return xc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Sc(this.rootInjector),this.attachRef=null}},Sc=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Jv(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(Z($t))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ch=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Xv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Xv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=ey(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ey(e,this._root).map(t=>t.value)}};function Xv(n,e){if(n===e.value)return e;for(let t of e.children){let r=Xv(n,t);if(r)return r}return null}function ey(n,e){if(n===e.value)return[e];for(let t of e.children){let r=ey(n,t);if(r.length)return r.unshift(e),r}return[]}var tn=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Is(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var lh=class extends ch{constructor(e,t){super(e),this.snapshot=t,ly(this,e)}toString(){return this.snapshot.toString()}};function lx(n){let e=aV(n),t=new qe([new lo("",{})]),r=new qe({}),i=new qe({}),o=new qe({}),s=new qe(""),a=new gi(t,r,o,s,i,be,n,e.root);return a.snapshot=e.root,new lh(new tn(a,[]),e)}function aV(n){let e={},t={},r={},i="",o=new Cs([],e,r,i,t,be,n,null,{});return new dh("",new tn(o,[]))}var gi=class{constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(se(u=>u[Dc]))??re(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(e=>Ts(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(e=>Ts(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function uh(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),n.params),data:U(U({},e.data),n.data),resolve:U(U(U(U({},n.data),e.data),i?.data),n._resolvedData)}:r={params:U({},n.params),data:U({},n.data),resolve:U(U({},n.data),n._resolvedData??{})},i&&dx(i)&&(r.resolve[Dc]=i.title),r}var Cs=class{get title(){return this.data?.[Dc]}constructor(e,t,r,i,o,s,a,l,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ts(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ts(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},dh=class extends ch{constructor(e,t){super(t),this.url=e,ly(this,t)}toString(){return ux(this._root)}};function ly(n,e){e.value._routerState=n,e.children.forEach(t=>ly(n,t))}function ux(n){let e=n.children.length>0?` { ${n.children.map(ux).join(", ")} } `:"";return`${n.value}${e}`}function kv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Zn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Zn(e.params,t.params)||n.paramsSubject.next(t.params),O2(e.url,t.url)||n.urlSubject.next(t.url),Zn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ty(n,e){let t=Zn(n.params,e.params)&&V2(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||ty(n.parent,e.parent))}function dx(n){return typeof n.title=="string"||n.title===null}var uy=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=be,this.activateEvents=new tt,this.deactivateEvents=new tt,this.attachEvents=new tt,this.detachEvents=new tt,this.parentContexts=L(Sc),this.location=L(Wn),this.changeDetector=L(Nn),this.inputBinder=L(mh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new te(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new te(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new te(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new te(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new ny(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=He({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[dn]})}}return n})(),ny=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===gi?this.route:e===Sc?this.childContexts:this.parent.get(e,t)}},mh=new W(""),HT=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Ui([r.queryParams,r.params,r.data]).pipe(et(([o,s,a],l)=>(a=U(U(U({},o),s),a),l===0?re(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=tT(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})();function cV(n,e,t){let r=wc(n,e._root,t?t._root:void 0);return new lh(r,e)}function wc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=lV(n,e,t);return new tn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>wc(n,a)),s}}let r=uV(e.value),i=e.children.map(o=>wc(n,o));return new tn(r,i)}}function lV(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return wc(n,r,i);return wc(n,r)})}function uV(n){return new gi(new qe(n.url),new qe(n.params),new qe(n.queryParams),new qe(n.fragment),new qe(n.data),n.outlet,n.component,n)}var bc=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},hx="ngNavigationCancelingError";function hh(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=ho(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=fx(!1,nn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function fx(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[hx]=!0,t.cancellationCode=e,t}function dV(n){return px(n)&&ho(n.url)}function px(n){return!!n&&n[hx]}var hV=(n,e,t,r)=>se(i=>(new ry(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),ry=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),kv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Is(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Is(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Is(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Is(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Zv(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Qv(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(kv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),kv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},fh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ds=class{constructor(e,t){this.component=e,this.route=t}};function fV(n,e,t){let r=n._root,i=e?e._root:null;return hc(r,i,t,[r.value])}function pV(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Rs(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!yE(n)?n:e.get(n):r}function hc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Is(e);return n.children.forEach(s=>{mV(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>gc(a,t.getContext(s),i)),i}function mV(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=gV(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new fh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?hc(n,e,a?a.children:null,r,i):hc(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ds(a.outlet.component,s))}else s&&gc(e,a,i),i.canActivateChecks.push(new fh(r)),o.component?hc(n,null,a?a.children:null,r,i):hc(n,null,t,r,i);return i}function gV(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!uo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!uo(n.url,e.url)||!Zn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ty(n,e)||!Zn(n.queryParams,e.queryParams);case"paramsChange":default:return!ty(n,e)}}function gc(n,e,t){let r=Is(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?gc(s,e.children.getContext(o),t):gc(s,null,t):gc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ds(e.outlet.component,i)):t.canDeactivateChecks.push(new Ds(null,i)):t.canDeactivateChecks.push(new Ds(null,i))}function Ac(n){return typeof n=="function"}function vV(n){return typeof n=="boolean"}function yV(n){return n&&Ac(n.canLoad)}function _V(n){return n&&Ac(n.canActivate)}function wV(n){return n&&Ac(n.canActivateChild)}function bV(n){return n&&Ac(n.canDeactivate)}function IV(n){return n&&Ac(n.canMatch)}function mx(n){return n instanceof mr||n?.name==="EmptyError"}var Xd=Symbol("INITIAL_VALUE");function Ms(){return et(n=>Ui(n.map(e=>e.pipe(cn(1),rm(Xd)))).pipe(se(e=>{for(let t of e)if(t!==!0){if(t===Xd)return Xd;if(t===!1||EV(t))return t}return!0}),qt(e=>e!==Xd),cn(1)))}function EV(n){return ho(n)||n instanceof bc}function CV(n,e){return rt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?re(me(U({},t),{guardsResult:!0})):DV(s,r,i,n).pipe(rt(a=>a&&vV(a)?TV(r,o,n,e):re(a)),se(a=>me(U({},t),{guardsResult:a})))})}function DV(n,e,t,r){return Le(n).pipe(rt(i=>RV(i.component,i.route,t,e,r)),Vn(i=>i!==!0,!0))}function TV(n,e,t,r){return Le(e).pipe(gr(i=>Ko(SV(i.route.parent,r),xV(i.route,r),MV(n,i.path,t),AV(n,i.route,t))),Vn(i=>i!==!0,!0))}function xV(n,e){return n!==null&&e&&e(new Yv(n)),re(!0)}function SV(n,e){return n!==null&&e&&e(new Kv(n)),re(!0)}function AV(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return re(!0);let i=r.map(o=>Eu(()=>{let s=xc(e)??t,a=Rs(o,s),l=_V(a)?a.canActivate(e,n):Xt(s,()=>a(e,n));return vi(l).pipe(Vn())}));return re(i).pipe(Ms())}function MV(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>pV(s)).filter(s=>s!==null).map(s=>Eu(()=>{let a=s.guards.map(l=>{let u=xc(s.node)??t,h=Rs(l,u),p=wV(h)?h.canActivateChild(r,n):Xt(u,()=>h(r,n));return vi(p).pipe(Vn())});return re(a).pipe(Ms())}));return re(o).pipe(Ms())}function RV(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return re(!0);let s=o.map(a=>{let l=xc(e)??i,u=Rs(a,l),h=bV(u)?u.canDeactivate(n,e,t,r):Xt(l,()=>u(n,e,t,r));return vi(h).pipe(Vn())});return re(s).pipe(Ms())}function PV(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return re(!0);let o=i.map(s=>{let a=Rs(s,n),l=yV(a)?a.canLoad(e,t):Xt(n,()=>a(e,t));return vi(l)});return re(o).pipe(Ms(),gx(r))}function gx(n){return Hp(Ye(e=>{if(typeof e!="boolean")throw hh(n,e)}),se(e=>e===!0))}function NV(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return re(!0);let o=i.map(s=>{let a=Rs(s,n),l=IV(a)?a.canMatch(e,t):Xt(n,()=>a(e,t));return vi(l)});return re(o).pipe(Ms(),gx(r))}var Ic=class{constructor(e){this.segmentGroup=e||null}},Ec=class extends Error{constructor(e){super(),this.urlTree=e}};function bs(n){return Go(new Ic(n))}function OV(n){return Go(new te(4e3,!1))}function kV(n){return Go(fx(!1,nn.GuardRejected))}var iy=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return re(r);if(i.numberOfChildren>1||!i.children[be])return OV(`${e.redirectTo}`);i=i.children[be]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:u,routeConfig:h,url:p,outlet:_,params:w,data:x,title:k}=i,O=Xt(o,()=>a({params:w,data:x,queryParams:l,fragment:u,routeConfig:h,url:p,outlet:_,title:k}));if(O instanceof kr)throw new Ec(O);t=O}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Ec(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new kr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new ke(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new te(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},oy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function FV(n,e,t,r,i){let o=vx(n,e,t);return o.matched?(r=oV(e,r),NV(r,e,t,i).pipe(se(s=>s===!0?o:U({},oy)))):re(o)}function vx(n,e,t){if(e.path==="**")return LV(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?U({},oy):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||N2)(t,n,e);if(!i)return U({},oy);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?U(U({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function LV(n){return{matched:!0,parameters:n.length>0?YT(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function zT(n,e,t,r){return t.length>0&&UV(n,t,r)?{segmentGroup:new ke(e,jV(r,new ke(t,n.children))),slicedSegments:[]}:t.length===0&&BV(n,t,r)?{segmentGroup:new ke(n.segments,VV(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ke(n.segments,n.children),slicedSegments:t}}function VV(n,e,t,r){let i={};for(let o of t)if(gh(n,e,o)&&!r[On(o)]){let s=new ke([],{});i[On(o)]=s}return U(U({},r),i)}function jV(n,e){let t={};t[be]=e;for(let r of n)if(r.path===""&&On(r)!==be){let i=new ke([],{});t[On(r)]=i}return t}function UV(n,e,t){return t.some(r=>gh(n,e,r)&&On(r)!==be)}function BV(n,e,t){return t.some(r=>gh(n,e,r))}function gh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function $V(n,e,t){return e.length===0&&!n.children[t]}var sy=class{};function HV(n,e,t,r,i,o,s="emptyOnly"){return new ay(n,e,t,r,i,s,o).recognize()}var zV=31,ay=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new iy(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new te(4002,`'${e.segmentGroup}'`)}recognize(){let e=zT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(se(({children:t,rootSnapshot:r})=>{let i=new tn(r,t),o=new dh("",i),s=J2(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Cs([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),be,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,be,t).pipe(se(r=>({children:r,rootSnapshot:t})),In(r=>{if(r instanceof Ec)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ic?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(se(s=>s instanceof tn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Le(o).pipe(gr(s=>{let a=r.children[s],l=sV(t,s);return this.processSegmentGroup(e,l,a,s,i)}),em((s,a)=>(s.push(...a),s)),Zr(null),Jp(),rt(s=>{if(s===null)return bs(r);let a=yx(s);return qV(a),re(a)}))}processSegment(e,t,r,i,o,s,a){return Le(t).pipe(gr(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,s,a).pipe(In(u=>{if(u instanceof Ic)return re(null);throw u}))),Vn(l=>!!l),In(l=>{if(mx(l))return $V(r,i,o)?re(new sy):bs(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,l){return On(r)!==s&&(s===be||!gh(i,o,r))?bs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,l):bs(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:l,parameters:u,consumedSegments:h,positionalParamSegments:p,remainingSegments:_}=vx(t,i,o);if(!l)return bs(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>zV&&(this.allowRedirects=!1));let w=new Cs(o,u,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,qT(i),On(i),i.component??i._loadedComponent??null,i,GT(i)),x=uh(w,a,this.paramsInheritanceStrategy);w.params=Object.freeze(x.params),w.data=Object.freeze(x.data);let k=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,w,e);return this.applyRedirects.lineralizeSegments(i,k).pipe(rt(O=>this.processSegment(e,r,t,O.concat(_),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=FV(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(et(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(et(({routes:u})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:_,remainingSegments:w}=l,x=new Cs(_,p,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,qT(r),On(r),r.component??r._loadedComponent??null,r,GT(r)),k=uh(x,s,this.paramsInheritanceStrategy);x.params=Object.freeze(k.params),x.data=Object.freeze(k.data);let{segmentGroup:O,slicedSegments:$}=zT(t,_,w,u);if($.length===0&&O.hasChildren())return this.processChildren(h,u,O,x).pipe(se(Q=>new tn(x,Q)));if(u.length===0&&$.length===0)return re(new tn(x,[]));let Y=On(r)===o;return this.processSegment(h,u,O,$,Y?be:o,!0,x).pipe(se(Q=>new tn(x,Q instanceof tn?[Q]:[])))}))):bs(t)))}getChildConfig(e,t,r){return t.children?re({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?re({routes:t._loadedRoutes,injector:t._loadedInjector}):PV(e,t,r,this.urlSerializer).pipe(rt(i=>i?this.configLoader.loadChildren(e,t).pipe(Ye(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):kV(t))):re({routes:[],injector:e})}};function qV(n){n.sort((e,t)=>e.value.outlet===be?-1:t.value.outlet===be?1:e.value.outlet.localeCompare(t.value.outlet))}function GV(n){let e=n.value.routeConfig;return e&&e.path===""}function yx(n){let e=[],t=new Set;for(let r of n){if(!GV(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=yx(r.children);e.push(new tn(r.value,i))}return e.filter(r=>!t.has(r))}function qT(n){return n.data||{}}function GT(n){return n.resolve||{}}function WV(n,e,t,r,i,o){return rt(s=>HV(n,e,t,r,s.extractedUrl,i,o).pipe(se(({state:a,tree:l})=>me(U({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function KV(n,e){return rt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return re(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let u of _x(l))s.add(u);let a=0;return Le(s).pipe(gr(l=>o.has(l)?QV(l,r,n,e):(l.data=uh(l,l.parent,n).resolve,re(void 0))),Ye(()=>a++),Qo(1),rt(l=>a===s.size?re(t):jt))})}function _x(n){let e=n.children.map(t=>_x(t)).flat();return[n,...e]}function QV(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!dx(i)&&(o[Dc]=i.title),YV(o,n,e,r).pipe(se(s=>(n._resolvedData=s,n.data=uh(n,n.parent,t).resolve,null)))}function YV(n,e,t,r){let i=Vv(n);if(i.length===0)return re({});let o={};return Le(i).pipe(rt(s=>ZV(n[s],e,t,r).pipe(Vn(),Ye(a=>{if(a instanceof bc)throw hh(new xs,a);o[s]=a}))),Qo(1),Zp(o),In(s=>mx(s)?jt:Go(s)))}function ZV(n,e,t,r){let i=xc(e)??r,o=Rs(n,i),s=o.resolve?o.resolve(e,t):Xt(i,()=>o(e,t));return vi(s)}function Fv(n){return et(e=>{let t=n(e);return t?Le(t).pipe(se(()=>e)):re(e)})}var wx=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===be);return r}getResolvedTitleForRoute(t){return t.data[Dc]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:()=>L(JV),providedIn:"root"})}}return n})(),JV=(()=>{class n extends wx{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(Z(VT))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Mc=new W("",{providedIn:"root",factory:()=>({})}),XV=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Ve({type:n,selectors:[["ng-component"]],standalone:!0,features:[je],decls:1,vars:0,template:function(r,i){r&1&&ne(0,"router-outlet")},dependencies:[uy],encapsulation:2})}}return n})();function dy(n){let e=n.children&&n.children.map(dy),t=e?me(U({},n),{children:e}):U({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==be&&(t.component=XV),t}var Cc=new W(""),hy=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=L(Ud)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return re(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=vi(t.loadComponent()).pipe(se(bx),Ye(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),$i(()=>{this.componentLoaders.delete(t)})),i=new $o(r,()=>new We).pipe(Bo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return re({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=ej(r,this.compiler,t,this.onLoadEndListener).pipe($i(()=>{this.childrenLoaders.delete(r)})),s=new $o(o,()=>new We).pipe(Bo());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ej(n,e,t,r){return vi(n.loadChildren()).pipe(se(bx),rt(i=>i instanceof Ga||Array.isArray(i)?re(i):Le(e.compileModuleAsync(i))),se(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Cc,[],{optional:!0,self:!0}).flat()),{routes:s.map(dy),injector:o}}))}function tj(n){return n&&typeof n=="object"&&"default"in n}function bx(n){return tj(n)?n.default:n}var fy=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:()=>L(nj),providedIn:"root"})}}return n})(),nj=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ix=new W(""),Ex=new W("");function rj(n,e,t){let r=n.get(Ex),i=n.get(Mt);return n.get(Oe).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),ij(n))),{onViewTransitionCreated:l}=r;return l&&Xt(n,()=>l({transition:a,from:e,to:t})),s})}function ij(n){return new Promise(e=>{sv({read:()=>setTimeout(e)},{injector:n})})}var oj=new W(""),py=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new We,this.transitionAbortSubject=new We,this.configLoader=L(hy),this.environmentInjector=L($t),this.urlSerializer=L(Tc),this.rootContexts=L(Sc),this.location=L(ws),this.inputBindingEnabled=L(mh,{optional:!0})!==null,this.titleStrategy=L(wx),this.options=L(Mc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=L(fy),this.createViewTransition=L(Ix,{optional:!0}),this.navigationErrorHandler=L(oj,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>re(void 0),this.rootComponentType=null;let t=i=>this.events.next(new Gv(i)),r=i=>this.events.next(new Wv(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(me(U(U({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new qe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:mc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(qt(o=>o.id!==0),se(o=>me(U({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),et(o=>{let s=!1,a=!1;return re(o).pipe(et(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",nn.SupersededByNewNavigation),jt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?me(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!u&&h!=="reload"){let p="";return this.events.next(new mi(l.id,this.urlSerializer.serialize(l.rawUrl),p,oh.IgnoredSameUrlNavigation)),l.resolve(!1),jt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return re(l).pipe(et(p=>{let _=this.transitions?.getValue();return this.events.next(new Ss(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),_!==this.transitions?.getValue()?jt:Promise.resolve(p)}),WV(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ye(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=me(U({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let _=new sh(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(_)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:p,extractedUrl:_,source:w,restoredState:x,extras:k}=l,O=new Ss(p,this.urlSerializer.serialize(_),w,x);this.events.next(O);let $=lx(this.rootComponentType).snapshot;return this.currentTransition=o=me(U({},l),{targetSnapshot:$,urlAfterRedirects:_,extras:me(U({},k),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,re(o)}else{let p="";return this.events.next(new mi(l.id,this.urlSerializer.serialize(l.extractedUrl),p,oh.IgnoredByUrlHandlingStrategy)),l.resolve(!1),jt}}),Ye(l=>{let u=new $v(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),se(l=>(this.currentTransition=o=me(U({},l),{guards:fV(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),CV(this.environmentInjector,l=>this.events.next(l)),Ye(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw hh(this.urlSerializer,l.guardsResult);let u=new Hv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),qt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",nn.GuardRejected),!1)),Fv(l=>{if(l.guards.canActivateChecks.length)return re(l).pipe(Ye(u=>{let h=new zv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),et(u=>{let h=!1;return re(u).pipe(KV(this.paramsInheritanceStrategy,this.environmentInjector),Ye({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(u,"",nn.NoDataFromResolver)}}))}),Ye(u=>{let h=new qv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}))}),Fv(l=>{let u=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ye(_=>{h.component=_}),se(()=>{})));for(let _ of h.children)p.push(...u(_));return p};return Ui(u(l.targetSnapshot.root)).pipe(Zr(null),cn(1))}),Fv(()=>this.afterPreactivation()),et(()=>{let{currentSnapshot:l,targetSnapshot:u}=o,h=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return h?Le(h).pipe(se(()=>o)):re(o)}),se(l=>{let u=cV(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=me(U({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),Ye(()=>{this.events.next(new _c)}),hV(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),cn(1),Ye({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Jn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),ja(this.transitionAbortSubject.pipe(Ye(l=>{throw l}))),$i(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",nn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),In(l=>{if(a=!0,px(l))this.events.next(new Or(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),dV(l)?this.events.next(new As(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let u=new yc(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let h=Xt(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(h instanceof bc){let{message:p,cancellationCode:_}=hh(this.urlSerializer,h);this.events.next(new Or(o.id,this.urlSerializer.serialize(o.extractedUrl),p,_)),this.events.next(new As(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(u);let p=t.errorHandler(l);o.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return jt}))}))}cancelNavigationTransition(t,r,i){let o=new Or(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function sj(n){return n!==mc}var aj=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:()=>L(cj),providedIn:"root"})}}return n})(),cy=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},cj=(()=>{class n extends cy{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Rn(n)))(i||n)}})()}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Cx=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:()=>L(lj),providedIn:"root"})}}return n})(),lj=(()=>{class n extends Cx{constructor(){super(...arguments),this.location=L(ws),this.urlSerializer=L(Tc),this.options=L(Mc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=L(fy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new kr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=lx(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Ss)this.stateMemento=this.createStateMemento();else if(t instanceof mi)this.rawUrlTree=r.initialUrl;else if(t instanceof sh){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof _c?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Or&&(t.code===nn.GuardRejected||t.code===nn.NoDataFromResolver)?this.restoreHistory(r):t instanceof yc?this.restoreHistory(r,!0):t instanceof Jn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof kr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=U(U({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=U(U({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Rn(n)))(i||n)}})()}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fc=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(fc||{});function Dx(n,e){n.events.pipe(qt(t=>t instanceof Jn||t instanceof Or||t instanceof yc||t instanceof mi),se(t=>t instanceof Jn||t instanceof mi?fc.COMPLETE:(t instanceof Or?t.code===nn.Redirect||t.code===nn.SupersededByNewNavigation:!1)?fc.REDIRECTING:fc.FAILED),qt(t=>t!==fc.REDIRECTING),cn(1)).subscribe(()=>{e()})}function uj(n){throw n}var dj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},bt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=L(jd),this.stateManager=L(Cx),this.options=L(Mc,{optional:!0})||{},this.pendingTasks=L(li),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=L(py),this.urlSerializer=L(Tc),this.location=L(ws),this.urlHandlingStrategy=L(fy),this._events=new We,this.errorHandler=this.options.errorHandler||uj,this.navigated=!1,this.routeReuseStrategy=L(aj),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=L(Cc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!L(mh,{optional:!0}),this.eventsSubscription=new $e,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Or&&r.code!==nn.Redirect&&r.code!==nn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Jn)this.navigated=!0;else if(r instanceof As){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=U({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||sj(i.source)},s);this.scheduleNavigation(a,mc,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}pj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),mc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=U({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(dy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=U(U({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let _=i?i.snapshot:this.routerState.snapshot.root;p=ox(_)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return sx(p,t,h,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=ho(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,mc,null,r)}navigate(t,r={skipLocationChange:!1}){return fj(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=U({},dj):r===!1?i=U({},hj):i=r,ho(t))return jT(this.currentUrlTree,t,i);let o=this.parseUrl(t);return jT(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((p,_)=>{a=p,l=_});let h=this.pendingTasks.add();return Dx(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function fj(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new te(4008,!1)}function pj(n){return!(n instanceof _c)&&!(n instanceof As)}var vh=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new We,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof Jn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ho(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:BC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:ho(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(J(bt),J(gi),Vg("tabindex"),J(pn),J(At),J(Pr))}}static{this.\u0275dir=He({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&ce("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&gs("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",di],skipLocationChange:[2,"skipLocationChange","skipLocationChange",di],replaceUrl:[2,"replaceUrl","replaceUrl",di],routerLink:"routerLink"},standalone:!0,features:[ov,dn]})}}return n})();var ph=class{};var mj=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(qt(t=>t instanceof Jn),gr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Nd(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Le(i).pipe(Wo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=re(null);let o=i.pipe(rt(s=>s===null?re(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Le([o,s]).pipe(Wo())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(Z(bt),Z(Ud),Z($t),Z(ph),Z(hy))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Tx=new W(""),gj=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ss?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Jn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof mi&&t.code===oh.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ah&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ah(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){eD()}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})();function xx(n,...e){return _t([{provide:Cc,multi:!0,useValue:n},[],{provide:gi,useFactory:Sx,deps:[bt]},{provide:tc,multi:!0,useFactory:Ax},e.map(t=>t.\u0275providers)])}function Sx(n){return n.routerState.root}function Rc(n,e){return{\u0275kind:n,\u0275providers:e}}function Ax(){let n=L(yt);return e=>{let t=n.get(ui);if(e!==t.components[0])return;let r=n.get(bt),i=n.get(Mx);n.get(my)===1&&r.initialNavigation(),n.get(Rx,null,Ee.Optional)?.setUpPreloading(),n.get(Tx,null,Ee.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Mx=new W("",{factory:()=>new We}),my=new W("",{providedIn:"root",factory:()=>1});function vj(){return Rc(2,[{provide:my,useValue:0},{provide:ec,multi:!0,deps:[yt],useFactory:e=>{let t=e.get(dT,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(bt),o=e.get(Mx);Dx(i,()=>{r(!0)}),e.get(py).afterPreactivation=()=>(r(!0),o.closed?re(void 0):o),i.initialNavigation()}))}}])}function yj(){return Rc(3,[{provide:ec,multi:!0,useFactory:()=>{let e=L(bt);return()=>{e.setUpLocationChangeListener()}}},{provide:my,useValue:2}])}var Rx=new W("");function _j(n){return Rc(0,[{provide:Rx,useExisting:mj},{provide:ph,useExisting:n}])}function wj(){return Rc(8,[HT,{provide:mh,useExisting:HT}])}function bj(n){let e=[{provide:Ix,useValue:rj},{provide:Ex,useValue:U({skipNextTransition:!!n?.skipInitialTransition},n)}];return Rc(9,e)}var WT=new W("ROUTER_FORROOT_GUARD"),Ij=[ws,{provide:Tc,useClass:xs},bt,Sc,{provide:gi,useFactory:Sx,deps:[bt]},hy,[]],yh=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Ij,[],{provide:Cc,multi:!0,useValue:t},{provide:WT,useFactory:Tj,deps:[[bt,new un,new bg]]},{provide:Mc,useValue:r||{}},r?.useHash?Cj():Dj(),Ej(),r?.preloadingStrategy?_j(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?xj(r):[],r?.bindToComponentInputs?wj().\u0275providers:[],r?.enableViewTransitions?bj().\u0275providers:[],Sj()]}}static forChild(t){return{ngModule:n,providers:[{provide:Cc,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(Z(WT,8))}}static{this.\u0275mod=An({type:n})}static{this.\u0275inj=Sn({})}}return n})();function Ej(){return{provide:Tx,useFactory:()=>{let n=L(yT),e=L(Oe),t=L(Mc),r=L(py),i=L(Tc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new gj(i,r,n,e,t)}}}function Cj(){return{provide:Pr,useClass:fT}}function Dj(){return{provide:Pr,useClass:yv}}function Tj(n){return"guarded"}function xj(n){return[n.initialNavigation==="disabled"?yj().\u0275providers:[],n.initialNavigation==="enabledBlocking"?vj().\u0275providers:[]]}var KT=new W("");function Sj(){return[{provide:KT,useFactory:Ax},{provide:tc,multi:!0,useExisting:KT}]}var Bx=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(J(pn),J(At))}}static{this.\u0275dir=He({type:n})}}return n})(),Th=(()=>{class n extends Bx{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Rn(n)))(i||n)}})()}static{this.\u0275dir=He({type:n,features:[en]})}}return n})(),jc=new W("");var Aj={provide:jc,useExisting:xn(()=>Fs),multi:!0};function Mj(){let n=Rr()?Rr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Rj=new W(""),Fs=(()=>{class n extends Bx{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Mj())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(J(pn),J(At),J(Rj,8))}}static{this.\u0275dir=He({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ce("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Sr([Aj]),en]})}}return n})();function gy(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}var xh=new W(""),$x=new W("");function Pj(n){return e=>{if(gy(e.value)||gy(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Nj(n){return gy(n.value)?{required:!0}:null}function Px(n){return null}function Hx(n){return n!=null}function zx(n){return ao(n)?Le(n):n}function qx(n){let e={};return n.forEach(t=>{e=t!=null?U(U({},e),t):e}),Object.keys(e).length===0?null:e}function Gx(n,e){return e.map(t=>t(n))}function Oj(n){return!n.validate}function Wx(n){return n.map(e=>Oj(e)?e:t=>e.validate(t))}function kj(n){if(!n)return null;let e=n.filter(Hx);return e.length==0?null:function(t){return qx(Gx(t,e))}}function yy(n){return n!=null?kj(Wx(n)):null}function Fj(n){if(!n)return null;let e=n.filter(Hx);return e.length==0?null:function(t){let r=Gx(t,e).map(zx);return Bi(r).pipe(se(qx))}}function _y(n){return n!=null?Fj(Wx(n)):null}function Nx(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Lj(n){return n._rawValidators}function Vj(n){return n._rawAsyncValidators}function vy(n){return n?Array.isArray(n)?n:[n]:[]}function wh(n,e){return Array.isArray(n)?n.includes(e):n===e}function Ox(n,e){let t=vy(e);return vy(n).forEach(i=>{wh(t,i)||t.push(i)}),t}function kx(n,e){return vy(e).filter(t=>!wh(n,t))}var bh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=yy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=_y(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Os=class extends bh{get formDirective(){return null}get path(){return null}},Vc=class extends bh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ih=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},jj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},$K=me(U({},jj),{"[class.ng-submitted]":"isSubmitted"}),Sh=(()=>{class n extends Ih{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(J(Vc,2))}}static{this.\u0275dir=He({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ht("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[en]})}}return n})(),Ah=(()=>{class n extends Ih{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(J(Os,10))}}static{this.\u0275dir=He({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ht("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[en]})}}return n})();var Nc="VALID",_h="INVALID",Ps="PENDING",Oc="DISABLED",ks=class{},Eh=class extends ks{constructor(e,t){super(),this.value=e,this.source=t}},Fc=class extends ks{constructor(e,t){super(),this.pristine=e,this.source=t}},Lc=class extends ks{constructor(e,t){super(),this.touched=e,this.source=t}},Ns=class extends ks{constructor(e,t){super(),this.status=e,this.source=t}};function Kx(n){return(Mh(n)?n.validators:n)||null}function Uj(n){return Array.isArray(n)?yy(n):n||null}function Qx(n,e){return(Mh(e)?e.asyncValidators:n)||null}function Bj(n){return Array.isArray(n)?_y(n):n||null}function Mh(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function $j(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new te(1e3,"");if(!r[t])throw new te(1001,"")}function Hj(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new te(1002,"")})}var Ch=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=co(()=>this.statusReactive()),this.statusReactive=ms(void 0),this._pristine=co(()=>this.pristineReactive()),this.pristineReactive=ms(!0),this._touched=co(()=>this.touchedReactive()),this.touchedReactive=ms(!1),this._events=new We,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Kn(this.statusReactive)}set status(e){Kn(()=>this.statusReactive.set(e))}get valid(){return this.status===Nc}get invalid(){return this.status===_h}get pending(){return this.status==Ps}get disabled(){return this.status===Oc}get enabled(){return this.status!==Oc}get pristine(){return Kn(this.pristineReactive)}set pristine(e){Kn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Kn(this.touchedReactive)}set touched(e){Kn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ox(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ox(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(kx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(kx(e,this._rawAsyncValidators))}hasValidator(e){return wh(this._rawValidators,e)}hasAsyncValidator(e){return wh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(me(U({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Lc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Lc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(me(U({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Fc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Fc(!0,r))}markAsPending(e={}){this.status=Ps;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ns(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(me(U({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Oc,this.errors=null,this._forEachChild(i=>{i.disable(me(U({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Eh(this.value,r)),this._events.next(new Ns(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(me(U({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Nc,this._forEachChild(r=>{r.enable(me(U({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(me(U({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nc||this.status===Ps)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Eh(this.value,t)),this._events.next(new Ns(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(me(U({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Oc:Nc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ps,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=zx(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ns(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new tt,this.statusChanges=new tt}_calculateStatus(){return this._allControlsDisabled()?Oc:this.errors?_h:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ps)?Ps:this._anyControlsHaveStatus(_h)?_h:Nc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Fc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Lc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Mh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Uj(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Bj(this._rawAsyncValidators)}},Dh=class extends Ch{constructor(e,t,r){super(Kx(t),Qx(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Hj(this,!0,e),Object.keys(e).forEach(r=>{$j(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var wy=new W("CallSetDisabledState",{providedIn:"root",factory:()=>by}),by="always";function zj(n,e){return[...e.path,n]}function Yx(n,e,t=by){Zx(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Gj(n,e),Kj(n,e),Wj(n,e),qj(n,e)}function Fx(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function qj(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Zx(n,e){let t=Lj(n);e.validator!==null?n.setValidators(Nx(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=Vj(n);e.asyncValidator!==null?n.setAsyncValidators(Nx(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Fx(e._rawValidators,i),Fx(e._rawAsyncValidators,i)}function Gj(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Jx(n,e)})}function Wj(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Jx(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function Jx(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Kj(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function Qj(n,e){n==null,Zx(n,e)}function Yj(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Zj(n){return Object.getPrototypeOf(n.constructor)===Th}function Jj(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Xj(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Fs?t=o:Zj(o)?r=o:i=o}),i||r||t||null}var eU={provide:Os,useExisting:xn(()=>Uc)},kc=Promise.resolve(),Uc=(()=>{class n extends Os{get submitted(){return Kn(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=co(()=>this.submittedReactive()),this.submittedReactive=ms(!1),this._directives=new Set,this.ngSubmit=new tt,this.form=new Dh({},yy(t),_y(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){kc.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Yx(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){kc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){kc.then(()=>{let r=this._findContainer(t.path),i=new Dh({});Qj(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){kc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){kc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),Jj(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(J(xh,10),J($x,10),J(wy,8))}}static{this.\u0275dir=He({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&ce("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Sr([eU]),en]})}}return n})();function Lx(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Vx(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var tU=class extends Ch{constructor(e=null,t,r){super(Kx(t),Qx(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Vx(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Lx(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Lx(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Vx(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var nU={provide:Vc,useExisting:xn(()=>Bc)},jx=Promise.resolve(),Bc=(()=>{class n extends Vc{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new tU,this._registered=!1,this.name="",this.update=new tt,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Xj(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Yj(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Yx(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){jx.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&di(r);jx.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?zj(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(J(Os,9),J(xh,10),J($x,10),J(jc,10),J(Nn,8),J(wy,8))}}static{this.\u0275dir=He({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Sr([nU]),en,dn]})}}return n})(),Rh=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=He({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),rU={provide:jc,useExisting:xn(()=>Iy),multi:!0},Iy=(()=>{class n extends Th{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Rn(n)))(i||n)}})()}static{this.\u0275dir=He({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&ce("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Sr([rU]),en]})}}return n})();var iU={provide:jc,useExisting:xn(()=>Ph),multi:!0};function Xx(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function oU(n){return n.split(":")[0]}var Ph=(()=>{class n extends Th{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=Xx(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=oU(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Rn(n)))(i||n)}})()}static{this.\u0275dir=He({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&ce("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Sr([iU]),en]})}}return n})(),eS=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(Xx(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(J(At),J(pn),J(Ph,9))}}static{this.\u0275dir=He({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),sU={provide:jc,useExisting:xn(()=>tS),multi:!0};function Ux(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function aU(n){return n.split(":")[0]}var tS=(()=>{class n extends Th{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],u=this._getOptionValue(l.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=aU(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Rn(n)))(i||n)}})()}static{this.\u0275dir=He({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&ce("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Sr([sU]),en]})}}return n})(),nS=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(Ux(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Ux(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(J(At),J(pn),J(tS,9))}}static{this.\u0275dir=He({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();function cU(n){return typeof n=="number"?n:parseFloat(n)}var rS=(()=>{class n{constructor(){this._validator=Px}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Px,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=He({type:n,features:[dn]})}}return n})();var lU={provide:xh,useExisting:xn(()=>Ey),multi:!0},Ey=(()=>{class n extends rS{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>cU(t),this.createValidator=t=>Pj(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Rn(n)))(i||n)}})()}static{this.\u0275dir=He({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&gs("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[Sr([lU]),en]})}}return n})(),uU={provide:xh,useExisting:xn(()=>$c),multi:!0};var $c=(()=>{class n extends rS{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=di,this.createValidator=t=>Nj}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Rn(n)))(i||n)}})()}static{this.\u0275dir=He({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&gs("required",i._enabled?"":null)},inputs:{required:"required"},features:[Sr([uU]),en]})}}return n})();var dU=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=An({type:n})}static{this.\u0275inj=Sn({})}}return n})();var Ls=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:wy,useValue:t.callSetDisabledState??by}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=An({type:n})}static{this.\u0275inj=Sn({imports:[dU]})}}return n})();function Nh(n){n||(fd(Nh),n=L(ci));let e=new _e(t=>n.onDestroy(t.next.bind(t)));return t=>t.pipe(ja(e))}function oS(n){return typeof n=="function"}function yi(n){return typeof n=="string"}function Hc(n){return!!n&&typeof n=="object"&&!Array.isArray(n)}function Oh(n){return n==null}function Cy(n){return!Oh(n)}function Dy(n){return n?Array.isArray(n)||yi(n)?n.length:Hc(n)?Object.keys(n).length:0:0}function sS(n){return Dy(n)===0}function Ty(n){return n.replace(/(?:^\w|[A-Z]|\b\w)/g,(e,t)=>t==0?e.toLowerCase():e.toUpperCase()).replace(/\s+|_|-|\//g,"")}var Ay=class{translations;constructor(e){this.translations=e}getTranslation(e){return re(this.translations.get(e)||{})}},cS=new W(""),js=new W("",{providedIn:"root",factory:()=>Vs}),Vs={defaultLang:"en",reRenderOnLangChange:!1,prodMode:!1,failedRetries:2,fallbackLang:[],availableLangs:[],missingHandler:{logMissingKey:!0,useFallbackTranslation:!1,allowEmpty:!1},flatten:{aot:!1},interpolation:["{{","}}"],scopes:{keepCasing:!1}};function hU(n={}){return me(U(U({},Vs),n),{missingHandler:U(U({},Vs.missingHandler),n.missingHandler),flatten:U(U({},Vs.flatten),n.flatten),scopes:U(U({},Vs.scopes),n.scopes)})}function xy(n,e){return n&&(Object.prototype.hasOwnProperty.call(n,e)?n[e]:e.split(".").reduce((t,r)=>t?.[r],n))}function fU(n,e,t){n=U({},n);let r=e.split("."),i=r.length-1;return r.reduce((o,s,a)=>(a===i?o[s]=t:o[s]=Array.isArray(o[s])?o[s].slice():U({},o[s]),o&&o[s]),n),n}var lS=new W(""),pU=(()=>{class n{config=L(js,{optional:!0})??Vs;get interpolationMatcher(){return mU(this.config)}transpile({value:t,params:r={},translation:i,key:o}){if(yi(t)){let s,a=t;for(;(s=this.interpolationMatcher.exec(a))!==null;){let[l,u]=s;a=a.replace(l,()=>{let h=u.trim(),p=xy(r,h);return Cy(p)?p:Cy(i[h])?this.transpile({params:r,translation:i,key:o,value:i[h]}):""})}return a}else r&&(Hc(t)?t=this.handleObject({value:t,params:r,translation:i,key:o}):Array.isArray(t)&&(t=this.handleArray({value:t,params:r,translation:i,key:o})));return t}handleObject({value:t,params:r={},translation:i,key:o}){let s=t;return Object.keys(r).forEach(a=>{let l=this.transpile({value:xy(s,a),params:xy(r,a),translation:i,key:o});s=fU(s,a,l)}),s}handleArray(i){var o=i,{value:t}=o,r=Fo(o,["value"]);return t.map(s=>this.transpile(U({value:s},r)))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})();function mU(n){let[e,t]=n.interpolation;return new RegExp(`${e}([^${e}${t}]*?)${t}`,"g")}var uS=new W(""),gU=(()=>{class n{handle(t,r){if(r.missingHandler.logMissingKey&&!r.prodMode){let i=`Missing translation for '${t}'`;console.warn(`%c ${i}`,"font-size: 12px; color: red")}return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),dS=new W(""),vU=(()=>{class n{preSaveTranslation(t){return t}preSaveTranslationKey(t,r){return r}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),hS=new W(""),yU=(()=>{class n{userConfig;constructor(t){this.userConfig=t}getNextLangs(){let t=this.userConfig.fallbackLang;if(!t)throw new Error("When using the default fallback, a fallback language must be provided in the config!");return Array.isArray(t)?t:[t]}static \u0275fac=function(r){return new(r||n)(Z(js))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})();function fS(n){let{path:e,inlineLoader:t,mainLoader:r,data:i}=n;if(t){let o=t[e];if(oS(o)===!1)throw`You're using an inline loader but didn't provide a loader for ${e}`;return t[e]().then(s=>s.default?s.default:s)}return r.getTranslation(e,i)}function _U({mainLoader:n,path:e,data:t,fallbackPath:r,inlineLoader:i}){return(r?[e,r]:[e]).map(s=>{let a=fS({path:s,mainLoader:n,inlineLoader:i,data:t});return Le(a).pipe(se(l=>({translation:l,lang:s})))})}function aS(n){let e={};function t(r,i){if(r===null)e[i]=null;else if(Hc(r))for(let[o,s]of Object.entries(r))t(s,i?`${i}.${o}`:o);else e[i]=r}return t(n,""),e}function wU(n){let e={};for(let[t,r]of Object.entries(n)){let i=t.split("."),o=e;i.forEach((s,a)=>{a===i.length-1?o[s]=r:(o[s]??={},o=o[s])})}return e}function zc(n){if(!n)return"";let e=n.split("/");return e.pop(),e.join("/")}function _i(n){return n?n.split("/").pop():""}function bU(n,e){return Object.keys(n).reduce((t,r)=>(t[`${e}/${r}`]=n[r],t),{})}function pS(n){return typeof n?.scope=="string"}function IU(n){return n?.loader&&Hc(n.loader)}function Py(n,e){return IU(n)?bU(n.loader,e):void 0}function Sy(n){return{scope:zc(n)||null,langName:_i(n)}}var EU;var Kt=(()=>{class n{loader;parser;missingHandler;interceptor;fallbackStrategy;langChanges$;translations=new Map;cache=new Map;firstFallbackLang;defaultLang="";availableLangs=[];isResolvedMissingOnce=!1;lang;failedLangs=new Set;events=new We;events$=this.events.asObservable();config;destroyRef=L(ci);constructor(t,r,i,o,s,a){this.loader=t,this.parser=r,this.missingHandler=i,this.interceptor=o,this.fallbackStrategy=a,this.loader||(this.loader=new Ay(this.translations)),EU=this,this.config=JSON.parse(JSON.stringify(s)),this.setAvailableLangs(this.config.availableLangs||[]),this.setFallbackLangForMissingTranslation(this.config),this.setDefaultLang(this.config.defaultLang),this.lang=new qe(this.getDefaultLang()),this.langChanges$=this.lang.asObservable(),this.events$.subscribe(l=>{l.type==="translationLoadSuccess"&&l.wasFailure&&this.setActiveLang(l.payload.langName)}),this.destroyRef.onDestroy(()=>{this.lang.complete(),this.events.complete(),this.cache.clear()})}getDefaultLang(){return this.defaultLang}setDefaultLang(t){this.defaultLang=t}getActiveLang(){return this.lang.getValue()}setActiveLang(t){return this.parser.onLangChanged?.(t),this.lang.next(t),this.events.next({type:"langChanged",payload:Sy(t)}),this}setAvailableLangs(t){this.availableLangs=t}getAvailableLangs(){return this.availableLangs}load(t,r={}){let i=this.cache.get(t);if(i)return i;let o,s=this._isLangScoped(t),a;s&&(a=zc(t));let l={path:t,mainLoader:this.loader,inlineLoader:r.inlineLoader,data:s?{scope:a}:void 0};if(this.useFallbackTranslation(t)){let h=s?`${a}/${this.firstFallbackLang}`:this.firstFallbackLang,p=_U(me(U({},l),{fallbackPath:h}));o=Bi(p)}else{let h=fS(l);o=Le(h)}let u=o.pipe(Xp(this.config.failedRetries),Ye(h=>{if(Array.isArray(h)){h.forEach(p=>{this.handleSuccess(p.lang,p.translation),p.lang!==t&&this.cache.set(p.lang,re({}))});return}this.handleSuccess(t,h)}),In(h=>(this.config.prodMode||console.error(`Error while trying to load "${t}"`,h),this.handleFailure(t,r))),nm(1),Nh(this.destroyRef));return this.cache.set(t,u),u}translate(t,r={},i=this.getActiveLang()){if(!t)return t;let{scope:o,resolveLang:s}=this.resolveLangAndScope(i);if(Array.isArray(t))return t.map(u=>this.translate(o?`${o}.${u}`:u,r,s));t=o?`${o}.${t}`:t;let a=this.getTranslation(s),l=a[t];return l?this.parser.transpile({value:l,params:r,translation:a,key:t}):this._handleMissingKey(t,l,r)}selectTranslate(t,r,i,o=!1){let s,a=(u,h)=>this.load(u,h).pipe(se(()=>o?this.translateObject(t,r,u):this.translate(t,r,u)));if(Oh(i))return this.langChanges$.pipe(et(u=>a(u)));if(i=Array.isArray(i)?i[0]:i,pS(i)){let u=i;i=u.scope,s=Py(u,u.scope)}if(i=i,this.isLang(i)||this.isScopeWithLang(i))return a(i);let l=i;return this.langChanges$.pipe(et(u=>a(`${l}/${u}`,{inlineLoader:s})))}isScopeWithLang(t){return this.isLang(_i(t))}translateObject(t,r={},i=this.getActiveLang()){if(yi(t)||Array.isArray(t)){let{resolveLang:s,scope:a}=this.resolveLangAndScope(i);if(Array.isArray(t))return t.map(h=>this.translateObject(a?`${a}.${h}`:h,r,s));let l=this.getTranslation(s);t=a?`${a}.${t}`:t;let u=wU(this.getObjectByKey(l,t));return sS(u)?this.translate(t,r,i):this.parser.transpile({value:u,params:r,translation:l,key:t})}let o=[];for(let[s,a]of this.getEntries(t))o.push(this.translateObject(s,a,i));return o}selectTranslateObject(t,r,i){if(yi(t)||Array.isArray(t))return this.selectTranslate(t,r,i,!0);let[[o,s],...a]=this.getEntries(t);return this.selectTranslateObject(o,s,i).pipe(se(l=>{let u=[l];for(let[h,p]of a)u.push(this.translateObject(h,p,i));return u}))}getTranslation(t){if(t){if(this.isLang(t))return this.translations.get(t)||{};{let{scope:r,resolveLang:i}=this.resolveLangAndScope(t),o=this.translations.get(i)||{};return this.getObjectByKey(o,r)}}return this.translations}selectTranslation(t){let r=this.langChanges$;if(t){let i=_i(t)!==t;this.isLang(t)||i?r=re(t):r=this.langChanges$.pipe(se(o=>`${t}/${o}`))}return r.pipe(et(i=>this.load(i).pipe(se(()=>this.getTranslation(i)))))}setTranslation(t,r=this.getActiveLang(),i={}){let s=U(U({},{merge:!0,emitChange:!0}),i),a=zc(r),l=t;if(a){let w=this.getMappedScope(a);l=aS({[w]:t})}let u=a?_i(r):r,h=U(U({},s.merge&&this.getTranslation(u)),l),p=this.config.flatten.aot?h:aS(h),_=this.interceptor.preSaveTranslation(p,u);this.translations.set(u,_),s.emitChange&&this.setActiveLang(this.getActiveLang())}setTranslationKey(t,r,i={}){let o=i.lang||this.getActiveLang(),s=this.interceptor.preSaveTranslationKey(t,r,o),a={[t]:s};this.setTranslation(a,o,me(U({},i),{merge:!0}))}setFallbackLangForMissingTranslation({fallbackLang:t}){let r=Array.isArray(t)?t[0]:t;t&&this.useFallbackTranslation(r)&&(this.firstFallbackLang=r)}_handleMissingKey(t,r,i){if(this.config.missingHandler.allowEmpty&&r==="")return"";if(!this.isResolvedMissingOnce&&this.useFallbackTranslation()){this.isResolvedMissingOnce=!0;let o=this.translate(t,i,this.firstFallbackLang);return this.isResolvedMissingOnce=!1,o}return this.missingHandler.handle(t,this.getMissingHandlerData(),i)}_isLangScoped(t){return this.getAvailableLangsIds().indexOf(t)===-1}isLang(t){return this.getAvailableLangsIds().indexOf(t)!==-1}_loadDependencies(t,r){let i=_i(t);return this._isLangScoped(t)&&!this.isLoadedTranslation(i)?Ui([this.load(i),this.load(t,{inlineLoader:r})]):this.load(t,{inlineLoader:r})}_completeScopeWithLang(t){return this._isLangScoped(t)&&!this.isLang(_i(t))?`${t}/${this.getActiveLang()}`:t}_setScopeAlias(t,r){this.config.scopeMapping||(this.config.scopeMapping={}),this.config.scopeMapping[t]=r}isLoadedTranslation(t){return Dy(this.getTranslation(t))}getAvailableLangsIds(){let t=this.getAvailableLangs()[0];return yi(t)?this.getAvailableLangs():this.getAvailableLangs().map(r=>r.id)}getMissingHandlerData(){return me(U({},this.config),{activeLang:this.getActiveLang(),availableLangs:this.availableLangs,defaultLang:this.defaultLang})}useFallbackTranslation(t){return this.config.missingHandler.useFallbackTranslation&&t!==this.firstFallbackLang}handleSuccess(t,r){this.setTranslation(r,t,{emitChange:!1}),this.events.next({wasFailure:!!this.failedLangs.size,type:"translationLoadSuccess",payload:Sy(t)}),this.failedLangs.forEach(i=>this.cache.delete(i)),this.failedLangs.clear()}handleFailure(t,r){Oh(r.failedCounter)&&(r.failedCounter=0,r.fallbackLangs||(r.fallbackLangs=this.fallbackStrategy.getNextLangs(t)));let i=t.split("/"),s=r.fallbackLangs[r.failedCounter];if(this.failedLangs.add(t),this.cache.has(s))return this.handleSuccess(s,this.getTranslation(s)),jt;let a=s===i[i.length-1];if(!s||a){let u="Unable to load translation and all the fallback languages";throw i.length>1&&(u+=", did you misspelled the scope name?"),new Error(u)}let l=s;return i.length>1&&(i[i.length-1]=s,l=i.join("/")),r.failedCounter++,this.events.next({type:"translationLoadFailure",payload:Sy(t)}),this.load(l,r)}getMappedScope(t){let{scopeMapping:r={},scopes:i={keepCasing:!1}}=this.config;return r[t]||(i.keepCasing?t:Ty(t))}resolveLangAndScope(t){let r=t,i;if(this._isLangScoped(t)){let o=_i(t),s=this.isLang(o);r=s?o:this.getActiveLang(),i=this.getMappedScope(s?zc(t):t)}return{scope:i,resolveLang:r}}getObjectByKey(t,r){let i={},o=`${r}.`;for(let s in t)s.startsWith(o)&&(i[s.replace(o,"")]=t[s]);return i}getEntries(t){return t instanceof Map?t.entries():Object.entries(t)}static \u0275fac=function(r){return new(r||n)(Z(cS,8),Z(lS),Z(uS),Z(dS),Z(js),Z(hS))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),CU=(()=>{class n{html;static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Ve({type:n,selectors:[["ng-component"]],inputs:{html:"html"},standalone:!0,features:[je],decls:1,vars:1,consts:[[1,"transloco-loader-template",3,"innerHTML"]],template:function(r,i){r&1&&ne(0,"div",0),r&2&&V("innerHTML",i.html,ro)},encapsulation:2})}return n})(),My=class{view;vcr;constructor(e,t){this.view=e,this.vcr=t}attachView(){if(this.view instanceof qn)this.vcr.createEmbeddedView(this.view);else if(yi(this.view)){let e=this.vcr.createComponent(CU);e.instance.html=this.view,e.hostView.detectChanges()}else this.vcr.createComponent(this.view)}detachView(){this.vcr.clear()}},mS=new W(""),DU=new W(""),gS=new W("");function Ry(n,e,t="|"){if(yi(n)){let r=n.split(t),i=r.pop();return i===e?[!0,r.toString()]:[!1,i]}return[!1,""]}function vS(n,e){let[t]=Ry(e,"static");return t?!1:!!n.config.reRenderOnLangChange}function yS(n){return n?e=>e:cn(1)}var kh=class{initialized=!1;resolve({inline:e,provider:t,active:r}){let i=r;if(this.initialized)return i=r,i;if(t){let[,o]=Ry(t,"static");i=o}if(e){let[,o]=Ry(e,"static");i=o}return this.initialized=!0,i}resolveLangBasedOnScope(e){return zc(e)?_i(e):e}resolveLangPath(e,t){return t?`${t}/${e}`:e}},Fh=class{service;constructor(e){this.service=e}resolve(e){let{inline:t,provider:r}=e;if(t)return t;if(r){if(pS(r)){let{scope:i,alias:o=this.service.config.scopes.keepCasing?i:Ty(i)}=r;return this.service._setScopeAlias(i,o),i}return r}}},Xn=(()=>{class n{destroyRef=L(ci);service=L(Kt);tpl=L(qn,{optional:!0});providerLang=L(mS,{optional:!0});providerScope=L(gS,{optional:!0});providedLoadingTpl=L(DU,{optional:!0});cdr=L(Nn);host=L(At);vcr=L(Wn);renderer=L(pn);view;memo=new Map;key;params={};inlineScope;inlineRead;prefix;inlineLang;inlineTpl;currentLang;loaderTplHandler;initialized=!1;path;langResolver=new kh;scopeResolver=new Fh(this.service);strategy=this.tpl===null?"attribute":"structural";static ngTemplateContextGuard(t,r){return!0}ngOnInit(){let t=vS(this.service,this.providerLang||this.inlineLang);if(this.service.langChanges$.pipe(et(r=>{let i=this.langResolver.resolve({inline:this.inlineLang,provider:this.providerLang,active:r});return Array.isArray(this.providerScope)?Bi(this.providerScope.map(o=>this.resolveScope(i,o))):this.resolveScope(i,this.providerScope)}),yS(t),Nh(this.destroyRef)).subscribe(()=>{this.currentLang=this.langResolver.resolveLangBasedOnScope(this.path),this.strategy==="attribute"?this.attributeStrategy():this.structuralStrategy(this.currentLang,this.prefix||this.inlineRead),this.cdr.markForCheck(),this.initialized=!0}),!this.initialized){let r=this.resolveLoadingContent();r&&(this.loaderTplHandler=new My(r,this.vcr),this.loaderTplHandler.attachView())}}ngOnChanges(t){this.strategy==="attribute"&&Object.keys(t).some(i=>!t[i].firstChange)&&this.attributeStrategy()}attributeStrategy(){this.detachLoader(),this.renderer.setProperty(this.host.nativeElement,"innerText",this.service.translate(this.key,this.params,this.currentLang))}structuralStrategy(t,r){this.memo.clear();let i=this.getTranslateFn(t,r);this.view?(this.view.context.$implicit=i,this.view.context.currentLang=this.currentLang):(this.detachLoader(),this.view=this.vcr.createEmbeddedView(this.tpl,{$implicit:i,currentLang:this.currentLang}))}getTranslateFn(t,r){return(i,o)=>{let s=r?`${r}.${i}`:i,a=o?`${s}${JSON.stringify(o)}`:s;return this.memo.has(a)||this.memo.set(a,this.service.translate(s,o,t)),this.memo.get(a)}}resolveLoadingContent(){return this.inlineTpl||this.providedLoadingTpl}ngOnDestroy(){this.memo.clear()}detachLoader(){this.loaderTplHandler?.detachView()}resolveScope(t,r){let i=this.scopeResolver.resolve({inline:this.inlineScope,provider:r});this.path=this.langResolver.resolveLangPath(t,i);let o=Py(r,i);return this.service._loadDependencies(this.path,o)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=He({type:n,selectors:[["","transloco",""]],inputs:{key:[0,"transloco","key"],params:[0,"translocoParams","params"],inlineScope:[0,"translocoScope","inlineScope"],inlineRead:[0,"translocoRead","inlineRead"],prefix:[0,"translocoPrefix","prefix"],inlineLang:[0,"translocoLang","inlineLang"],inlineTpl:[0,"translocoLoadingTpl","inlineTpl"]},standalone:!0,features:[dn]})}return n})(),Rt=(()=>{class n{service;providerScope;providerLang;cdr;subscription=null;lastValue="";lastKey;path;langResolver=new kh;scopeResolver;constructor(t,r,i,o){this.service=t,this.providerScope=r,this.providerLang=i,this.cdr=o,this.scopeResolver=new Fh(this.service)}transform(t,r,i){if(!t)return t;let o=r?`${t}${JSON.stringify(r)}`:t;if(o===this.lastKey)return this.lastValue;this.lastKey=o,this.subscription?.unsubscribe();let s=vS(this.service,this.providerLang||i);return this.subscription=this.service.langChanges$.pipe(et(a=>{let l=this.langResolver.resolve({inline:i,provider:this.providerLang,active:a});return Array.isArray(this.providerScope)?Bi(this.providerScope.map(u=>this.resolveScope(l,u))):this.resolveScope(l,this.providerScope)}),yS(s)).subscribe(()=>this.updateValue(t,r)),this.lastValue}ngOnDestroy(){this.subscription?.unsubscribe(),this.subscription=null}updateValue(t,r){let i=this.langResolver.resolveLangBasedOnScope(this.path);this.lastValue=this.service.translate(t,r,i),this.cdr.markForCheck()}resolveScope(t,r){let i=this.scopeResolver.resolve({inline:void 0,provider:r});this.path=this.langResolver.resolveLangPath(t,i);let o=Py(r,i);return this.service._loadDependencies(this.path,o)}static \u0275fac=function(r){return new(r||n)(J(Kt,16),J(gS,24),J(mS,24),J(Nn,16))};static \u0275pipe=dd({name:"transloco",type:n,pure:!1,standalone:!0})}return n})();var ot=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=An({type:n});static \u0275inj=Sn({})}return n})();function _S(n){let e=[SU(pU),MU(gU),RU(vU),AU(yU)];return n.config&&e.push(TU(n.config)),n.loader&&e.push(xU(n.loader)),e}function TU(n){return _t([{provide:js,useValue:hU(n)}])}function xU(n){return _t([{provide:cS,useClass:n}])}function SU(n){return _t([{provide:lS,useClass:n,deps:[js]}])}function AU(n){return _t([{provide:hS,useClass:n,deps:[js]}])}function MU(n){return _t([{provide:uS,useClass:n}])}function RU(n){return _t([{provide:dS,useClass:n}])}var fQ=new W("TRANSLOCO_TEST_LANGS - Available testing languages"),pQ=new W("TRANSLOCO_TEST_OPTIONS - Testing options");var PU=n=>({"bg-accent/30":n});function NU(n,e){if(n&1){let t=it();g(0,"button",9),ce("click",function(){let i=ie(t).$implicit,o=ue();return oe(o.changeLang(i))}),ne(1,"img",10),g(2,"span",11),I(3),v()()}if(n&2){let t=e.$implicit,r=ue();V("ngClass",jD(5,PU,t===r.activeLang))("title",r.getLanguageName(t)),y(),V("src",r.getFlagImage(t),Tr)("alt",t),y(2),H(r.getLanguageName(t))}}var Lh=class n{constructor(e){this.translocoService=e;this.activeLang=this.translocoService.getActiveLang(),this.checkScreenSize()}availableLangs=[];activeLang;showDropdown=!1;isMobile=!1;ngOnInit(){this.availableLangs=this.translocoService.getAvailableLangs()}getDropdownClasses(){let e="absolute top-full mt-2 bg-white/95 backdrop-blur-sm rounded-lg shadow-lg border border-accent/20 overflow-hidden z-50 transition-all duration-300",t=this.isMobile?"left-0 w-full":"right-0 md:w-auto",r=this.showDropdown?"opacity-100 visible":"opacity-0 invisible";return`${e} ${t} ${r}`}checkScreenSize(){this.isMobile=window.innerWidth<768}onResize(e){this.checkScreenSize(),this.isMobile&&this.showDropdown&&(this.showDropdown=!1)}getFlag(e){return{de:"\u{1F1E9}\u{1F1EA}",en:"\u{1F1FA}\u{1F1F8}",es:"\u{1F1EA}\u{1F1F8}"}[e]||"\u{1F310}"}getFlagImage(e){return{de:"https://res.cloudinary.com/dvdscvipo/image/upload/v1758847711/flag-for-germany_bjrnij.svg",en:"https://res.cloudinary.com/dvdscvipo/image/upload/v1758847712/flag-for-united-states_ups9a2.svg",es:"https://res.cloudinary.com/dvdscvipo/image/upload/v1758847711/flag-for-spain_mktzn2.svg"}[e]||"/assets/flags/global.svg"}getLanguageName(e){return{de:"Deutsch",en:"English",es:"Espa\xF1ol"}[e]||e}toggleDropdown(){this.showDropdown=!this.showDropdown}changeLang(e){this.translocoService.setActiveLang(e),this.activeLang=e,this.showDropdown=!1}onDocumentClick(e){e.target.closest(".language-switcher")||(this.showDropdown=!1)}static \u0275fac=function(t){return new(t||n)(J(Kt))};static \u0275cmp=Ve({type:n,selectors:[["app-language-switcher"]],hostBindings:function(t,r){t&1&&ce("resize",function(o){return r.onResize(o)},!1,$C)("click",function(o){return r.onDocumentClick(o)},!1,Gn)},standalone:!0,features:[je],decls:9,vars:8,consts:[[1,"language-switcher","relative"],["type","button",1,"flex","items-center","space-x-1","p-2","rounded-lg","hover:bg-accent/20","transition-colors",3,"click","title"],[1,"flex","items-center","space-x-2"],[1,"w-5","h-5","object-contain",3,"src","alt"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","transform","transition-transform"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],[1,"absolute","top-full","mt-2","bg-white/95","backdrop-blur-sm","rounded-lg","shadow-lg","border","border-accent/20","overflow-hidden","z-50","transition-all","duration-300"],[1,"flex","flex-row","items-center"],["type","button","class","flex flex-col items-center px-3 py-2 hover:bg-accent/20 transition-colors",3,"ngClass","title","click",4,"ngFor","ngForOf"],["type","button",1,"flex","flex-col","items-center","px-3","py-2","hover:bg-accent/20","transition-colors",3,"click","ngClass","title"],[1,"w-5","h-5","object-contain","mb-1",3,"src","alt"],[1,"text-text","font-light","text-xs"]],template:function(t,r){t&1&&(g(0,"div",0)(1,"button",1),ce("click",function(){return r.toggleDropdown()}),g(2,"div",2),ne(3,"img",3),v(),wd(),g(4,"svg",4),ne(5,"path",5),v()(),bd(),g(6,"div",6)(7,"div",7),G(8,NU,4,7,"button",8),v()()()),t&2&&(y(),V("title",r.getLanguageName(r.activeLang)),y(2),V("src",r.getFlagImage(r.activeLang),Tr)("alt",r.activeLang),y(),Ht("rotate-180",r.showDropdown),y(2),kd(r.getDropdownClasses()),y(2),V("ngForOf",r.availableLangs))},dependencies:[dt,gT,Qn],styles:[".language-switcher[_ngcontent-%COMP%]   .rotate-180[_ngcontent-%COMP%]{transform:rotate(180deg)}.language-switcher[_ngcontent-%COMP%]   .transition-all[_ngcontent-%COMP%]{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}.language-switcher[_ngcontent-%COMP%]   .invisible[_ngcontent-%COMP%]{visibility:hidden}.language-switcher[_ngcontent-%COMP%]   .visible[_ngcontent-%COMP%]{visibility:visible}.language-switcher[_ngcontent-%COMP%]   .opacity-0[_ngcontent-%COMP%]{opacity:0}.language-switcher[_ngcontent-%COMP%]   .opacity-100[_ngcontent-%COMP%]{opacity:1}.language-switcher[_ngcontent-%COMP%]   .absolute[_ngcontent-%COMP%]   .md\\\\[_ngcontent-%COMP%]:flex-row{flex-direction:row;flex-wrap:nowrap}.language-switcher[_ngcontent-%COMP%]   .absolute[_ngcontent-%COMP%]   .md\\\\[_ngcontent-%COMP%]:flex-row button{flex:1;min-width:80px}.language-switcher[_ngcontent-%COMP%]   .absolute[_ngcontent-%COMP%]   .md\\\\[_ngcontent-%COMP%]:flex-row button   .md\\\\[_ngcontent-%COMP%]:flex-col{display:flex;flex-direction:column;align-items:center;justify-content:center}@media (max-width: 768px){.language-switcher.mobile-language-switcher[_ngcontent-%COMP%]{width:100%}.language-switcher.mobile-language-switcher[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:1px solid rgba(156,163,175,.3)}.language-switcher.mobile-language-switcher[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]   .flex.items-center[_ngcontent-%COMP%]{flex-grow:1}.language-switcher.mobile-language-switcher[_ngcontent-%COMP%]   .absolute[_ngcontent-%COMP%]{position:fixed!important;bottom:0;left:0;right:0;margin:0!important;border-radius:12px 12px 0 0;border:1px solid rgba(156,163,175,.3);border-bottom:none;transform:translateY(100%);transition:transform .3s ease,opacity .3s ease;width:100%!important;max-width:100%!important}.language-switcher.mobile-language-switcher[_ngcontent-%COMP%]   .absolute.visible[_ngcontent-%COMP%]{transform:translateY(0)}.language-switcher.mobile-language-switcher[_ngcontent-%COMP%]   .absolute.invisible[_ngcontent-%COMP%]{transform:translateY(100%)}.language-switcher.mobile-language-switcher[_ngcontent-%COMP%]   .absolute[_ngcontent-%COMP%]   .flex-col[_ngcontent-%COMP%]{padding:8px}.language-switcher.mobile-language-switcher[_ngcontent-%COMP%]   .absolute[_ngcontent-%COMP%]   .flex-col[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 16px;margin:2px 0;border-radius:8px;justify-content:flex-start}.language-switcher.mobile-language-switcher[_ngcontent-%COMP%]   .absolute[_ngcontent-%COMP%]   .flex-col[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .flex.items-center[_ngcontent-%COMP%]{justify-content:flex-start}.language-switcher.mobile-language-switcher[_ngcontent-%COMP%]   .absolute[_ngcontent-%COMP%]   .flex-col[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .flex.items-center[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:12px}}@media (min-width: 769px){.language-switcher[_ngcontent-%COMP%]   .absolute[_ngcontent-%COMP%]{min-width:max-content}.language-switcher[_ngcontent-%COMP%]   .absolute[_ngcontent-%COMP%]   .md\\\\[_ngcontent-%COMP%]:flex-row{display:flex;flex-direction:row}.language-switcher[_ngcontent-%COMP%]   .absolute[_ngcontent-%COMP%]   .md\\\\[_ngcontent-%COMP%]:flex-row button{display:flex;align-items:center;justify-content:center;border-right:1px solid rgba(156,163,175,.2)}.language-switcher[_ngcontent-%COMP%]   .absolute[_ngcontent-%COMP%]   .md\\\\[_ngcontent-%COMP%]:flex-row button:last-child{border-right:none}.language-switcher[_ngcontent-%COMP%]   .absolute[_ngcontent-%COMP%]   .md\\\\[_ngcontent-%COMP%]:flex-row button   .md\\\\[_ngcontent-%COMP%]:flex-col{display:flex;flex-direction:column;align-items:center;gap:4px}.language-switcher[_ngcontent-%COMP%]   .absolute[_ngcontent-%COMP%]   .md\\\\[_ngcontent-%COMP%]:flex-row button   .md\\\\[_ngcontent-%COMP%]:flex-col   span[_ngcontent-%COMP%]{white-space:nowrap}}.language-switcher[_ngcontent-%COMP%]   .flag-emoji[_ngcontent-%COMP%]{font-size:1.5rem;line-height:1;filter:drop-shadow(0 1px 2px rgba(0,0,0,.1))}"]})};var tr=class n{constructor(e){this.router=e;this.isAuthenticated=!!localStorage.getItem(this.authTokenKey),this.authStatusSubject.next(this.isAuthenticated)}isAuthenticated=!1;authTokenKey="authToken";username="admin";password="terciopelo123";authStatusSubject=new qe(this.isAuthenticated);authStatus$=this.authStatusSubject.asObservable();login(e,t){if(e===this.username&&t===this.password){let r=btoa(`${e}:${t}`);return localStorage.setItem(this.authTokenKey,r),this.isAuthenticated=!0,this.authStatusSubject.next(!0),!0}return!1}logout(){localStorage.removeItem(this.authTokenKey),this.isAuthenticated=!1,this.authStatusSubject.next(!1),this.router.navigate(["/admin/login"])}isLoggedIn(){return this.isAuthenticated}getAuthToken(){return localStorage.getItem(this.authTokenKey)}static \u0275fac=function(t){return new(t||n)(Z(bt))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};var Us=class n{isModalOpenSubject=new qe(!1);isModalOpen$=this.isModalOpenSubject.asObservable();openModal(){this.isModalOpenSubject.next(!0)}closeModal(){this.isModalOpenSubject.next(!1)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};var OU=["menuButton"],kU=["mobileMenu"];function FU(n,e){if(n&1){let t=it();g(0,"li")(1,"a",31),ce("click",function(){ie(t);let i=ue();return oe(i.isMenuOpen=!1)}),I(2),R(3,"transloco"),v()()}n&2&&(y(2),B(" ",P(3,1,"header.agregar")," "))}function LU(n,e){n&1&&(vs(0),g(1,"a",32)(2,"span",33),I(3,"\u{1F510}"),v(),I(4),R(5,"transloco"),v(),ys()),n&2&&(y(4),B(" ",P(5,1,"header.login")," "))}function VU(n,e){if(n&1){let t=it();g(0,"a",34),ce("click",function(){ie(t);let i=ue();return oe(i.logout())}),g(1,"span",33),I(2,"\u{1F6AA}"),v(),I(3),R(4,"transloco"),v()}n&2&&(y(3),B(" ",P(4,1,"header.logout")," "))}function jU(n,e){if(n&1){let t=it();g(0,"li")(1,"a",31),ce("click",function(){ie(t);let i=ue();return oe(i.isMenuOpen=!1)}),I(2),R(3,"transloco"),v()()}n&2&&(y(2),B(" ",P(3,1,"header.agregar")," "))}function UU(n,e){if(n&1){let t=it();vs(0),g(1,"a",35),ce("click",function(){ie(t);let i=ue();return oe(i.isMenuOpen=!1)}),g(2,"span",33),I(3,"\u{1F510}"),v(),I(4),R(5,"transloco"),v(),ys()}n&2&&(y(4),B(" ",P(5,1,"header.login")," "))}function BU(n,e){if(n&1){let t=it();g(0,"a",36),ce("click",function(){ie(t);let i=ue();return i.logout(),oe(i.isMenuOpen=!1)}),g(1,"span",33),I(2,"\u{1F6AA}"),v(),I(3),R(4,"transloco"),v()}n&2&&(y(3),B(" ",P(4,1,"header.logout")," "))}var nr=class n{constructor(e,t,r){this.authService=e;this.modalStateService=t;this.router=r}menuButton;mobileMenu;isMenuOpen=!1;isAuthenticated=!1;isHeaderVisible=!0;authSubscription;modalStateSubscription;ngOnInit(){this.authSubscription=this.authService.authStatus$.subscribe(e=>this.isAuthenticated=e),this.modalStateSubscription=this.modalStateService.isModalOpen$.subscribe(e=>{this.isHeaderVisible=!e,e&&this.isMenuOpen&&(this.isMenuOpen=!1)})}ngOnDestroy(){this.authSubscription&&this.authSubscription.unsubscribe(),this.modalStateSubscription&&this.modalStateSubscription.unsubscribe()}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}navigateAndCloseMenu(e){this.isMenuOpen=!1,setTimeout(()=>{this.router.navigate(["/"],{fragment:e}).then(()=>{this.scrollToFragment(e)})},100)}scrollToFragment(e){let t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})}logout(){this.authService.logout()}onDocumentClick(e){let t=e.target,r=window.innerWidth<768;if(this.isMenuOpen&&r&&this.menuButton&&this.mobileMenu){let i=this.menuButton.nativeElement.contains(t),o=this.mobileMenu.nativeElement.contains(t);!i&&!o&&(this.isMenuOpen=!1)}}handleEscapeKey(e){this.isMenuOpen&&(this.isMenuOpen=!1)}static \u0275fac=function(t){return new(t||n)(J(tr),J(Us),J(bt))};static \u0275cmp=Ve({type:n,selectors:[["app-header"]],viewQuery:function(t,r){if(t&1&&(av(OU,5),av(kU,5)),t&2){let i;Ld(i=Vd())&&(r.menuButton=i.first),Ld(i=Vd())&&(r.mobileMenu=i.first)}},hostBindings:function(t,r){t&1&&ce("click",function(o){return r.onDocumentClick(o)},!1,Gn)("keydown.escape",function(o){return r.handleEscapeKey(o)},!1,Gn)},standalone:!0,features:[je],decls:65,vars:42,consts:[["logoutTemplate",""],["menuButton",""],["mobileMenu",""],["logoutMobileTemplate",""],[1,"bg-transparent","sm:bg-white/80","backdrop-blur-sm","sticky","top-0","z-40","border-b","border-accent/30","shadow-sm","transition-all","duration-300"],[1,"container","mx-auto","px-4"],[1,"flex","justify-between","items-center","py-4"],["href","#inicio",1,"text-3xl","font-light","text-primary-dark"],[1,"font-serif","italic"],[1,"hidden","md:flex","space-x-8","items-center"],[4,"ngIf"],["href","#galeria",1,"text-text","hover:text-primary-dark","transition-colors","duration-300","font-light","relative","group"],[1,"absolute","bottom-0","left-0","w-0","h-0.5","bg-accent","group-hover:w-full","transition-all","duration-300"],["href","#inicio",1,"text-text","hover:text-primary-dark","transition-colors","duration-300","font-light","relative","group"],["href","#tecnica",1,"text-text","hover:text-primary-dark","transition-colors","duration-300","font-light","relative","group"],["href","#contacto",1,"text-text","hover:text-primary-dark","transition-colors","duration-300","font-light","relative","group"],[1,"ml-4"],[4,"ngIf","ngIfElse"],[1,"md:hidden","p-2","rounded-lg","bg-accent/50","hover:bg-accent/30","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-primary-dark"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16m-7 6h7"],[1,"md:hidden","transition-all","duration-300","overflow-hidden"],[1,"space-y-2","pt-2"],["routerLink","/","fragment","inicio",1,"block","px-4","py-3","text-text","hover:bg-accent/20","rounded-lg","transition-colors","font-light",3,"click"],["routerLink","/","fragment","tecnica",1,"block","px-4","py-3","text-text","hover:bg-accent/20","rounded-lg","transition-colors","font-light",3,"click"],["routerLink","/","fragment","galeria",1,"block","px-4","py-3","text-text","hover:bg-accent/20","rounded-lg","transition-colors","font-light",3,"click"],["routerLink","/","fragment","contacto",1,"block","px-4","py-3","text-text","hover:bg-accent/20","rounded-lg","transition-colors","font-light",3,"click"],[1,"px-4","pt-3","border-t","border-accent/20","mt-2"],[1,"flex","flex-col","space-y-3"],[1,"mobile-language-switcher"],[1,"pt-3"],["routerLink","/admin/dashboard",1,"block","px-4","py-3","text-text","hover:bg-accent/20","rounded-lg","transition-colors","font-light",3,"click"],["routerLink","/admin/login",1,"btn","px-4","py-2","text-sm","font-light"],[1,"mr-2"],[1,"btn","btn-outline","px-4","py-2","text-sm","font-light","cursor-pointer",2,"background-color","#FECACA","border-color","#FCA5A5","color","#DC2626",3,"click"],["routerLink","/admin/login",1,"block","btn","text-center","px-4","py-3","rounded-lg",3,"click"],[1,"block","btn","btn-outline","text-center","px-4","py-3","rounded-lg","cursor-pointer",2,"background-color","#FECACA","border-color","#FCA5A5","color","#DC2626",3,"click"]],template:function(t,r){if(t&1){let i=it();g(0,"header",4)(1,"div",5)(2,"nav",6)(3,"a",7)(4,"span",8),I(5,"Malaver"),v()(),g(6,"ul",9),G(7,FU,4,3,"li",10),g(8,"li")(9,"a",11),I(10),R(11,"transloco"),ne(12,"span",12),v()(),g(13,"li")(14,"a",13),I(15),R(16,"transloco"),ne(17,"span",12),v()(),g(18,"li")(19,"a",14),I(20),R(21,"transloco"),ne(22,"span",12),v()(),g(23,"li")(24,"a",15),I(25),R(26,"transloco"),ne(27,"span",12),v()(),g(28,"li",16),ne(29,"app-language-switcher"),v(),g(30,"li",16),G(31,LU,6,3,"ng-container",17)(32,VU,5,3,"ng-template",null,0,so),v()(),g(34,"button",18,1),ce("click",function(){return ie(i),oe(r.toggleMenu())}),wd(),g(36,"svg",19),ne(37,"path",20),v()()(),bd(),g(38,"div",21,2)(40,"ul",22),G(41,jU,4,3,"li",10),g(42,"li")(43,"a",23),ce("click",function(){return ie(i),oe(r.navigateAndCloseMenu("inicio"))}),I(44),R(45,"transloco"),v()(),g(46,"li")(47,"a",24),ce("click",function(){return ie(i),oe(r.navigateAndCloseMenu("tecnica"))}),I(48),R(49,"transloco"),v()(),g(50,"li")(51,"a",25),ce("click",function(){return ie(i),oe(r.navigateAndCloseMenu("galeria"))}),I(52),R(53,"transloco"),v()(),g(54,"li")(55,"a",26),ce("click",function(){return ie(i),oe(r.navigateAndCloseMenu("contacto"))}),I(56),R(57,"transloco"),v()(),g(58,"li",27)(59,"div",28),ne(60,"app-language-switcher",29),v()(),g(61,"li",30),G(62,UU,6,3,"ng-container",17)(63,BU,5,3,"ng-template",null,3,so),v()()()()()}if(t&2){let i=xr(33),o=xr(64);Ht("hidden",!r.isHeaderVisible)("-translate-y-full",!r.isHeaderVisible)("opacity-0",!r.isHeaderVisible),y(7),V("ngIf",r.isAuthenticated),y(3),B(" ",P(11,26,"header.gallery")," "),y(5),B(" ",P(16,28,"header.artist")," "),y(5),B(" ",P(21,30,"header.technique")," "),y(5),B(" ",P(26,32,"header.contact")," "),y(6),V("ngIf",!r.isAuthenticated)("ngIfElse",i),y(7),Ht("max-h-0",!r.isMenuOpen)("max-h-[500px]",r.isMenuOpen)("pb-4",r.isMenuOpen),y(3),V("ngIf",r.isAuthenticated),y(3),B(" ",P(45,34,"header.artist")," "),y(4),B(" ",P(49,36,"header.technique")," "),y(4),B(" ",P(53,38,"header.gallery")," "),y(4),B(" ",P(57,40,"header.contact")," "),y(6),V("ngIf",!r.isAuthenticated)("ngIfElse",o)}},dependencies:[dt,mn,yh,vh,Lh,ot,Rt],styles:["@media (max-width: 768px){header[_ngcontent-%COMP%]{z-index:50!important;background-color:#fff!important}header[_ngcontent-%COMP%]   .mobile-language-switcher[_ngcontent-%COMP%]   .language-switcher[_ngcontent-%COMP%]{width:100%}header[_ngcontent-%COMP%]   .mobile-language-switcher[_ngcontent-%COMP%]   .language-switcher[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;justify-content:space-between}header[_ngcontent-%COMP%]   .mobile-language-switcher[_ngcontent-%COMP%]   .language-switcher[_ngcontent-%COMP%]   .absolute[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;margin:0;border-radius:12px 12px 0 0;transform:translateY(0);width:100%!important;max-width:100%!important;transition:transform .3s ease,opacity .3s ease}header[_ngcontent-%COMP%]   .mobile-language-switcher[_ngcontent-%COMP%]   .language-switcher[_ngcontent-%COMP%]   .absolute[class*=invisible][_ngcontent-%COMP%]{transform:translateY(100%)}header[_ngcontent-%COMP%]   .mobile-language-switcher[_ngcontent-%COMP%]   .language-switcher[_ngcontent-%COMP%]   .absolute[class*=visible][_ngcontent-%COMP%]{transform:translateY(0)}header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{min-height:44px;display:flex;align-items:center;touch-action:manipulation;-webkit-tap-highlight-color:transparent}}@media (max-width: 768px){.md\\\\[_ngcontent-%COMP%]:hidden a, .md\\\\[_ngcontent-%COMP%]:hidden button{min-height:44px;min-width:44px;font-size:16px;transition:all .2s ease}.md\\\\[_ngcontent-%COMP%]:hidden a:active, .md\\\\[_ngcontent-%COMP%]:hidden button:active{transform:scale(.98);background-color:#9ca3af1a}}"]})};function $U(n,e){n&1&&(g(0,"h2",17),I(1,"Admin Login"),v())}function HU(n,e){n&1&&ne(0,"span")}function zU(n,e){n&1&&ne(0,"span")}function qU(n,e){n&1&&(g(0,"span"),I(1,"Login"),v())}function GU(n,e){if(n&1&&(g(0,"p",18),I(1),v()),n&2){let t=ue();y(),B(" ",t.errorMessage," ")}}var jh=class n{constructor(e,t,r){this.authService=e;this.router=t;this.translocoService=r}username="";password="";errorMessage="";onSubmit(){this.authService.login(this.username,this.password)?this.router.navigate(["/admin/dashboard"]):this.errorMessage=this.translocoService.translate("adminLogin.error")}static \u0275fac=function(t){return new(t||n)(J(tr),J(bt),J(Kt))};static \u0275cmp=Ve({type:n,selectors:[["app-admin-login"]],standalone:!0,features:[je],decls:25,vars:7,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gradient-to-br","from-blue-50","to-indigo-100","p-4"],[1,"bg-white","rounded-2xl","shadow-2xl","overflow-hidden","w-full","max-w-md","transform","transition-all","duration-300","hover:shadow-3xl"],[1,"bg-gradient-to-r","from-blue-600","to-indigo-700","p-6","text-center"],[1,"fas","fa-lock","text-white","text-4xl","mb-3"],["class","text-2xl font-bold text-white",4,"transloco"],[1,"p-8","space-y-6",3,"ngSubmit"],[1,"relative"],[1,"flex","items-center","border-b-2","border-blue-500","py-2"],[1,"fas","fa-user","text-blue-500","mr-3"],["type","text","name","username","required","","placeholder"," ",1,"w-full","py-2","px-1","bg-transparent","outline-none","text-gray-700","focus:placeholder-blue-300","transition-all","duration-200",3,"ngModelChange","ngModel"],[1,"absolute","left-9","top-2","text-gray-500","pointer-events-none","transition-all","duration-200","bg-white","px-1"],[4,"transloco"],[1,"fas","fa-key","text-blue-500","mr-3"],["type","password","name","password","required","","placeholder"," ",1,"w-full","py-2","px-1","bg-transparent","outline-none","text-gray-700","focus:placeholder-blue-300","transition-all","duration-200",3,"ngModelChange","ngModel"],["type","submit",1,"w-full","bg-gradient-to-r","from-blue-600","to-indigo-700","text-white","py-3","rounded-lg","font-semibold","shadow-lg","hover:from-blue-700","hover:to-indigo-800","transform","hover:-translate-y-1","transition-all","duration-300","focus:outline-none","focus:ring-4","focus:ring-blue-300"],["class","text-red-500 text-center bg-red-50 py-2 rounded-lg border border-red-200 animate-pulse",4,"ngIf"],[1,"bg-gray-50","p-4","text-center","text-gray-600","text-sm"],[1,"text-2xl","font-bold","text-white"],[1,"text-red-500","text-center","bg-red-50","py-2","rounded-lg","border","border-red-200","animate-pulse"]],template:function(t,r){t&1&&(ne(0,"app-header"),g(1,"div",0)(2,"div",1)(3,"div",2),ne(4,"i",3),G(5,$U,2,0,"h2",4),v(),g(6,"form",5),ce("ngSubmit",function(){return r.onSubmit()}),g(7,"div",6)(8,"div",7),ne(9,"i",8),g(10,"input",9),ft("ngModelChange",function(o){return wt(r.username,o)||(r.username=o),o}),v()(),g(11,"label",10),G(12,HU,1,0,"span",11),v()(),g(13,"div",6)(14,"div",7),ne(15,"i",12),g(16,"input",13),ft("ngModelChange",function(o){return wt(r.password,o)||(r.password=o),o}),v()(),g(17,"label",10),G(18,zU,1,0,"span",11),v()(),g(19,"button",14),G(20,qU,2,0,"span",11),v(),G(21,GU,2,1,"p",15),v(),g(22,"div",16)(23,"p"),I(24,"Secure Admin Access"),v()()()()),t&2&&(y(5),V("transloco","adminLogin.title"),y(5),ht("ngModel",r.username),y(2),V("transloco","adminLogin.username"),y(4),ht("ngModel",r.password),y(2),V("transloco","adminLogin.password"),y(2),V("transloco","adminLogin.login"),y(),V("ngIf",r.errorMessage))},dependencies:[Ls,Rh,Fs,Sh,Ah,$c,Bc,Uc,dt,mn,ot,Xn,nr],styles:["@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-5px)}}@keyframes _ngcontent-%COMP%_glow{0%,to{box-shadow:0 0 5px #3b82f680}50%{box-shadow:0 0 20px #3b82f6cc}}[_nghost-%COMP%]{display:block}input[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%], input[_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%]{top:-10px;font-size:.75rem;color:#3b82f6;background:#fff;padding:0 4px}.shadow-3xl[_ngcontent-%COMP%]{box-shadow:0 25px 50px -12px #00000040,0 0 15px #3b82f61a}.fa-lock[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}button[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_glow 1.5s ease-in-out infinite}@media (max-width: 320px){.min-h-screen[_ngcontent-%COMP%]{padding:1rem}.p-8[_ngcontent-%COMP%]{padding:1.5rem}}input[_ngcontent-%COMP%]:focus{outline:none}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{transition:all .3s ease}"]})};var Uh=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return this.authService.isLoggedIn()?!0:(this.router.navigate(["/admin/login"]),!1)}static \u0275fac=function(t){return new(t||n)(Z(tr),Z(bt))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};function WU(n,e){n&1&&(g(0,"span",32),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"hero.title")," "))}function KU(n,e){n&1&&(g(0,"div",33),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"hero.experience")," "))}function QU(n,e){n&1&&(g(0,"div",33),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"hero.worksCreated")," "))}function YU(n,e){n&1&&(g(0,"div",33),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"hero.exhibitions")," "))}var Bh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ve({type:n,selectors:[["app-hero"]],standalone:!0,features:[je],decls:55,vars:22,consts:[["id","inicio",1,"min-h-screen","flex","items-center","justify-center","relative","overflow-hidden","bg-artistic-pattern"],[1,"absolute","inset-0","bg-gradient-to-br","from-background","via-white","to-accent/20"],[1,"absolute","top-10","left-10","w-72","h-72","bg-primary/5","rounded-full","blur-3xl","animate-float"],[1,"absolute","bottom-10","right-10","w-96","h-96","bg-accent/10","rounded-full","blur-3xl","animate-float",2,"animation-delay","2s"],[1,"container","relative","z-10"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-12","items-center"],[1,"text-center","lg:text-left","animate-fade-in-up"],[1,"mb-6"],["class","inline-block px-4 py-2 bg-accent/30 text-primary-dark rounded-full text-sm font-medium mb-4",4,"transloco"],[1,"text-5xl","md:text-6xl","lg:text-7xl","font-light","text-primary-dark","mb-6","leading-tight"],[1,"font-serif","italic"],[1,"space-y-4","mb-8"],[1,"text-xl","md:text-2xl","text-text","leading-relaxed",3,"innerHTML"],[1,"text-lg","text-text-light","leading-relaxed",3,"innerHTML"],[1,"flex","flex-col","sm:flex-row","gap-4","justify-center","lg:justify-start"],["href","#galeria",1,"btn","px-8","py-3","text-lg","font-light"],[1,"mr-2"],["routerLink","bio",1,"btn","btn-outline","px-8","py-3","text-lg","font-light"],[1,"mt-12","grid","grid-cols-2","md:grid-cols-3","gap-6","text-center","lg:text-left"],[1,"space-y-2"],[1,"text-2xl","font-light","text-primary-dark"],["class","text-sm text-text-light",4,"transloco"],[1,"relative","animate-fade-in-up",2,"animation-delay","0.3s"],[1,"relative","group"],[1,"relative","bg-white/80","backdrop-blur-sm","rounded-2xl","p-4","shadow-2xl","border","border-accent/50"],[1,"aspect-square","bg-gradient-to-br","from-primary/5","to-accent/10","rounded-lg","overflow-hidden"],[1,"w-full","h-full","flex","items-center","justify-center","p-2"],[1,"relative","w-full","h-full","rounded-lg","overflow-hidden"],["src","https://res.cloudinary.com/dvdscvipo/image/upload/v1758581745/Scannen0002_fa4n0x.jpg","alt","Mar\xEDa Malaver - Artista pict\xF3rica",1,"w-full","h-full","object-cover","rounded-lg","transition-transform","duration-500","group-hover:scale-105"],[1,"absolute","inset-0","bg-black/0","transition-all","duration-300","group-hover:bg-black/5"],[1,"absolute","-top-3","-right-3","w-20","h-20","bg-primary/10","rounded-full","blur-xl"],[1,"absolute","-bottom-3","-left-3","w-24","h-24","bg-accent/15","rounded-full","blur-xl"],[1,"inline-block","px-4","py-2","bg-accent/30","text-primary-dark","rounded-full","text-sm","font-medium","mb-4"],[1,"text-sm","text-text-light"]],template:function(t,r){t&1&&(g(0,"section",0),ne(1,"div",1)(2,"div",2)(3,"div",3),g(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),G(8,WU,3,3,"span",8),v(),g(9,"h1",9)(10,"span",10),I(11,"Malaver"),v()(),g(12,"div",11)(13,"p",12),R(14,"transloco"),I(15),R(16,"transloco"),v(),g(17,"p",13),R(18,"transloco"),I(19),R(20,"transloco"),v()(),g(21,"div",14)(22,"a",15)(23,"span",16),I(24,"\u{1F3A8}"),v(),I(25),R(26,"transloco"),v(),g(27,"a",17)(28,"span",16),I(29,"\u{1F469}\u200D\u{1F3A8}"),v(),I(30),R(31,"transloco"),v()(),g(32,"div",18)(33,"div",19)(34,"div",20),I(35,"15+"),v(),G(36,KU,3,3,"div",21),v(),g(37,"div",19)(38,"div",20),I(39,"200+"),v(),G(40,QU,3,3,"div",21),v(),g(41,"div",19)(42,"div",20),I(43,"10+"),v(),G(44,YU,3,3,"div",21),v()()(),g(45,"div",22)(46,"div",23)(47,"div",24)(48,"div",25)(49,"div",26)(50,"div",27),ne(51,"img",28)(52,"div",29),v()()()(),ne(53,"div",30)(54,"div",31),v()()()()()),t&2&&(y(8),V("transloco","hero.title"),y(5),V("innerHTML",P(14,10,"hero.specialty"),ro),y(2),B(" ",P(16,12,"hero.specialty")," "),y(2),V("innerHTML",P(18,14,"hero.workDescription"),ro),y(2),B(" ",P(20,16,"hero.workDescription")," "),y(6),B(" ",P(26,18,"hero.exploreGallery")," "),y(5),B(" ",P(31,20,"hero.knowTheArtist")," "),y(6),V("transloco","hero.experience"),y(4),V("transloco","hero.worksCreated"),y(4),V("transloco","hero.exhibitions"))},dependencies:[ot,Xn,Rt,dt,yh,vh]})};function ZU(n,e){n&1&&(g(0,"span",26),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"techniques.title")," "))}function JU(n,e){n&1&&(g(0,"h2",27),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"techniques.subtitle"),""))}function XU(n,e){n&1&&(g(0,"p",28),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"techniques.description"),""))}function eB(n,e){n&1&&(g(0,"h3",29),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"techniques.card1.title"),""))}function tB(n,e){n&1&&(g(0,"p",30),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"techniques.card1.description"),""))}function nB(n,e){n&1&&(g(0,"h3",29),I(1),R(2,"transloco"),v()),n&2&&(y(),H(P(2,1,"techniques.card2.title")))}function rB(n,e){n&1&&(g(0,"p",30),I(1),R(2,"transloco"),v()),n&2&&(y(),H(P(2,1,"techniques.card2.description")))}function iB(n,e){n&1&&(g(0,"h3",29),I(1),R(2,"transloco"),v()),n&2&&(y(),H(P(2,1,"techniques.card3.title")))}function oB(n,e){n&1&&(g(0,"p",30),I(1),R(2,"transloco"),v()),n&2&&(y(),H(P(2,1,"techniques.card3.description")))}function sB(n,e){n&1&&(g(0,"h3",31),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"techniques.quality.title")," "))}function aB(n,e){n&1&&(g(0,"p",32),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"techniques.quality.description")," "))}function cB(n,e){n&1&&(g(0,"span"),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"techniques.quality.item1")," "))}function lB(n,e){n&1&&(g(0,"span"),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"techniques.quality.item2")," "))}function uB(n,e){n&1&&(g(0,"span"),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"techniques.quality.item3")," "))}function dB(n,e){n&1&&(g(0,"div",33),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"techniques.quality.experience.title")," "))}function hB(n,e){n&1&&(g(0,"div",34),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"techniques.quality.experience.description")," "))}var $h=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ve({type:n,selectors:[["app-techniques"]],standalone:!0,features:[je],decls:45,vars:16,consts:[["id","tecnica",1,"py-20","bg-background"],[1,"container"],[1,"text-center","mb-16","animate-fade-in-up"],["class","inline-block px-4 py-2 bg-accent/30 text-primary-dark rounded-full text-sm font-medium mb-4",4,"transloco"],["class","text-4xl md:text-5xl font-light text-primary-dark mb-4",4,"transloco"],["class","text-lg text-text-light max-w-2xl mx-auto",4,"transloco"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-8"],[1,"card","p-8","text-center","group","hover:transform","hover:scale-105","transition-all","duration-300","animate-fade-in-up"],[1,"w-16","h-16","bg-primary/10","rounded-full","flex","items-center","justify-center","mx-auto","mb-6","group-hover:bg-primary/20","transition-colors","duration-300"],[1,"text-2xl","text-primary-dark"],["class","text-xl font-semibold text-primary-dark mb-4",4,"transloco"],["class","text-text-light leading-relaxed",4,"transloco"],[1,"card","p-8","text-center","group","hover:transform","hover:scale-105","transition-all","duration-300","animate-fade-in-up",2,"animation-delay","0.1s"],[1,"card","p-8","text-center","group","hover:transform","hover:scale-105","transition-all","duration-300","animate-fade-in-up",2,"animation-delay","0.2s"],[1,"mt-16","bg-white/50","backdrop-blur-sm","rounded-2xl","p-8","border","border-accent/30","animate-fade-in-up"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-8","items-center"],["class","text-2xl font-light text-primary-dark mb-4",4,"transloco"],["class","text-text-light mb-4",4,"transloco"],[1,"space-y-2","text-text-light"],[1,"flex","items-center"],[1,"w-2","h-2","bg-primary","rounded-full","mr-3"],[4,"transloco"],[1,"bg-gradient-to-br","from-primary/5","to-accent/10","rounded-lg","p-6","text-center"],[1,"text-3xl","text-primary-dark","mb-2"],["class","text-text-light font-medium",4,"transloco"],["class","text-sm text-text-light mt-2",4,"transloco"],[1,"inline-block","px-4","py-2","bg-accent/30","text-primary-dark","rounded-full","text-sm","font-medium","mb-4"],[1,"text-4xl","md:text-5xl","font-light","text-primary-dark","mb-4"],[1,"text-lg","text-text-light","max-w-2xl","mx-auto"],[1,"text-xl","font-semibold","text-primary-dark","mb-4"],[1,"text-text-light","leading-relaxed"],[1,"text-2xl","font-light","text-primary-dark","mb-4"],[1,"text-text-light","mb-4"],[1,"text-text-light","font-medium"],[1,"text-sm","text-text-light","mt-2"]],template:function(t,r){t&1&&(g(0,"section",0)(1,"div",1)(2,"div",2),G(3,ZU,3,3,"span",3)(4,JU,3,3,"h2",4)(5,XU,3,3,"p",5),v(),g(6,"div",6)(7,"div",7)(8,"div",8)(9,"span",9),I(10,"\u{1F3A8}"),v()(),G(11,eB,3,3,"h3",10)(12,tB,3,3,"p",11),v(),g(13,"div",12)(14,"div",8)(15,"span",9),I(16,"\u{1F58C}\uFE0F"),v()(),G(17,nB,3,3,"h3",10)(18,rB,3,3,"p",11),v(),g(19,"div",13)(20,"div",8)(21,"span",9),I(22,"\u2728"),v()(),G(23,iB,3,3,"h3",10)(24,oB,3,3,"p",11),v()(),g(25,"div",14)(26,"div",15)(27,"div"),G(28,sB,3,3,"h3",16)(29,aB,3,3,"p",17),g(30,"ul",18)(31,"li",19),ne(32,"span",20),G(33,cB,3,3,"span",21),v(),g(34,"li",19),ne(35,"span",20),G(36,lB,3,3,"span",21),v(),g(37,"li",19),ne(38,"span",20),G(39,uB,3,3,"span",21),v()()(),g(40,"div",22)(41,"div",23),I(42,"15+"),v(),G(43,dB,3,3,"div",24)(44,hB,3,3,"div",25),v()()()()()),t&2&&(y(3),V("transloco","techniques.title"),y(),V("transloco","techniques.subtitle"),y(),V("transloco","techniques.description"),y(6),V("transloco","techniques.card1.title"),y(),V("transloco","techniques.card1.description"),y(5),V("transloco","techniques.card2.title"),y(),V("transloco","techniques.card2.description"),y(5),V("transloco","techniques.card3.title"),y(),V("transloco","techniques.card3.description"),y(4),V("transloco","techniques.quality.title"),y(),V("transloco","techniques.quality.description"),y(4),V("transloco","techniques.quality.item1"),y(3),V("transloco","techniques.quality.item2"),y(3),V("transloco","techniques.quality.item3"),y(4),V("transloco","techniques.quality.experience.title"),y(),V("transloco","techniques.quality.experience.description"))},dependencies:[ot,Xn,Rt]})};function fB(n,e){if(n&1){let t=it();g(0,"div",13),ce("click",function(){let i=ie(t).index,o=ue();return oe(o.goToSlide(i))}),g(1,"img",14),ce("click",function(i){ie(t);let o=ue();return i.stopPropagation(),oe(o.openModal())}),v()()}if(n&2){let t=e.$implicit,r=e.index,i=ue();Ht("center",r===i.currentIndex)("left-1",r===i.left1Index)("left-2",r===i.left2Index)("right-1",r===i.right1Index)("right-2",r===i.right2Index)("hidden",i.isHidden(r)),y(),V("src",t.imagen,Tr)("alt",t.titulo)}}function pB(n,e){if(n&1&&(g(0,"p",15),I(1),v()),n&2){let t=ue();y(),H(t.currentArtwork==null?null:t.currentArtwork.descripcion)}}function mB(n,e){if(n&1){let t=it();g(0,"div",16),ce("click",function(){let i=ie(t).index,o=ue();return oe(o.goToSlide(i))}),v()}if(n&2){let t=e.index,r=ue();Ht("active",t===r.currentIndex)}}function gB(n,e){n&1&&(g(0,"div",34)(1,"div",35)(2,"span",36),I(3),R(4,"transloco"),v()()()),n&2&&(y(3),H(P(4,1,"artworkCarousel.sold")))}function vB(n,e){n&1&&(g(0,"span",39),I(1),R(2,"transloco"),v()),n&2&&(y(),H(P(2,1,"artworkCarousel.panHint")))}function yB(n,e){if(n&1&&(g(0,"div",37),I(1),R(2,"transloco"),G(3,vB,3,3,"span",38),v()),n&2){let t=ue(2);Ht("mobile",t.isMobile),y(),B(" ",P(2,4,t.isZoomed?"artworkCarousel.zoomOut":"artworkCarousel.zoomIn")," "),y(2),V("ngIf",t.isMobile)}}function _B(n,e){if(n&1&&(g(0,"p",40),I(1),v()),n&2){let t=ue(2);y(),H(t.currentArtwork==null?null:t.currentArtwork.descripcion)}}function wB(n,e){if(n&1&&(g(0,"div",42)(1,"span",43),I(2),R(3,"transloco"),v(),g(4,"span",46),I(5),R(6,"currency"),v()()),n&2){let t=ue(3);y(2),H(P(3,2,"artworkCarousel.price")),y(3),H($D(6,4,t.currentArtwork.precio,t.currentArtwork.moneda,"symbol","1.0-0"))}}function bB(n,e){if(n&1&&(g(0,"div",41)(1,"div",42)(2,"span",43),I(3),R(4,"transloco"),v(),g(5,"span",44),I(6),v()(),g(7,"div",42)(8,"span",43),I(9),R(10,"transloco"),v(),g(11,"span",44),I(12),v()(),g(13,"div",42)(14,"span",43),I(15),R(16,"transloco"),v(),g(17,"span",44),I(18),v()(),g(19,"div",42)(20,"span",43),I(21),R(22,"transloco"),v(),g(23,"span",44),I(24),R(25,"transloco"),v()(),G(26,wB,7,9,"div",45),v()),n&2){let t=ue(2);y(3),H(P(4,11,"artworkCarousel.dimensions")),y(3),H(t.currentArtwork.medidas),y(3),H(P(10,13,"artworkCarousel.materials")),y(3),H(t.currentArtwork.tecnica),y(3),H(P(16,15,"artworkCarousel.year")),y(3),H(t.currentArtwork.anio),y(3),H(P(22,17,"artworkCarousel.status")),y(2),Ht("sold-status",t.currentArtwork.vendido),y(),B(" ",P(25,19,t.currentArtwork.vendido?"artworkCarousel.statusSold":"artworkCarousel.statusAvailable")," "),y(2),V("ngIf",!t.currentArtwork.vendido)}}function IB(n,e){n&1&&(vs(0),g(1,"div",47)(2,"div",48)(3,"div",49),I(4,"\u{1F3A8}"),v(),g(5,"h3",50),I(6),R(7,"transloco"),v(),g(8,"p",51),I(9),R(10,"transloco"),v()()(),ys()),n&2&&(y(6),H(P(7,2,"artworkCarousel.artworkSold")),y(3),H(P(10,4,"artworkCarousel.artworkSoldDescription")))}function EB(n,e){n&1&&(g(0,"button",52)(1,"span",53),I(2,"\u{1F6D2}"),v(),g(3,"span",54),I(4),R(5,"transloco"),v()()),n&2&&(y(4),H(P(5,1,"artworkCarousel.buyArtwork")))}function CB(n,e){if(n&1){let t=it();g(0,"div",17),ce("click",function(){ie(t);let i=ue();return oe(i.closeModal())}),g(1,"button",18),ce("click",function(){ie(t);let i=ue();return oe(i.closeModal())}),I(2,"\xD7"),v(),g(3,"div",19),ce("click",function(i){return ie(t),oe(i.stopPropagation())}),g(4,"button",18),ce("click",function(){ie(t);let i=ue();return oe(i.closeModal())}),I(5,"\xD7"),v(),g(6,"div",20)(7,"div",21),G(8,gB,5,3,"div",22),g(9,"img",23),ce("click",function(i){ie(t);let o=ue();return oe(o.toggleZoom(i))})("mousedown",function(i){ie(t);let o=ue();return oe(o.onPanStart(i))})("mousemove",function(i){ie(t);let o=ue();return oe(o.onPanMove(i))})("mouseup",function(i){ie(t);let o=ue();return oe(o.onPanEnd(i))})("mouseleave",function(i){ie(t);let o=ue();return oe(o.onPanEnd(i))})("touchstart",function(i){ie(t);let o=ue();return oe(o.onPanStart(i))})("touchmove",function(i){ie(t);let o=ue();return oe(o.onPanMove(i))})("touchend",function(i){ie(t);let o=ue();return oe(o.onPanEnd(i))}),v(),G(10,yB,4,6,"div",24),g(11,"button",25),ce("click",function(){ie(t);let i=ue();return oe(i.prevInModal())}),I(12,"\u2039"),v(),g(13,"button",26),ce("click",function(){ie(t);let i=ue();return oe(i.nextInModal())}),I(14,"\u203A"),v()(),g(15,"div",27)(16,"h2",28),I(17),v(),g(18,"p",29),I(19),v(),G(20,_B,2,1,"p",30)(21,bB,27,21,"div",31),g(22,"div",32),G(23,IB,11,6,"ng-container",33)(24,EB,6,3,"ng-template",null,0,so),v()()()()()}if(n&2){let t=xr(25),r=ue();y(8),V("ngIf",r.currentArtwork==null?null:r.currentArtwork.vendido),y(),Od("transform",r.getImageTransform())("transition",r.isPanning?"none":"all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94)"),Ht("zoomed",r.isZoomed)("panning",r.isPanning)("sold-image",r.currentArtwork==null?null:r.currentArtwork.vendido),V("src",r.currentArtwork==null?null:r.currentArtwork.imagen,Tr)("alt",r.currentArtwork==null?null:r.currentArtwork.titulo),y(),V("ngIf",r.showZoomIndicator),y(7),H(r.currentArtwork==null?null:r.currentArtwork.titulo),y(2),H(r.currentArtwork==null?null:r.currentArtwork.tecnica),y(),V("ngIf",r.currentArtwork==null?null:r.currentArtwork.descripcion),y(),V("ngIf",r.currentArtwork),y(2),V("ngIf",r.currentArtwork==null?null:r.currentArtwork.vendido)("ngIfElse",t)}}var Hh=class n{constructor(e,t){this.modalStateService=e;this.translocoService=t;this.modalStateSubscription=this.modalStateService.isModalOpen$.subscribe(r=>{r!==this.isModalOpen&&(this.isModalOpen=r)})}artworks=[];currentIndex=0;currentArtwork=null;isModalOpen=!1;isZoomed=!1;showZoomIndicator=!1;left2Index=0;left1Index=0;right1Index=0;right2Index=0;isMobile=!1;isPanning=!1;wasPanning=!1;startX=0;startY=0;translateX=0;translateY=0;modalStateSubscription;ngOnInit(){this.updateCarousel(0),this.checkIfMobile(),window.addEventListener("resize",()=>this.checkIfMobile())}ngOnChanges(){this.artworks.length>0&&this.updateCarousel(this.currentIndex)}ngOnDestroy(){this.modalStateSubscription&&this.modalStateSubscription.unsubscribe(),window.removeEventListener("resize",()=>this.checkIfMobile())}updateCarousel(e){let t=this.artworks.length;this.currentIndex=(e+t)%t,this.currentArtwork=this.artworks[this.currentIndex],this.resetZoomAndPan(),this.left2Index=(this.currentIndex-2+t)%t,this.left1Index=(this.currentIndex-1+t)%t,this.right1Index=(this.currentIndex+1)%t,this.right2Index=(this.currentIndex+2)%t}isHidden(e){let t=this.artworks.length;return![this.currentIndex,this.left1Index,this.left2Index,this.right1Index,this.right2Index].includes(e)}next(){this.updateCarousel(this.currentIndex+1)}prev(){this.updateCarousel(this.currentIndex-1)}goToSlide(e){this.updateCarousel(e)}openModal(){this.isModalOpen=!0,this.modalStateService.openModal(),this.resetZoomAndPan(),document.body.style.overflow="hidden"}closeModal(){this.isModalOpen=!1,this.modalStateService.closeModal(),this.resetZoomAndPan(),document.body.style.overflow=""}nextInModal(){this.next()}prevInModal(){this.prev()}resetZoomAndPan(){this.isZoomed=!1,this.isPanning=!1,this.wasPanning=!1,this.translateX=0,this.translateY=0}toggleZoom(e){if(this.wasPanning){this.wasPanning=!1;return}this.isZoomed=!this.isZoomed,this.translateX=0,this.translateY=0,this.isZoomed&&(this.showZoomIndicator=!0,setTimeout(()=>{this.showZoomIndicator=!1},3e3))}onPanStart(e){if(!this.isZoomed)return;this.isPanning=!0;let t="touches"in e?e.touches[0]:e;this.startX=t.clientX-this.translateX,this.startY=t.clientY-this.translateY}onPanMove(e){if(!this.isPanning||!this.isZoomed)return;e.preventDefault(),this.wasPanning=!0;let t="touches"in e?e.touches[0]:e;this.translateX=t.clientX-this.startX,this.translateY=t.clientY-this.startY}onPanEnd(e){this.isPanning&&(this.isPanning=!1)}getImageTransform(){return this.isZoomed?`scale(${this.isMobile?2.5:1.8}) translate(${this.translateX}px, ${this.translateY}px)`:"scale(1)"}handleEscapeKey(e){this.isModalOpen&&(this.isZoomed?this.resetZoomAndPan():this.closeModal())}handleRightArrow(e){this.isModalOpen&&!this.isZoomed&&this.nextInModal()}handleLeftArrow(e){this.isModalOpen&&!this.isZoomed&&this.prevInModal()}handleZKey(e){this.isModalOpen&&this.toggleZoom(new MouseEvent("click"))}checkIfMobile(){this.isMobile=window.innerWidth<=768}static \u0275fac=function(t){return new(t||n)(J(Us),J(Kt))};static \u0275cmp=Ve({type:n,selectors:[["app-artwork-carousel"]],hostBindings:function(t,r){t&1&&ce("keydown.escape",function(o){return r.handleEscapeKey(o)},!1,Gn)("keydown.arrowright",function(o){return r.handleRightArrow(o)},!1,Gn)("keydown.arrowleft",function(o){return r.handleLeftArrow(o)},!1,Gn)("keydown.z",function(o){return r.handleZKey(o)},!1,Gn)},inputs:{artworks:"artworks"},standalone:!0,features:[dn,je],decls:16,vars:6,consts:[["availableTemplate",""],[1,"carousel-container"],[1,"nav-arrow","left",3,"click"],[1,"carousel-track"],["class","card",3,"center","left-1","left-2","right-1","right-2","hidden","click",4,"ngFor","ngForOf"],[1,"nav-arrow","right",3,"click"],[1,"artwork-info"],[1,"artwork-title"],[1,"artwork-technique"],["class","artwork-description",4,"ngIf"],[1,"dots"],["class","dot",3,"active","click",4,"ngFor","ngForOf"],["class","modal-overlay mobile-modal",3,"click",4,"ngIf"],[1,"card",3,"click"],[1,"artwork-image",3,"click","src","alt"],[1,"artwork-description"],[1,"dot",3,"click"],[1,"modal-overlay","mobile-modal",3,"click"],[1,"modal-close",3,"click"],[1,"modal-content",3,"click"],[1,"modal-body"],[1,"modal-image-container"],["class","sold-overlay",4,"ngIf"],[1,"modal-image",3,"click","mousedown","mousemove","mouseup","mouseleave","touchstart","touchmove","touchend","src","alt"],["class","zoom-indicator",3,"mobile",4,"ngIf"],[1,"modal-nav","modal-prev",3,"click"],[1,"modal-nav","modal-next",3,"click"],[1,"modal-info"],[1,"modal-title"],[1,"modal-technique"],["class","modal-description",4,"ngIf"],["class","artwork-details",4,"ngIf"],[1,"modal-actions"],[4,"ngIf","ngIfElse"],[1,"sold-overlay"],[1,"sold-badge"],[1,"sold-text"],[1,"zoom-indicator"],["class","zoom-hint",4,"ngIf"],[1,"zoom-hint"],[1,"modal-description"],[1,"artwork-details"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],["class","detail-item",4,"ngIf"],[1,"detail-value","price"],[1,"sold-container"],[1,"sold-message"],[1,"sold-icon"],[1,"sold-title"],[1,"sold-description"],[1,"btn-buy"],[1,"btn-icon"],[1,"btn-text"]],template:function(t,r){t&1&&(g(0,"div",1)(1,"button",2),ce("click",function(){return r.prev()}),I(2,"\u2039"),v(),g(3,"div",3),G(4,fB,2,14,"div",4),v(),g(5,"button",5),ce("click",function(){return r.next()}),I(6,"\u203A"),v()(),g(7,"div",6)(8,"h2",7),I(9),v(),g(10,"p",8),I(11),v(),G(12,pB,2,1,"p",9),v(),g(13,"div",10),G(14,mB,1,2,"div",11),v(),G(15,CB,26,20,"div",12)),t&2&&(y(4),V("ngForOf",r.artworks),y(5),H(r.currentArtwork==null?null:r.currentArtwork.titulo),y(2),H(r.currentArtwork==null?null:r.currentArtwork.tecnica),y(),V("ngIf",r.currentArtwork==null?null:r.currentArtwork.descripcion),y(2),V("ngForOf",r.artworks),y(),V("ngIf",r.isModalOpen))},dependencies:[dt,Qn,mn,vT,ot,Rt],styles:['@charset "UTF-8";.carousel-container[_ngcontent-%COMP%]{width:100%;max-width:1200px;height:450px;position:relative;perspective:1000px;margin:80px auto 0}.carousel-track[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;position:relative;transform-style:preserve-3d}.card[_ngcontent-%COMP%]{position:absolute;width:280px;height:380px;background:#fff;border-radius:20px;overflow:hidden;box-shadow:0 20px 40px #00000026;transition:all .8s cubic-bezier(.25,.46,.45,.94);cursor:pointer}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:all .8s cubic-bezier(.25,.46,.45,.94)}.card.center[_ngcontent-%COMP%]{z-index:10;transform:scale(1.1) translateZ(0)}.card.center[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:none}.card.left-2[_ngcontent-%COMP%]{z-index:1;transform:translate(-400px) scale(.8) translateZ(-300px);opacity:.7}.card.left-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(100%)}.card.left-1[_ngcontent-%COMP%]{z-index:5;transform:translate(-200px) scale(.9) translateZ(-100px);opacity:.9}.card.left-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(100%)}.card.right-1[_ngcontent-%COMP%]{z-index:5;transform:translate(200px) scale(.9) translateZ(-100px);opacity:.9}.card.right-1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(100%)}.card.right-2[_ngcontent-%COMP%]{z-index:1;transform:translate(400px) scale(.8) translateZ(-300px);opacity:.7}.card.right-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:grayscale(100%)}.card.hidden[_ngcontent-%COMP%]{opacity:0;pointer-events:none}.artwork-info[_ngcontent-%COMP%]{text-align:center;margin-top:40px;transition:all .5s ease-out}.artwork-title[_ngcontent-%COMP%]{color:#8b5cf6;font-size:2.5rem;font-weight:700;margin-bottom:10px;position:relative;display:inline-block}.artwork-title[_ngcontent-%COMP%]:before, .artwork-title[_ngcontent-%COMP%]:after{content:"";position:absolute;top:100%;width:100px;height:2px;background:#8b5cf6}.artwork-title[_ngcontent-%COMP%]:before{left:-120px}.artwork-title[_ngcontent-%COMP%]:after{right:-120px}.artwork-technique[_ngcontent-%COMP%]{color:#848696;font-size:1.5rem;font-weight:500;opacity:.8;text-transform:uppercase;letter-spacing:.1em;padding:10px 0;margin-top:-15px;position:relative}.artwork-description[_ngcontent-%COMP%]{color:#6b7280;font-size:1rem;max-width:600px;margin:0 auto;line-height:1.6}.dots[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;margin-top:60px}.dot[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;background:#8b5cf633;cursor:pointer;transition:all .3s ease}.dot.active[_ngcontent-%COMP%]{background:#8b5cf6;transform:scale(1.2)}.nav-arrow[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background:#87878799;color:#fff;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:20;transition:all .3s ease;font-size:2.5rem;border:none;outline:none;padding-bottom:4px;animation:_ngcontent-%COMP%_pulse 2s infinite}.nav-arrow[_ngcontent-%COMP%]:hover{background:#8b5cf6cc;transform:translateY(-50%) scale(1.1);animation:none}.nav-arrow.left[_ngcontent-%COMP%]{left:50px;padding-right:3px;margin-left:120px!important}.nav-arrow.right[_ngcontent-%COMP%]{right:50px;padding-left:3px;margin-right:120px!important}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0 #8b5cf6cc}70%{box-shadow:0 0 0 15px #8b5cf600}to{box-shadow:0 0 #8b5cf600}}.gallery-title[_ngcontent-%COMP%]{font-size:7.5rem;font-weight:900;text-transform:uppercase;letter-spacing:-.02em;text-align:center;pointer-events:none;white-space:nowrap;font-family:Arial Black,Arial Bold,Arial,sans-serif;background:linear-gradient(to bottom,#8b5cf659 30%,#fff0 76%);-webkit-background-clip:text;background-clip:text;color:transparent;margin-bottom:2rem}@media (max-width: 768px){.gallery-title[_ngcontent-%COMP%]{font-size:4.5rem}.carousel-container[_ngcontent-%COMP%]{height:350px;margin-top:60px}.card[_ngcontent-%COMP%]{width:200px;height:280px}.card.left-2[_ngcontent-%COMP%]{transform:translate(-250px) scale(.8) translateZ(-300px)}.card.left-1[_ngcontent-%COMP%]{transform:translate(-120px) scale(.9) translateZ(-100px)}.card.right-1[_ngcontent-%COMP%]{transform:translate(120px) scale(.9) translateZ(-100px)}.card.right-2[_ngcontent-%COMP%]{transform:translate(250px) scale(.8) translateZ(-300px)}.artwork-title[_ngcontent-%COMP%]{font-size:2rem}.artwork-title[_ngcontent-%COMP%]:before, .artwork-title[_ngcontent-%COMP%]:after{width:50px}.artwork-title[_ngcontent-%COMP%]:before{left:-70px}.artwork-title[_ngcontent-%COMP%]:after{right:-70px}.artwork-technique[_ngcontent-%COMP%]{font-size:1.2rem}.nav-arrow[_ngcontent-%COMP%]{width:35px;height:35px;font-size:1.2rem;margin-top:195px!important;padding-bottom:2px;animation:_ngcontent-%COMP%_pulse 2s infinite}.nav-arrow.left[_ngcontent-%COMP%]{left:20px;padding-right:3px;margin-left:10px!important}.nav-arrow.right[_ngcontent-%COMP%]{right:20px;padding-left:3px;margin-right:10px!important}}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000f2;display:flex;justify-content:center;align-items:center;animation:_ngcontent-%COMP%_fadeIn .3s ease-out;backdrop-filter:blur(15px);padding:10px;box-sizing:border-box}@media (max-width: 768px){.modal-overlay[_ngcontent-%COMP%]{z-index:2147483647!important;position:fixed!important;top:0!important;left:0!important;width:100vw!important;height:100vh!important;margin:0!important;padding:0!important;background:#000000fa!important}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{z-index:2147483647!important;position:fixed!important;top:0!important;left:0!important;margin:0!important;border-radius:0!important;width:100vw!important;height:100vh!important;max-width:100vw!important;max-height:100vh!important;box-shadow:none!important}.modal-overlay[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{height:100vh!important;max-height:100vh!important;min-height:100vh!important;overflow-y:auto!important}}.modal-content[_ngcontent-%COMP%]{background:rgb(var(--color-background));border-radius:24px;max-width:95%;max-height:95%;width:1400px;height:800px;overflow:hidden;position:relative;display:flex;box-shadow:0 30px 60px #0009;animation:_ngcontent-%COMP%_slideUp .3s ease-out}@media (max-width: 1200px){.modal-content[_ngcontent-%COMP%]{width:95%;height:700px;max-height:90vh}}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]{max-width:100%;max-height:100%;width:100%;height:100%;border-radius:0;margin:0;flex-direction:column;overflow-y:auto;position:fixed;top:0;left:0}}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]{z-index:2147483647!important;position:fixed!important;top:0!important;left:0!important;transform:none!important;margin:0!important;border-radius:0!important;width:100vw!important;height:100vh!important;max-width:100vw!important;max-height:100vh!important}.modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{height:100vh!important;max-height:100vh!important;min-height:100vh!important}}.modal-close[_ngcontent-%COMP%]{position:absolute;top:0;right:25px;background:rgba(var(--color-primary),.9);color:#fff;border:none;width:45px;height:45px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:10;font-size:1.8rem;transition:all .3s ease;backdrop-filter:blur(10px);font-weight:300}@media (max-width: 768px){.modal-close[_ngcontent-%COMP%]{right:300px;width:40px;height:40px;font-size:1.5rem;background:#000000b3}}.modal-close[_ngcontent-%COMP%]:hover{background:rgb(var(--color-primary));transform:scale(1.15);box-shadow:0 5px 15px #0000004d}.modal-body[_ngcontent-%COMP%]{display:flex;height:100%;width:100%}@media (max-width: 768px){.modal-body[_ngcontent-%COMP%]{flex-direction:column;height:auto;min-height:100%;overflow-y:auto}}.modal-image-container[_ngcontent-%COMP%]{flex:1;position:relative;overflow:hidden;background:#f8f9fa;display:flex;align-items:center;justify-content:center;min-height:500px;background:linear-gradient(135deg,#f5f7fa,#c3cfe2)}@media (max-width: 768px){.modal-image-container[_ngcontent-%COMP%]{min-height:40vh;max-height:50vh;flex:none;width:100%}}.modal-image-container[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{width:85%;height:85%;object-fit:contain;transition:all .4s cubic-bezier(.25,.46,.45,.94);cursor:zoom-in;border-radius:12px;box-shadow:0 15px 35px #0000001a}.modal-image-container[_ngcontent-%COMP%]   .modal-image.zoomed[_ngcontent-%COMP%]{cursor:grab;transform:scale(1.8);box-shadow:0 25px 50px #0000004d}.modal-image-container[_ngcontent-%COMP%]   .modal-image.zoomed.panning[_ngcontent-%COMP%]{cursor:grabbing}@media (max-width: 768px){.modal-image-container[_ngcontent-%COMP%]   .modal-image.zoomed[_ngcontent-%COMP%]{transform:scale(2.5);width:100%;height:auto;max-height:90vh;object-fit:contain}}@media (hover: hover){.modal-image-container[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]:not(.zoomed):hover{transform:scale(1.05);box-shadow:0 20px 40px #00000026}}@media (max-width: 768px){.modal-image-container[_ngcontent-%COMP%]   .modal-image[_ngcontent-%COMP%]{width:95%;height:95%;border-radius:8px}}.modal-nav[_ngcontent-%COMP%]{position:absolute;top:80%;transform:translateY(-50%);background:rgba(var(--color-primary));color:#fff;border:none;width:40px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:9999!important;font-size:2rem;transition:all .3s ease;backdrop-filter:blur(10px);font-weight:300;box-shadow:0 5px 15px #0003}@media (max-width: 768px){.modal-nav[_ngcontent-%COMP%]{width:50px;height:50px;font-size:1.5rem;background:#0009}.modal-nav.modal-prev[_ngcontent-%COMP%]{left:10px;margin-right:50%}.modal-nav.modal-next[_ngcontent-%COMP%]{right:10px;margin-left:50%}.modal-image.zoomed[_ngcontent-%COMP%] ~ .modal-nav[_ngcontent-%COMP%]{opacity:0;pointer-events:none}}.modal-nav[_ngcontent-%COMP%]:hover{background:rgb(var(--color-primary));transform:translateY(-50%) scale(1.15);box-shadow:0 8px 25px #0000004d}.modal-nav.modal-prev[_ngcontent-%COMP%]{left:30px;padding-right:5px}.modal-nav.modal-next[_ngcontent-%COMP%]{right:30px;padding-left:5px}.modal-info[_ngcontent-%COMP%]{flex:0 0 450px;padding:50px 40px;overflow-y:auto;background:#fff;display:flex;flex-direction:column}@media (max-width: 768px){.modal-info[_ngcontent-%COMP%]{flex:none;max-height:none;padding:25px 20px;overflow-y:visible}}@media (max-width: 1200px){.modal-info[_ngcontent-%COMP%]{flex:0 0 400px;padding:40px 30px}}.modal-title[_ngcontent-%COMP%]{color:rgb(var(--color-primary-dark));font-size:2.2rem;font-weight:400;margin-bottom:15px;font-family:Montserrat,sans-serif;line-height:1.3}@media (max-width: 768px){.modal-title[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:10px}}.modal-technique[_ngcontent-%COMP%]{color:rgb(var(--color-text-light));font-size:1.2rem;text-transform:uppercase;letter-spacing:.1em;margin-bottom:25px;font-weight:300;border-bottom:2px solid rgba(var(--color-accent),.3);padding-bottom:15px}@media (max-width: 768px){.modal-technique[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:20px;padding-bottom:10px}}.modal-description[_ngcontent-%COMP%]{color:rgb(var(--color-text));font-size:1.1rem;line-height:1.7;margin-bottom:30px;font-weight:300}@media (max-width: 768px){.modal-description[_ngcontent-%COMP%]{font-size:1rem;line-height:1.6;margin-bottom:20px}}.artwork-details[_ngcontent-%COMP%]{border-top:2px solid rgba(var(--color-accent),.3);padding-top:25px;margin-bottom:35px}@media (max-width: 768px){.artwork-details[_ngcontent-%COMP%]{padding-top:20px;margin-bottom:25px}}.detail-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:12px;padding:8px 0;border-bottom:1px solid rgba(var(--color-accent),.1)}@media (max-width: 768px){.detail-item[_ngcontent-%COMP%]{flex-direction:column;margin-bottom:10px;padding:5px 0}}.detail-item[_ngcontent-%COMP%]:last-child{border-bottom:none;margin-bottom:0}.detail-label[_ngcontent-%COMP%]{color:rgb(var(--color-text-light));font-weight:500;font-size:1rem}@media (max-width: 768px){.detail-label[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:3px}}.detail-value[_ngcontent-%COMP%]{color:rgb(var(--color-text));font-weight:400;text-align:right}@media (max-width: 768px){.detail-value[_ngcontent-%COMP%]{text-align:left;font-size:.95rem}}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:15px;flex-direction:column;margin-top:auto}@media (max-width: 768px){.modal-actions[_ngcontent-%COMP%]{margin-top:20px;gap:12px}}.btn-buy[_ngcontent-%COMP%], .btn-contact[_ngcontent-%COMP%]{padding:18px 30px;border:none;border-radius:12px;font-size:1.1rem;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:12px;font-weight:500;text-transform:uppercase;letter-spacing:.05em}@media (max-width: 768px){.btn-buy[_ngcontent-%COMP%], .btn-contact[_ngcontent-%COMP%]{padding:16px 20px;font-size:1rem;gap:8px}}.btn-buy[_ngcontent-%COMP%]:hover, .btn-contact[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 10px 25px #00000026}.btn-buy[_ngcontent-%COMP%]:active, .btn-contact[_ngcontent-%COMP%]:active{transform:translateY(-1px)}.btn-buy[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgb(var(--color-primary)),rgb(var(--color-primary-dark)));color:#fff;box-shadow:0 5px 15px rgba(var(--color-primary),.3)}.btn-buy[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,rgb(var(--color-primary-dark)),rgb(var(--color-primary)))}.btn-contact[_ngcontent-%COMP%]{background:transparent;color:rgb(var(--color-primary));border:2px solid rgb(var(--color-primary));box-shadow:0 3px 10px rgba(var(--color-primary),.1)}.btn-contact[_ngcontent-%COMP%]:hover{background:rgb(var(--color-primary));color:#fff}.btn-icon[_ngcontent-%COMP%]{font-size:1.3rem}@media (max-width: 768px){.btn-icon[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.btn-text[_ngcontent-%COMP%]{font-size:.9rem}}.zoom-indicator[_ngcontent-%COMP%]{position:absolute;bottom:20px;left:50%;transform:translate(-50%);background:#000000b3;color:#fff;padding:8px 16px;border-radius:20px;font-size:.9rem;backdrop-filter:blur(10px);animation:_ngcontent-%COMP%_fadeInOut 3s ease-in-out;opacity:0;text-align:center;z-index:10}@media (max-width: 768px){.zoom-indicator[_ngcontent-%COMP%]{bottom:10px;font-size:.8rem;padding:6px 12px;width:90%;max-width:300px}.zoom-indicator.mobile[_ngcontent-%COMP%]{padding:8px 12px}}.zoom-hint[_ngcontent-%COMP%]{display:block;font-size:.7rem;margin-top:2px;opacity:.8}@keyframes _ngcontent-%COMP%_fadeInOut{0%{opacity:0}20%{opacity:1}80%{opacity:1}to{opacity:0}}@media (max-width: 768px){.modal-image-container[_ngcontent-%COMP%], .modal-image.zoomed[_ngcontent-%COMP%]{touch-action:pan-x pan-y}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;backdrop-filter:blur(0px)}to{opacity:1;backdrop-filter:blur(15px)}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(80px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.artwork-image[_ngcontent-%COMP%]{cursor:pointer;transition:transform .3s ease}.artwork-image[_ngcontent-%COMP%]:hover{transform:scale(1.03)}.sold-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:10;display:flex;align-items:flex-start;justify-content:flex-start;pointer-events:none}.sold-badge[_ngcontent-%COMP%]{background:linear-gradient(45deg,#e53e3e,#c53030);color:#fff;padding:8px 16px;border-radius:4px;font-weight:700;font-size:.875rem;text-transform:uppercase;letter-spacing:1px;margin:16px;box-shadow:0 4px 12px #0000004d;animation:_ngcontent-%COMP%_pulse-sold 2s infinite}.sold-badge[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-5px;border:2px dashed rgba(255,255,255,.5);border-radius:8px;animation:_ngcontent-%COMP%_rotate-sold 10s linear infinite}@keyframes _ngcontent-%COMP%_pulse-sold{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}@keyframes _ngcontent-%COMP%_rotate-sold{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.sold-image[_ngcontent-%COMP%]{filter:grayscale(20%);opacity:.9}.sold-status[_ngcontent-%COMP%]{color:#e53e3e;font-weight:700}.sold-container[_ngcontent-%COMP%]{text-align:center;padding:2rem;background:linear-gradient(135deg,#fef2f2,#fff5f5);border-radius:12px;border:2px dashed #feb2b2}.sold-message[_ngcontent-%COMP%]   .sold-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.sold-message[_ngcontent-%COMP%]   .sold-title[_ngcontent-%COMP%]{color:#c53030;font-size:1.5rem;font-weight:700;margin-bottom:.5rem}.sold-message[_ngcontent-%COMP%]   .sold-description[_ngcontent-%COMP%]{color:#718096;margin-bottom:1.5rem}.modal-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-top:2rem}.modal-actions[_ngcontent-%COMP%]   .btn-buy[_ngcontent-%COMP%]{background:linear-gradient(45deg,#48bb78,#38a169);color:#fff;border:none;padding:12px 24px;border-radius:8px;font-weight:700;cursor:pointer;transition:all .3s ease}.modal-actions[_ngcontent-%COMP%]   .btn-buy[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #48bb7866}.modal-actions[_ngcontent-%COMP%]   .btn-contact[_ngcontent-%COMP%]{background:transparent;color:#4a5568;border:2px solid #e2e8f0;padding:12px 24px;border-radius:8px;font-weight:700;cursor:pointer;transition:all .3s ease}.modal-actions[_ngcontent-%COMP%]   .btn-contact[_ngcontent-%COMP%]:hover{border-color:#cbd5e0;background:#f7fafc}.price[_ngcontent-%COMP%]{color:#48bb78;font-weight:700;font-size:1.1rem}@media (max-width: 768px){.sold-badge[_ngcontent-%COMP%]{padding:6px 12px;font-size:.75rem;margin:12px}.sold-container[_ngcontent-%COMP%]{padding:1.5rem}.sold-message[_ngcontent-%COMP%]   .sold-icon[_ngcontent-%COMP%]{font-size:2.5rem}.sold-message[_ngcontent-%COMP%]   .sold-title[_ngcontent-%COMP%]{font-size:1.25rem}.modal-actions[_ngcontent-%COMP%]{flex-direction:column}.modal-actions[_ngcontent-%COMP%]   .btn-buy[_ngcontent-%COMP%], .modal-actions[_ngcontent-%COMP%]   .btn-contact[_ngcontent-%COMP%]{width:100%}}.artwork-details[_ngcontent-%COMP%]{background:#f7fafc;padding:1rem;border-radius:8px;margin:1rem 0}.detail-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5rem 0;border-bottom:1px solid #e2e8f0}.detail-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.detail-label[_ngcontent-%COMP%]{font-weight:600;color:#4a5568}.detail-value[_ngcontent-%COMP%]{color:#2d3748}.modal-content[_ngcontent-%COMP%]{transition:all .3s ease}.btn-icon[_ngcontent-%COMP%]{margin-right:.5rem}.btn-text[_ngcontent-%COMP%]{vertical-align:middle}@media (max-width: 768px){.modal-overlay[_ngcontent-%COMP%]{z-index:2147483647!important;position:fixed!important;top:0!important;left:0!important;width:100vw!important;height:100vh!important;margin:0!important;padding:0!important;background:#000000fa!important;overflow-y:auto!important;-webkit-overflow-scrolling:touch!important}.modal-content[_ngcontent-%COMP%]{z-index:2147483647!important;position:relative!important;top:auto!important;left:auto!important;margin:0!important;border-radius:0!important;width:100vw!important;min-height:100vh!important;height:auto!important;max-width:100vw!important;max-height:none!important;box-shadow:none!important;overflow:visible!important;display:flex!important;flex-direction:column!important}.modal-body[_ngcontent-%COMP%]{height:auto!important;min-height:100vh!important;max-height:none!important;overflow-y:visible!important;flex-direction:column!important;display:flex!important;flex:1!important}.modal-image-container[_ngcontent-%COMP%]{flex:none!important;min-height:40vh!important;max-height:50vh!important;height:auto!important}.modal-info[_ngcontent-%COMP%]{flex:1!important;overflow-y:visible!important;max-height:none!important;padding:20px 15px!important}.modal-close[_ngcontent-%COMP%]{position:fixed!important;top:15px!important;right:15px!important;z-index:2147483647!important;background:#000c!important;width:40px!important;height:40px!important}.modal-nav[_ngcontent-%COMP%]{z-index:2147483646!important;position:fixed!important;top:50%!important;transform:translateY(-50%)!important}.modal-nav.modal-prev[_ngcontent-%COMP%]{left:10px!important;right:auto!important}.modal-nav.modal-next[_ngcontent-%COMP%]{right:10px!important;left:auto!important}}@media (max-width: 768px){.modal-image.zoomed[_ngcontent-%COMP%]{max-height:80vh!important;object-fit:contain!important}.modal-overlay[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.modal-overlay[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}}']})};var IS=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},DB=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},ES={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,l=i+2<n.length,u=l?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,_=(a&15)<<2|u>>6,w=u&63;l||(w=64,s||(_=64)),r.push(t[h],t[p],t[_],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(IS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):DB(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||p==null)throw new Oy;let _=o<<2|a>>4;if(r.push(_),u!==64){let w=a<<4&240|u>>2;if(r.push(w),p!==64){let x=u<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Oy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},TB=function(n){let e=IS(n);return ES.encodeByteArray(e,!0)},qc=function(n){return TB(n).replace(/\./g,"")},Fy=function(n){try{return ES.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function xB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var SB=()=>xB().__FIREBASE_DEFAULTS__,AB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},MB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Fy(n[1]);return e&&JSON.parse(e)},qh=()=>{try{return SB()||AB()||MB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},CS=n=>{var e,t;return(t=(e=qh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},DS=n=>{let e=CS(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Ly=()=>{var n;return(n=qh())===null||n===void 0?void 0:n.config},TS=n=>{var e;return(e=qh())===null||e===void 0?void 0:e[`_${n}`]};var zh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function xS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[qc(JSON.stringify(t)),qc(JSON.stringify(s)),""].join(".")}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function RB(){var n;let e=(n=qh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MS(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function RS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PS(){return!RB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vy(){try{return typeof indexedDB=="object"}catch{return!1}}function NS(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var PB="FirebaseError",vn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=PB,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fr.prototype.create)}},Fr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?NB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new vn(i,a,r)}};function NB(n,e){return n.replace(OB,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var OB=/\{\$([^}]+)}/g;function Bs(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(bS(o)&&bS(s)){if(!Bs(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function bS(n){return n!==null&&typeof n=="object"}function jy(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function OS(n,e){let t=new ky(n,e);return t.subscribe.bind(t)}var ky=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");kB(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Ny),i.error===void 0&&(i.error=Ny),i.complete===void 0&&(i.complete=Ny);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function kB(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ny(){}var HQ=4*60*60*1e3;function Pt(n){return n&&n._delegate?n._delegate:n}var yn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var fo="[DEFAULT]";var Uy=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new zh;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LB(e))try{this.getOrInitializeService({instanceIdentifier:fo})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return N(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=fo){return this.instances.has(e)}getOptions(e=fo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FB(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fo){return this.component?this.component.multipleInstances?e:fo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function FB(n){return n===fo?void 0:n}function LB(n){return n.instantiationMode==="EAGER"}var Gh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Uy(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var VB=[],De=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(De||{}),jB={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},UB=De.INFO,BB={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},$B=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=BB[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},wi=class{constructor(e){this.name=e,this._logLevel=UB,this._logHandler=$B,this._userLogHandler=null,VB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}};var HB=(n,e)=>e.some(t=>n instanceof t),kS,FS;function zB(){return kS||(kS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qB(){return FS||(FS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var LS=new WeakMap,$y=new WeakMap,VS=new WeakMap,By=new WeakMap,zy=new WeakMap;function GB(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(rr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&LS.set(t,n)}).catch(()=>{}),zy.set(e,n),e}function WB(n){if($y.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});$y.set(n,e)}var Hy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return $y.get(n);if(e==="objectStoreNames")return n.objectStoreNames||VS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return rr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function jS(n){Hy=n(Hy)}function KB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Wh(this),e,...t);return VS.set(r,e.sort?e.sort():[e]),rr(r)}:qB().includes(n)?function(...e){return n.apply(Wh(this),e),rr(LS.get(this))}:function(...e){return rr(n.apply(Wh(this),e))}}function QB(n){return typeof n=="function"?KB(n):(n instanceof IDBTransaction&&WB(n),HB(n,zB())?new Proxy(n,Hy):n)}function rr(n){if(n instanceof IDBRequest)return GB(n);if(By.has(n))return By.get(n);let e=QB(n);return e!==n&&(By.set(n,e),zy.set(e,n)),e}var Wh=n=>zy.get(n);function BS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=rr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(rr(s.result),l.oldVersion,l.newVersion,rr(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var YB=["get","getKey","getAll","getAllKeys","count"],ZB=["put","add","delete","clear"],qy=new Map;function US(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(qy.get(e))return qy.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=ZB.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||YB.includes(t)))return;let o=function(s,...a){return N(this,null,function*(){let l=this.transaction(s,i?"readwrite":"readonly"),u=l.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&l.done]))[0]})};return qy.set(e,o),o}jS(n=>me(U({},n),{get:(e,t,r)=>US(e,t)||n.get(e,t,r),has:(e,t)=>!!US(e,t)||n.has(e,t)}));var Wy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(JB(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function JB(n){let e=n.getComponent();return e?.type==="VERSION"}var Ky="@firebase/app",$S="0.10.13";var Lr=new wi("@firebase/app"),XB="@firebase/app-compat",e3="@firebase/analytics-compat",t3="@firebase/analytics",n3="@firebase/app-check-compat",r3="@firebase/app-check",i3="@firebase/auth",o3="@firebase/auth-compat",s3="@firebase/database",a3="@firebase/data-connect",c3="@firebase/database-compat",l3="@firebase/functions",u3="@firebase/functions-compat",d3="@firebase/installations",h3="@firebase/installations-compat",f3="@firebase/messaging",p3="@firebase/messaging-compat",m3="@firebase/performance",g3="@firebase/performance-compat",v3="@firebase/remote-config",y3="@firebase/remote-config-compat",_3="@firebase/storage",w3="@firebase/storage-compat",b3="@firebase/firestore",I3="@firebase/vertexai-preview",E3="@firebase/firestore-compat",C3="firebase",D3="10.14.1";var Qy="[DEFAULT]",T3={[Ky]:"fire-core",[XB]:"fire-core-compat",[t3]:"fire-analytics",[e3]:"fire-analytics-compat",[r3]:"fire-app-check",[n3]:"fire-app-check-compat",[i3]:"fire-auth",[o3]:"fire-auth-compat",[s3]:"fire-rtdb",[a3]:"fire-data-connect",[c3]:"fire-rtdb-compat",[l3]:"fire-fn",[u3]:"fire-fn-compat",[d3]:"fire-iid",[h3]:"fire-iid-compat",[f3]:"fire-fcm",[p3]:"fire-fcm-compat",[m3]:"fire-perf",[g3]:"fire-perf-compat",[v3]:"fire-rc",[y3]:"fire-rc-compat",[_3]:"fire-gcs",[w3]:"fire-gcs-compat",[b3]:"fire-fst",[E3]:"fire-fst-compat",[I3]:"fire-vertex","fire-js":"fire-js",[C3]:"fire-js-all"};var Gc=new Map,x3=new Map,Yy=new Map;function HS(n,e){try{n.container.addComponent(e)}catch(t){Lr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ii(n){let e=n.name;if(Yy.has(e))return Lr.debug(`There were multiple attempts to register component ${e}.`),!1;Yy.set(e,n);for(let t of Gc.values())HS(t,n);for(let t of x3.values())HS(t,n);return!0}function e0(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function $s(n){return n.settings!==void 0}var S3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bi=new Fr("app","Firebase",S3);var Zy=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bi.create("app-deleted",{appName:this._name})}};var Hs=D3;function t0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Qy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw bi.create("bad-app-name",{appName:String(i)});if(t||(t=Ly()),!t)throw bi.create("no-options");let o=Gc.get(i);if(o){if(Bs(t,o.options)&&Bs(r,o.config))return o;throw bi.create("duplicate-app",{appName:i})}let s=new Gh(i);for(let l of Yy.values())s.addComponent(l);let a=new Zy(t,r,s);return Gc.set(i,a),a}function Kc(n=Qy){let e=Gc.get(n);if(!e&&n===Qy&&Ly())return t0();if(!e)throw bi.create("no-app",{appName:n});return e}function Kh(){return Array.from(Gc.values())}function mt(n,e,t){var r;let i=(r=T3[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lr.warn(a.join(" "));return}Ii(new yn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var A3="firebase-heartbeat-database",M3=1,Wc="firebase-heartbeat-store",Gy=null;function WS(){return Gy||(Gy=BS(A3,M3,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Wc)}catch(t){console.warn(t)}}}}).catch(n=>{throw bi.create("idb-open",{originalErrorMessage:n.message})})),Gy}function R3(n){return N(this,null,function*(){try{let t=(yield WS()).transaction(Wc),r=yield t.objectStore(Wc).get(KS(n));return yield t.done,r}catch(e){if(e instanceof vn)Lr.warn(e.message);else{let t=bi.create("idb-get",{originalErrorMessage:e?.message});Lr.warn(t.message)}}})}function zS(n,e){return N(this,null,function*(){try{let r=(yield WS()).transaction(Wc,"readwrite");yield r.objectStore(Wc).put(e,KS(n)),yield r.done}catch(t){if(t instanceof vn)Lr.warn(t.message);else{let r=bi.create("idb-set",{originalErrorMessage:t?.message});Lr.warn(r.message)}}})}function KS(n){return`${n.name}!${n.options.appId}`}var P3=1024,N3=30*24*60*60*1e3,Jy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Xy(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return N(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=qS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=N3}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Lr.warn(r)}})}getHeartbeatsHeader(){return N(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=qS(),{heartbeatsToSend:r,unsentEntries:i}=O3(this._heartbeatsCache.heartbeats),o=qc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Lr.warn(t),""}})}};function qS(){return new Date().toISOString().substring(0,10)}function O3(n,e=P3){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),GS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),GS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Xy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return N(this,null,function*(){return Vy()?NS().then(()=>!0).catch(()=>!1):!1})}read(){return N(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield R3(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return N(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return zS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return N(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return zS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function GS(n){return qc(JSON.stringify({version:2,heartbeats:n})).length}function k3(n){Ii(new yn("platform-logger",e=>new Wy(e),"PRIVATE")),Ii(new yn("heartbeat",e=>new Jy(e),"PRIVATE")),mt(Ky,$S,n),mt(Ky,$S,"esm2017"),mt("fire-js","")}k3("");var F3="firebase",L3="10.14.1";mt(F3,L3,"app");var qs=new Ir("ANGULARFIRE2_VERSION");function r0(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Yc=(n,e)=>{let t=e?[e]:Kh(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Qc=class{constructor(){return Yc(V3)}},V3="app-check";function zs(){}var Qh=class{zone;delegate;constructor(e,t=Kp){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},n0=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zs,{},zs,zs)),t.pipe(Ye({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Zc=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Qh(Zone.current)),this.insideAngular=t.run(()=>new Qh(Zone.current,ou)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(Z(Oe))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Yh(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function j3(n){return Yh().ngZone.runOutsideAngular(()=>n())}function po(n){return Yh().ngZone.run(()=>n())}function U3(n){return B3(Yh())(n)}function B3(n){return function(t){return t=t.lift(new n0(n.ngZone)),t.pipe(Yr(n.outsideAngular),Qr(n.insideAngular))}}var $3=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),po(()=>n.apply(void 0,r))},on=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=po(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zs,{},zs,zs))),r[o]=$3(r[o],t));let i=j3(()=>n.apply(this,r));if(!e)if(i instanceof _e){let o=Yh();return i.pipe(Yr(o.outsideAngular),Qr(o.insideAngular))}else return po(()=>i);return i instanceof _e?i.pipe(U3):i instanceof Promise?po(()=>new Promise((o,s)=>i.then(a=>po(()=>o(a)),a=>po(()=>s(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:po(()=>i)};var mo=class{constructor(e){return e}},Jc=class{constructor(){return Kh()}};function H3(n){return n&&n.length===1?n[0]:new mo(Kc())}var i0=new W("angularfire2._apps"),z3={provide:mo,useFactory:H3,deps:[[new un,i0]]},q3={provide:Jc,deps:[[new un,i0]]};function G3(n){return(e,t)=>{let r=t.get(fn);mt("angularfire",qs.full,"core"),mt("angularfire",qs.full,"app"),mt("angular",zD.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new mo(i)}}function QS(n,...e){return _t([z3,q3,{provide:i0,useFactory:G3(n),multi:!0,deps:[Oe,yt,Zc,...e]}])}var YS=on(t0,!0);function iA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var oA=iA,sA=new Fr("auth","Firebase",iA());var ef=new wi("@firebase/auth");function K3(n,...e){ef.logLevel<=De.WARN&&ef.warn(`Auth (${Hs}): ${n}`,...e)}function Jh(n,...e){ef.logLevel<=De.ERROR&&ef.error(`Auth (${Hs}): ${n}`,...e)}function ZS(n,...e){throw g0(n,...e)}function m0(n,...e){return g0(n,...e)}function aA(n,e,t){let r=Object.assign(Object.assign({},oA()),{[e]:t});return new Fr("auth","Firebase",r).create(e,{appName:n.name})}function Xh(n){return aA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function g0(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return sA.create(n,...e)}function Ne(n,e,...t){if(!n)throw g0(e,...t)}function Xc(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Jh(e),new Error(e)}function tf(n,e){n||Xc(e)}function Q3(){return JS()==="http:"||JS()==="https:"}function JS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Y3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Q3()||MS()||"connection"in navigator)?navigator.onLine:!0}function Z3(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var vo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,tf(t>e,"Short delay should be less than long delay!"),this.isMobile=SS()||RS()}get(){return Y3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function J3(n,e){tf(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var nf=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var X3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var e4=new vo(3e4,6e4);function cA(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function af(o,s,a,l){return N(this,arguments,function*(n,e,t,r,i={}){return lA(n,i,()=>N(this,null,function*(){let u={},h={};r&&(e==="GET"?h=r:u={body:JSON.stringify(r)});let p=jy(Object.assign({key:n.config.apiKey},h)).slice(1),_=yield n._getAdditionalHeaders();_["Content-Type"]="application/json",n.languageCode&&(_["X-Firebase-Locale"]=n.languageCode);let w=Object.assign({method:e,headers:_},u);return AS()||(w.referrerPolicy="no-referrer"),nf.fetch()(uA(n,n.config.apiHost,t,p),w)}))})}function lA(n,e,t){return N(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},X3),e);try{let i=new a0(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Zh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zh(n,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Zh(n,"email-already-in-use",s);if(l==="USER_DISABLED")throw Zh(n,"user-disabled",s);let h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw aA(n,h,u);ZS(n,h)}}catch(i){if(i instanceof vn)throw i;ZS(n,"network-request-failed",{message:String(i)})}})}function uA(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?J3(n.config,i):`${n.config.apiScheme}://${i}`}var a0=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(m0(this.auth,"network-request-failed")),e4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Zh(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=m0(n,e,r);return i.customData._tokenResponse=t,i}function t4(n,e){return N(this,null,function*(){return af(n,"POST","/v1/accounts:delete",e)})}function dA(n,e){return N(this,null,function*(){return af(n,"POST","/v1/accounts:lookup",e)})}function el(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function v0(n,e=!1){return N(this,null,function*(){let t=Pt(n),r=yield t.getIdToken(e),i=hA(r);Ne(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:el(o0(i.auth_time)),issuedAtTime:el(o0(i.iat)),expirationTime:el(o0(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function o0(n){return Number(n)*1e3}function hA(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Jh("JWT malformed, contained fewer than 3 sections"),null;try{let i=Fy(t);return i?JSON.parse(i):(Jh("Failed to decode base64 JWT payload"),null)}catch(i){return Jh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function XS(n){let e=hA(n);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function c0(n,e,t=!1){return N(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof vn&&n4(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function n4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var l0=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>N(this,null,function*(){yield this.iteration()}),t)}iteration(){return N(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var nl=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=el(this.lastLoginAt),this.creationTime=el(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function rf(n){return N(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield c0(n,dA(t,{idToken:r}));Ne(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?fA(o.providerUserInfo):[],a=r4(n.providerData,s),l=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,h=l?u:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new nl(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function y0(n){return N(this,null,function*(){let e=Pt(n);yield rf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function r4(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function fA(n){return n.map(e=>{var{providerId:t}=e,r=Qp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function i4(n,e){return N(this,null,function*(){let t=yield lA(n,{},()=>N(this,null,function*(){let r=jy({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=uA(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",nf.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function o4(n,e){return N(this,null,function*(){return af(n,"POST","/v2/accounts:revokeToken",cA(n,e))})}var tl=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");let t=XS(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return N(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return N(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield i4(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ne(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ne(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Xc("not implemented")}};function Ei(n,e){Ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var rl=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Qp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new l0(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new nl(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return N(this,null,function*(){let t=yield c0(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return v0(this,e)}reload(){return y0(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return N(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield rf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return N(this,null,function*(){if($s(this.auth.app))return Promise.reject(Xh(this.auth));let e=yield this.getIdToken();return yield c0(this,t4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,l,u,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,w=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,x=(s=t.photoURL)!==null&&s!==void 0?s:void 0,k=(a=t.tenantId)!==null&&a!==void 0?a:void 0,O=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,$=(u=t.createdAt)!==null&&u!==void 0?u:void 0,Y=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:Q,emailVerified:de,isAnonymous:Ae,providerData:le,stsTokenManager:D}=t;Ne(Q&&D,e,"internal-error");let b=tl.fromJSON(this.name,D);Ne(typeof Q=="string",e,"internal-error"),Ei(p,e.name),Ei(_,e.name),Ne(typeof de=="boolean",e,"internal-error"),Ne(typeof Ae=="boolean",e,"internal-error"),Ei(w,e.name),Ei(x,e.name),Ei(k,e.name),Ei(O,e.name),Ei($,e.name),Ei(Y,e.name);let E=new n({uid:Q,auth:e,email:_,emailVerified:de,displayName:p,isAnonymous:Ae,photoURL:x,phoneNumber:w,tenantId:k,stsTokenManager:b,createdAt:$,lastLoginAt:Y});return le&&Array.isArray(le)&&(E.providerData=le.map(T=>Object.assign({},T))),O&&(E._redirectEventId=O),E}static _fromIdTokenResponse(e,t,r=!1){return N(this,null,function*(){let i=new tl;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield rf(o),o})}static _fromGetAccountInfoResponse(e,t,r){return N(this,null,function*(){let i=t.users[0];Ne(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?fA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new tl;a.updateFromIdToken(r);let l=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new nl(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(l,u),l})}};var eA=new Map;function go(n){tf(n instanceof Function,"Expected a class definition");let e=eA.get(n);return e?(tf(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,eA.set(n,e),e)}var s4=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return N(this,null,function*(){return!0})}_set(t,r){return N(this,null,function*(){this.storage[t]=r})}_get(t){return N(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return N(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),u0=s4;function s0(n,e,t){return`firebase:${n}:${e}:${t}`}var of=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=s0(this.userKey,i.apiKey,o),this.fullPersistenceKey=s0("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return N(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?rl._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return N(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return N(this,null,function*(){if(!t.length)return new n(go(u0),e,r);let i=(yield Promise.all(t.map(u=>N(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||go(u0),s=s0(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let h=yield u._get(s);if(h){let p=rl._fromJSON(e,h);u!==o&&(a=p),o=u;break}}catch{}let l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new n(o,e,r):(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>N(this,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function tA(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(u4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(a4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(h4(e))return"Blackberry";if(f4(e))return"Webos";if(c4(e))return"Safari";if((e.includes("chrome/")||l4(e))&&!e.includes("edge/"))return"Chrome";if(d4(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function a4(n=rn()){return/firefox\//i.test(n)}function c4(n=rn()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function l4(n=rn()){return/crios\//i.test(n)}function u4(n=rn()){return/iemobile/i.test(n)}function d4(n=rn()){return/android/i.test(n)}function h4(n=rn()){return/blackberry/i.test(n)}function f4(n=rn()){return/webos/i.test(n)}function pA(n,e=[]){let t;switch(n){case"Browser":t=tA(rn());break;case"Worker":t=`${tA(rn())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Hs}/${r}`}var d0=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let l=e(o);s(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return N(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function p4(t){return N(this,arguments,function*(n,e={}){return af(n,"GET","/v2/passwordPolicy",cA(n,e))})}var m4=6,h0=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:m4,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var f0=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sf(this),this.idTokenSubscription=new sf(this),this.beforeStateQueue=new d0(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=go(t)),this._initializationPromise=this.queue(()=>N(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield of.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return N(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return N(this,null,function*(){try{let t=yield dA(this,{idToken:e}),r=yield rl._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return N(this,null,function*(){var t;if($s(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return N(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return N(this,null,function*(){try{yield rf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Z3()}_delete(){return N(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return N(this,null,function*(){if($s(this.app))return Promise.reject(Xh(this));let t=e?Pt(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return N(this,null,function*(){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>N(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return N(this,null,function*(){return $s(this.app)?Promise.reject(Xh(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return $s(this.app)?Promise.reject(Xh(this)):this.queue(()=>N(this,null,function*(){yield this.assertedPersistence.setPersistence(go(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return N(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return N(this,null,function*(){let e=yield p4(this),t=new h0(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return N(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield o4(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return N(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return N(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&go(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=yield of.create(this,[go(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return N(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>N(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return N(this,null,function*(){if(e===this.currentUser)return this.queue(()=>N(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,r,i);return()=>{s=!0,l()}}else{let l=e.addObserver(t);return()=>{s=!0,l()}}}directlySetCurrentUser(e){return N(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return N(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return N(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&K3(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function g4(n){return Pt(n)}var sf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=OS(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var v4={loadJS(){return N(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function y4(n){v4=n}function _4(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function w4(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(go);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var UY=_4("rcb"),BY=new vo(3e4,6e4);var $Y=new vo(2e3,1e4);var HY=10*60*1e3;var zY=new vo(3e4,6e4);var qY=new vo(5e3,15e3);var GY=encodeURIComponent("fac");var nA="@firebase/auth",rA="1.7.9";var p0=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return N(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function b4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function I4(n){Ii(new yn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ne(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pA(n)},u=new f0(r,i,o,l);return w4(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ii(new yn("auth-internal",e=>{let t=g4(e.getProvider("auth").getImmediate());return(r=>new p0(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),mt(nA,rA,b4(n)),mt(nA,rA,"esm2017")}var E4=5*60,WY=TS("authIdTokenMaxAge")||E4;function C4(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}y4({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=m0("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",C4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});I4("Browser");var E$="auth";var cf=class{constructor(){return Yc(E$)}};var mA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gA={};var Ci,_0;(function(){var n;function e(D,b){function E(){}E.prototype=b.prototype,D.D=b.prototype,D.prototype=new E,D.prototype.constructor=D,D.C=function(T,S,M){for(var C=Array(arguments.length-2),ur=2;ur<arguments.length;ur++)C[ur-2]=arguments[ur];return b.prototype[S].apply(T,C)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,b,E){E||(E=0);var T=Array(16);if(typeof b=="string")for(var S=0;16>S;++S)T[S]=b.charCodeAt(E++)|b.charCodeAt(E++)<<8|b.charCodeAt(E++)<<16|b.charCodeAt(E++)<<24;else for(S=0;16>S;++S)T[S]=b[E++]|b[E++]<<8|b[E++]<<16|b[E++]<<24;b=D.g[0],E=D.g[1],S=D.g[2];var M=D.g[3],C=b+(M^E&(S^M))+T[0]+3614090360&4294967295;b=E+(C<<7&4294967295|C>>>25),C=M+(S^b&(E^S))+T[1]+3905402710&4294967295,M=b+(C<<12&4294967295|C>>>20),C=S+(E^M&(b^E))+T[2]+606105819&4294967295,S=M+(C<<17&4294967295|C>>>15),C=E+(b^S&(M^b))+T[3]+3250441966&4294967295,E=S+(C<<22&4294967295|C>>>10),C=b+(M^E&(S^M))+T[4]+4118548399&4294967295,b=E+(C<<7&4294967295|C>>>25),C=M+(S^b&(E^S))+T[5]+1200080426&4294967295,M=b+(C<<12&4294967295|C>>>20),C=S+(E^M&(b^E))+T[6]+2821735955&4294967295,S=M+(C<<17&4294967295|C>>>15),C=E+(b^S&(M^b))+T[7]+4249261313&4294967295,E=S+(C<<22&4294967295|C>>>10),C=b+(M^E&(S^M))+T[8]+1770035416&4294967295,b=E+(C<<7&4294967295|C>>>25),C=M+(S^b&(E^S))+T[9]+2336552879&4294967295,M=b+(C<<12&4294967295|C>>>20),C=S+(E^M&(b^E))+T[10]+4294925233&4294967295,S=M+(C<<17&4294967295|C>>>15),C=E+(b^S&(M^b))+T[11]+2304563134&4294967295,E=S+(C<<22&4294967295|C>>>10),C=b+(M^E&(S^M))+T[12]+1804603682&4294967295,b=E+(C<<7&4294967295|C>>>25),C=M+(S^b&(E^S))+T[13]+4254626195&4294967295,M=b+(C<<12&4294967295|C>>>20),C=S+(E^M&(b^E))+T[14]+2792965006&4294967295,S=M+(C<<17&4294967295|C>>>15),C=E+(b^S&(M^b))+T[15]+1236535329&4294967295,E=S+(C<<22&4294967295|C>>>10),C=b+(S^M&(E^S))+T[1]+4129170786&4294967295,b=E+(C<<5&4294967295|C>>>27),C=M+(E^S&(b^E))+T[6]+3225465664&4294967295,M=b+(C<<9&4294967295|C>>>23),C=S+(b^E&(M^b))+T[11]+643717713&4294967295,S=M+(C<<14&4294967295|C>>>18),C=E+(M^b&(S^M))+T[0]+3921069994&4294967295,E=S+(C<<20&4294967295|C>>>12),C=b+(S^M&(E^S))+T[5]+3593408605&4294967295,b=E+(C<<5&4294967295|C>>>27),C=M+(E^S&(b^E))+T[10]+38016083&4294967295,M=b+(C<<9&4294967295|C>>>23),C=S+(b^E&(M^b))+T[15]+3634488961&4294967295,S=M+(C<<14&4294967295|C>>>18),C=E+(M^b&(S^M))+T[4]+3889429448&4294967295,E=S+(C<<20&4294967295|C>>>12),C=b+(S^M&(E^S))+T[9]+568446438&4294967295,b=E+(C<<5&4294967295|C>>>27),C=M+(E^S&(b^E))+T[14]+3275163606&4294967295,M=b+(C<<9&4294967295|C>>>23),C=S+(b^E&(M^b))+T[3]+4107603335&4294967295,S=M+(C<<14&4294967295|C>>>18),C=E+(M^b&(S^M))+T[8]+1163531501&4294967295,E=S+(C<<20&4294967295|C>>>12),C=b+(S^M&(E^S))+T[13]+2850285829&4294967295,b=E+(C<<5&4294967295|C>>>27),C=M+(E^S&(b^E))+T[2]+4243563512&4294967295,M=b+(C<<9&4294967295|C>>>23),C=S+(b^E&(M^b))+T[7]+1735328473&4294967295,S=M+(C<<14&4294967295|C>>>18),C=E+(M^b&(S^M))+T[12]+2368359562&4294967295,E=S+(C<<20&4294967295|C>>>12),C=b+(E^S^M)+T[5]+4294588738&4294967295,b=E+(C<<4&4294967295|C>>>28),C=M+(b^E^S)+T[8]+2272392833&4294967295,M=b+(C<<11&4294967295|C>>>21),C=S+(M^b^E)+T[11]+1839030562&4294967295,S=M+(C<<16&4294967295|C>>>16),C=E+(S^M^b)+T[14]+4259657740&4294967295,E=S+(C<<23&4294967295|C>>>9),C=b+(E^S^M)+T[1]+2763975236&4294967295,b=E+(C<<4&4294967295|C>>>28),C=M+(b^E^S)+T[4]+1272893353&4294967295,M=b+(C<<11&4294967295|C>>>21),C=S+(M^b^E)+T[7]+4139469664&4294967295,S=M+(C<<16&4294967295|C>>>16),C=E+(S^M^b)+T[10]+3200236656&4294967295,E=S+(C<<23&4294967295|C>>>9),C=b+(E^S^M)+T[13]+681279174&4294967295,b=E+(C<<4&4294967295|C>>>28),C=M+(b^E^S)+T[0]+3936430074&4294967295,M=b+(C<<11&4294967295|C>>>21),C=S+(M^b^E)+T[3]+3572445317&4294967295,S=M+(C<<16&4294967295|C>>>16),C=E+(S^M^b)+T[6]+76029189&4294967295,E=S+(C<<23&4294967295|C>>>9),C=b+(E^S^M)+T[9]+3654602809&4294967295,b=E+(C<<4&4294967295|C>>>28),C=M+(b^E^S)+T[12]+3873151461&4294967295,M=b+(C<<11&4294967295|C>>>21),C=S+(M^b^E)+T[15]+530742520&4294967295,S=M+(C<<16&4294967295|C>>>16),C=E+(S^M^b)+T[2]+3299628645&4294967295,E=S+(C<<23&4294967295|C>>>9),C=b+(S^(E|~M))+T[0]+4096336452&4294967295,b=E+(C<<6&4294967295|C>>>26),C=M+(E^(b|~S))+T[7]+1126891415&4294967295,M=b+(C<<10&4294967295|C>>>22),C=S+(b^(M|~E))+T[14]+2878612391&4294967295,S=M+(C<<15&4294967295|C>>>17),C=E+(M^(S|~b))+T[5]+4237533241&4294967295,E=S+(C<<21&4294967295|C>>>11),C=b+(S^(E|~M))+T[12]+1700485571&4294967295,b=E+(C<<6&4294967295|C>>>26),C=M+(E^(b|~S))+T[3]+2399980690&4294967295,M=b+(C<<10&4294967295|C>>>22),C=S+(b^(M|~E))+T[10]+4293915773&4294967295,S=M+(C<<15&4294967295|C>>>17),C=E+(M^(S|~b))+T[1]+2240044497&4294967295,E=S+(C<<21&4294967295|C>>>11),C=b+(S^(E|~M))+T[8]+1873313359&4294967295,b=E+(C<<6&4294967295|C>>>26),C=M+(E^(b|~S))+T[15]+4264355552&4294967295,M=b+(C<<10&4294967295|C>>>22),C=S+(b^(M|~E))+T[6]+2734768916&4294967295,S=M+(C<<15&4294967295|C>>>17),C=E+(M^(S|~b))+T[13]+1309151649&4294967295,E=S+(C<<21&4294967295|C>>>11),C=b+(S^(E|~M))+T[4]+4149444226&4294967295,b=E+(C<<6&4294967295|C>>>26),C=M+(E^(b|~S))+T[11]+3174756917&4294967295,M=b+(C<<10&4294967295|C>>>22),C=S+(b^(M|~E))+T[2]+718787259&4294967295,S=M+(C<<15&4294967295|C>>>17),C=E+(M^(S|~b))+T[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(S+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+S&4294967295,D.g[3]=D.g[3]+M&4294967295}r.prototype.u=function(D,b){b===void 0&&(b=D.length);for(var E=b-this.blockSize,T=this.B,S=this.h,M=0;M<b;){if(S==0)for(;M<=E;)i(this,D,M),M+=this.blockSize;if(typeof D=="string"){for(;M<b;)if(T[S++]=D.charCodeAt(M++),S==this.blockSize){i(this,T),S=0;break}}else for(;M<b;)if(T[S++]=D[M++],S==this.blockSize){i(this,T),S=0;break}}this.h=S,this.o+=b},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;var E=8*this.o;for(b=D.length-8;b<D.length;++b)D[b]=E&255,E/=256;for(this.u(D),D=Array(16),b=E=0;4>b;++b)for(var T=0;32>T;T+=8)D[E++]=this.g[b]>>>T&255;return D};function o(D,b){var E=a;return Object.prototype.hasOwnProperty.call(E,D)?E[D]:E[D]=b(D)}function s(D,b){this.h=b;for(var E=[],T=!0,S=D.length-1;0<=S;S--){var M=D[S]|0;T&&M==b||(E[S]=M,T=!1)}this.g=E}var a={};function l(D){return-128<=D&&128>D?o(D,function(b){return new s([b|0],0>b?-1:0)}):new s([D|0],0>D?-1:0)}function u(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return O(u(-D));for(var b=[],E=1,T=0;D>=E;T++)b[T]=D/E|0,E*=4294967296;return new s(b,0)}function h(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return O(h(D.substring(1),b));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=u(Math.pow(b,8)),T=p,S=0;S<D.length;S+=8){var M=Math.min(8,D.length-S),C=parseInt(D.substring(S,S+M),b);8>M?(M=u(Math.pow(b,M)),T=T.j(M).add(u(C))):(T=T.j(E),T=T.add(u(C)))}return T}var p=l(0),_=l(1),w=l(16777216);n=s.prototype,n.m=function(){if(k(this))return-O(this).m();for(var D=0,b=1,E=0;E<this.g.length;E++){var T=this.i(E);D+=(0<=T?T:4294967296+T)*b,b*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(x(this))return"0";if(k(this))return"-"+O(this).toString(D);for(var b=u(Math.pow(D,6)),E=this,T="";;){var S=de(E,b).g;E=$(E,S.j(b));var M=((0<E.g.length?E.g[0]:E.h)>>>0).toString(D);if(E=S,x(E))return M+T;for(;6>M.length;)M="0"+M;T=M+T}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function x(D){if(D.h!=0)return!1;for(var b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function k(D){return D.h==-1}n.l=function(D){return D=$(this,D),k(D)?-1:x(D)?0:1};function O(D){for(var b=D.g.length,E=[],T=0;T<b;T++)E[T]=~D.g[T];return new s(E,~D.h).add(_)}n.abs=function(){return k(this)?O(this):this},n.add=function(D){for(var b=Math.max(this.g.length,D.g.length),E=[],T=0,S=0;S<=b;S++){var M=T+(this.i(S)&65535)+(D.i(S)&65535),C=(M>>>16)+(this.i(S)>>>16)+(D.i(S)>>>16);T=C>>>16,M&=65535,C&=65535,E[S]=C<<16|M}return new s(E,E[E.length-1]&-2147483648?-1:0)};function $(D,b){return D.add(O(b))}n.j=function(D){if(x(this)||x(D))return p;if(k(this))return k(D)?O(this).j(O(D)):O(O(this).j(D));if(k(D))return O(this.j(O(D)));if(0>this.l(w)&&0>D.l(w))return u(this.m()*D.m());for(var b=this.g.length+D.g.length,E=[],T=0;T<2*b;T++)E[T]=0;for(T=0;T<this.g.length;T++)for(var S=0;S<D.g.length;S++){var M=this.i(T)>>>16,C=this.i(T)&65535,ur=D.i(S)>>>16,pa=D.i(S)&65535;E[2*T+2*S]+=C*pa,Y(E,2*T+2*S),E[2*T+2*S+1]+=M*pa,Y(E,2*T+2*S+1),E[2*T+2*S+1]+=C*ur,Y(E,2*T+2*S+1),E[2*T+2*S+2]+=M*ur,Y(E,2*T+2*S+2)}for(T=0;T<b;T++)E[T]=E[2*T+1]<<16|E[2*T];for(T=b;T<2*b;T++)E[T]=0;return new s(E,0)};function Y(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function Q(D,b){this.g=D,this.h=b}function de(D,b){if(x(b))throw Error("division by zero");if(x(D))return new Q(p,p);if(k(D))return b=de(O(D),b),new Q(O(b.g),O(b.h));if(k(b))return b=de(D,O(b)),new Q(O(b.g),b.h);if(30<D.g.length){if(k(D)||k(b))throw Error("slowDivide_ only works with positive integers.");for(var E=_,T=b;0>=T.l(D);)E=Ae(E),T=Ae(T);var S=le(E,1),M=le(T,1);for(T=le(T,2),E=le(E,2);!x(T);){var C=M.add(T);0>=C.l(D)&&(S=S.add(E),M=C),T=le(T,1),E=le(E,1)}return b=$(D,S.j(b)),new Q(S,b)}for(S=p;0<=D.l(b);){for(E=Math.max(1,Math.floor(D.m()/b.m())),T=Math.ceil(Math.log(E)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),M=u(E),C=M.j(b);k(C)||0<C.l(D);)E-=T,M=u(E),C=M.j(b);x(M)&&(M=_),S=S.add(M),D=$(D,C)}return new Q(S,D)}n.A=function(D){return de(this,D).h},n.and=function(D){for(var b=Math.max(this.g.length,D.g.length),E=[],T=0;T<b;T++)E[T]=this.i(T)&D.i(T);return new s(E,this.h&D.h)},n.or=function(D){for(var b=Math.max(this.g.length,D.g.length),E=[],T=0;T<b;T++)E[T]=this.i(T)|D.i(T);return new s(E,this.h|D.h)},n.xor=function(D){for(var b=Math.max(this.g.length,D.g.length),E=[],T=0;T<b;T++)E[T]=this.i(T)^D.i(T);return new s(E,this.h^D.h)};function Ae(D){for(var b=D.g.length+1,E=[],T=0;T<b;T++)E[T]=D.i(T)<<1|D.i(T-1)>>>31;return new s(E,D.h)}function le(D,b){var E=b>>5;b%=32;for(var T=D.g.length-E,S=[],M=0;M<T;M++)S[M]=0<b?D.i(M+E)>>>b|D.i(M+E+1)<<32-b:D.i(M+E);return new s(S,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,_0=gA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=h,Ci=gA.Integer=s}).apply(typeof mA<"u"?mA:typeof self<"u"?self:typeof window<"u"?window:{});var lf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vr={};var w0,C$,Gs,b0,il,uf,I0,E0,C0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof lf=="object"&&lf];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var A=c[m];if(!(A in f))break e;f=f[A]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,A={next:function(){if(!m&&f<c.length){var F=f++;return{value:d(F,c[F]),done:!1}}return m=!0,{done:!0,value:void 0}}};return A[Symbol.iterator]=function(){return A},A}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function l(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function u(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,m),c.apply(d,A)}}return function(){return c.apply(d,arguments)}}function _(c,d,f){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,_.apply(null,arguments)}function w(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function x(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,A,F){for(var q=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)q[Ue-2]=arguments[Ue];return d.prototype[A].apply(m,q)}}function k(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function O(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(l(m)){let A=c.length||0,F=m.length||0;c.length=A+F;for(let q=0;q<F;q++)c[A+q]=m[q]}else c.push(m)}}class ${constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Y(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function de(c){return de[" "](c),c}de[" "]=function(){};var Ae=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function le(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function b(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(c,d){let f,m;for(let A=1;A<arguments.length;A++){m=arguments[A];for(f in m)c[f]=m[f];for(let F=0;F<E.length;F++)f=E[F],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function S(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function M(c){a.setTimeout(()=>{throw c},0)}function C(){var c=sp;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class ur{constructor(){this.h=this.g=null}add(d,f){let m=pa.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var pa=new $(()=>new IM,c=>c.reset());class IM{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ma,ga=!1,sp=new ur,Fw=()=>{let c=a.Promise.resolve(void 0);ma=()=>{c.then(EM)}};var EM=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(f){M(f)}var d=pa;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}ga=!1};function zr(){this.s=this.s,this.C=this.C}zr.prototype.s=!1,zr.prototype.ma=function(){this.s||(this.s=!0,this.N())},zr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Et(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Et.prototype.h=function(){this.defaultPrevented=!0};var CM=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function va(c,d){if(Et.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ae){e:{try{de(d.nodeName);var A=!0;break e}catch{}A=!1}A||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:DM[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&va.aa.h.call(this)}}x(va,Et);var DM={2:"touch",3:"pen",4:"mouse"};va.prototype.h=function(){va.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ya="closure_listenable_"+(1e6*Math.random()|0),TM=0;function xM(c,d,f,m,A){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=A,this.key=++TM,this.da=this.fa=!1}function Al(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ml(c){this.src=c,this.g={},this.h=0}Ml.prototype.add=function(c,d,f,m,A){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var q=cp(c,d,m,A);return-1<q?(d=c[q],f||(d.fa=!1)):(d=new xM(d,this.src,F,!!m,A),d.fa=f,c.push(d)),d};function ap(c,d){var f=d.type;if(f in c.g){var m=c.g[f],A=Array.prototype.indexOf.call(m,d,void 0),F;(F=0<=A)&&Array.prototype.splice.call(m,A,1),F&&(Al(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function cp(c,d,f,m){for(var A=0;A<c.length;++A){var F=c[A];if(!F.da&&F.listener==d&&F.capture==!!f&&F.ha==m)return A}return-1}var lp="closure_lm_"+(1e6*Math.random()|0),up={};function Lw(c,d,f,m,A){if(m&&m.once)return jw(c,d,f,m,A);if(Array.isArray(d)){for(var F=0;F<d.length;F++)Lw(c,d[F],f,m,A);return null}return f=pp(f),c&&c[ya]?c.K(d,f,u(m)?!!m.capture:!!m,A):Vw(c,d,f,!1,m,A)}function Vw(c,d,f,m,A,F){if(!d)throw Error("Invalid event type");var q=u(A)?!!A.capture:!!A,Ue=hp(c);if(Ue||(c[lp]=Ue=new Ml(c)),f=Ue.add(d,f,m,q,F),f.proxy)return f;if(m=SM(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)CM||(A=q),A===void 0&&(A=!1),c.addEventListener(d.toString(),m,A);else if(c.attachEvent)c.attachEvent(Bw(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function SM(){function c(f){return d.call(c.src,c.listener,f)}let d=AM;return c}function jw(c,d,f,m,A){if(Array.isArray(d)){for(var F=0;F<d.length;F++)jw(c,d[F],f,m,A);return null}return f=pp(f),c&&c[ya]?c.L(d,f,u(m)?!!m.capture:!!m,A):Vw(c,d,f,!0,m,A)}function Uw(c,d,f,m,A){if(Array.isArray(d))for(var F=0;F<d.length;F++)Uw(c,d[F],f,m,A);else m=u(m)?!!m.capture:!!m,f=pp(f),c&&c[ya]?(c=c.i,d=String(d).toString(),d in c.g&&(F=c.g[d],f=cp(F,f,m,A),-1<f&&(Al(F[f]),Array.prototype.splice.call(F,f,1),F.length==0&&(delete c.g[d],c.h--)))):c&&(c=hp(c))&&(d=c.g[d.toString()],c=-1,d&&(c=cp(d,f,m,A)),(f=-1<c?d[c]:null)&&dp(f))}function dp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[ya])ap(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(Bw(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=hp(d))?(ap(f,c),f.h==0&&(f.src=null,d[lp]=null)):Al(c)}}}function Bw(c){return c in up?up[c]:up[c]="on"+c}function AM(c,d){if(c.da)c=!0;else{d=new va(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&dp(c),c=f.call(m,d)}return c}function hp(c){return c=c[lp],c instanceof Ml?c:null}var fp="__closure_events_fn_"+(1e9*Math.random()>>>0);function pp(c){return typeof c=="function"?c:(c[fp]||(c[fp]=function(d){return c.handleEvent(d)}),c[fp])}function Ct(){zr.call(this),this.i=new Ml(this),this.M=this,this.F=null}x(Ct,zr),Ct.prototype[ya]=!0,Ct.prototype.removeEventListener=function(c,d,f,m){Uw(this,c,d,f,m)};function Ft(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new Et(d,c);else if(d instanceof Et)d.target=d.target||c;else{var A=d;d=new Et(m,c),T(d,A)}if(A=!0,f)for(var F=f.length-1;0<=F;F--){var q=d.g=f[F];A=Rl(q,m,!0,d)&&A}if(q=d.g=c,A=Rl(q,m,!0,d)&&A,A=Rl(q,m,!1,d)&&A,f)for(F=0;F<f.length;F++)q=d.g=f[F],A=Rl(q,m,!1,d)&&A}Ct.prototype.N=function(){if(Ct.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)Al(f[m]);delete c.g[d],c.h--}}this.F=null},Ct.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},Ct.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function Rl(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var A=!0,F=0;F<d.length;++F){var q=d[F];if(q&&!q.da&&q.capture==f){var Ue=q.listener,vt=q.ha||q.src;q.fa&&ap(c.i,q),A=Ue.call(vt,m)!==!1&&A}}return A&&!m.defaultPrevented}function $w(c,d,f){if(typeof c=="function")f&&(c=_(c,f));else if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Hw(c){c.g=$w(()=>{c.g=null,c.i&&(c.i=!1,Hw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class MM extends zr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Hw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _a(c){zr.call(this),this.h=c,this.g={}}x(_a,zr);var zw=[];function qw(c){le(c.g,function(d,f){this.g.hasOwnProperty(f)&&dp(d)},c),c.g={}}_a.prototype.N=function(){_a.aa.N.call(this),qw(this)},_a.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mp=a.JSON.stringify,RM=a.JSON.parse,PM=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function gp(){}gp.prototype.h=null;function Gw(c){return c.h||(c.h=c.i())}function Ww(){}var wa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vp(){Et.call(this,"d")}x(vp,Et);function yp(){Et.call(this,"c")}x(yp,Et);var Pi={},Kw=null;function Pl(){return Kw=Kw||new Ct}Pi.La="serverreachability";function Qw(c){Et.call(this,Pi.La,c)}x(Qw,Et);function ba(c){let d=Pl();Ft(d,new Qw(d))}Pi.STAT_EVENT="statevent";function Yw(c,d){Et.call(this,Pi.STAT_EVENT,c),this.stat=d}x(Yw,Et);function Lt(c){let d=Pl();Ft(d,new Yw(d,c))}Pi.Ma="timingevent";function Zw(c,d){Et.call(this,Pi.Ma,c),this.size=d}x(Zw,Et);function Ia(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Ea(){this.g=!0}Ea.prototype.xa=function(){this.g=!1};function NM(c,d,f,m,A,F){c.info(function(){if(c.g)if(F)for(var q="",Ue=F.split("&"),vt=0;vt<Ue.length;vt++){var Re=Ue[vt].split("=");if(1<Re.length){var Dt=Re[0];Re=Re[1];var Tt=Dt.split("_");q=2<=Tt.length&&Tt[1]=="type"?q+(Dt+"="+Re+"&"):q+(Dt+"=redacted&")}}else q=null;else q=F;return"XMLHTTP REQ ("+m+") [attempt "+A+"]: "+d+`
`+f+`
`+q})}function OM(c,d,f,m,A,F,q){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+A+"]: "+d+`
`+f+`
`+F+" "+q})}function Po(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+FM(c,f)+(m?" "+m:"")})}function kM(c,d){c.info(function(){return"TIMEOUT: "+d})}Ea.prototype.info=function(){};function FM(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var A=m[1];if(Array.isArray(A)&&!(1>A.length)){var F=A[0];if(F!="noop"&&F!="stop"&&F!="close")for(var q=1;q<A.length;q++)A[q]=""}}}}return mp(f)}catch{return d}}var Nl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Jw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_p;function Ol(){}x(Ol,gp),Ol.prototype.g=function(){return new XMLHttpRequest},Ol.prototype.i=function(){return{}},_p=new Ol;function qr(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new _a(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xw}function Xw(){this.i=null,this.g="",this.h=!1}var eb={},wp={};function bp(c,d,f){c.L=1,c.v=Vl(dr(d)),c.m=f,c.P=!0,tb(c,null)}function tb(c,d){c.F=Date.now(),kl(c),c.A=dr(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),mb(f.i,"t",m),c.C=0,f=c.j.J,c.h=new Xw,c.g=Nb(c.j,f?d:null,!c.m),0<c.O&&(c.M=new MM(_(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var A="readystatechange";Array.isArray(A)||(A&&(zw[0]=A.toString()),A=zw);for(var F=0;F<A.length;F++){var q=Lw(f,A[F],m||d.handleEvent,!1,d.h||d);if(!q)break;d.g[q.key]=q}d=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),ba(),NM(c.i,c.u,c.A,c.l,c.R,c.m)}qr.prototype.ca=function(c){c=c.target;let d=this.M;d&&hr(c)==3?d.j():this.Y(c)},qr.prototype.Y=function(c){try{if(c==this.g)e:{let Tt=hr(this.g);var d=this.g.Ba();let ko=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||Ib(this.g)))){this.J||Tt!=4||d==7||(d==8||0>=ko?ba(3):ba(2)),Ip(this);var f=this.g.Z();this.X=f;t:if(nb(this)){var m=Ib(this.g);c="";var A=m.length,F=hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ni(this),Ca(this);var q="";break t}this.h.i=new a.TextDecoder}for(d=0;d<A;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(F&&d==A-1)});m.length=0,this.h.g+=c,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=f==200,OM(this.i,this.u,this.A,this.l,this.R,Tt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,vt=this.g;if((Ue=vt.g?vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Ue)){var Re=Ue;break t}}Re=null}if(f=Re)Po(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ep(this,f);else{this.o=!1,this.s=3,Lt(12),Ni(this),Ca(this);break e}}if(this.P){f=!0;let wn;for(;!this.J&&this.C<q.length;)if(wn=LM(this,q),wn==wp){Tt==4&&(this.s=4,Lt(14),f=!1),Po(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==eb){this.s=4,Lt(15),Po(this.i,this.l,q,"[Invalid Chunk]"),f=!1;break}else Po(this.i,this.l,wn,null),Ep(this,wn);if(nb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||q.length!=0||this.h.h||(this.s=1,Lt(16),f=!1),this.o=this.o&&f,!f)Po(this.i,this.l,q,"[Invalid Chunked Response]"),Ni(this),Ca(this);else if(0<q.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),Ap(Dt),Dt.M=!0,Lt(11))}}else Po(this.i,this.l,q,null),Ep(this,q);Tt==4&&Ni(this),this.o&&!this.J&&(Tt==4?Ab(this.j,this):(this.o=!1,kl(this)))}else eR(this.g),f==400&&0<q.indexOf("Unknown SID")?(this.s=3,Lt(12)):(this.s=0,Lt(13)),Ni(this),Ca(this)}}}catch{}finally{}};function nb(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function LM(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?wp:(f=Number(d.substring(f,m)),isNaN(f)?eb:(m+=1,m+f>d.length?wp:(d=d.slice(m,m+f),c.C=m+f,d)))}qr.prototype.cancel=function(){this.J=!0,Ni(this)};function kl(c){c.S=Date.now()+c.I,rb(c,c.I)}function rb(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ia(_(c.ba,c),d)}function Ip(c){c.B&&(a.clearTimeout(c.B),c.B=null)}qr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(kM(this.i,this.A),this.L!=2&&(ba(),Lt(17)),Ni(this),this.s=2,Ca(this)):rb(this,this.S-c)};function Ca(c){c.j.G==0||c.J||Ab(c.j,c)}function Ni(c){Ip(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,qw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Ep(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Cp(f.h,c))){if(!c.K&&Cp(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var A=m;if(A[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Hl(f),Bl(f);else break e;Sp(f),Lt(18)}}else f.za=A[1],0<f.za-f.T&&37500>A[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ia(_(f.Za,f),6e3));if(1>=sb(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ki(f,11)}else if((c.K||f.g==c)&&Hl(f),!Y(d))for(A=f.Da.g.parse(d),d=0;d<A.length;d++){let Re=A[d];if(f.T=Re[0],Re=Re[1],f.G==2)if(Re[0]=="c"){f.K=Re[1],f.ia=Re[2];let Dt=Re[3];Dt!=null&&(f.la=Dt,f.j.info("VER="+f.la));let Tt=Re[4];Tt!=null&&(f.Aa=Tt,f.j.info("SVER="+f.Aa));let ko=Re[5];ko!=null&&typeof ko=="number"&&0<ko&&(m=1.5*ko,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let wn=c.g;if(wn){let ql=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ql){var F=m.h;F.g||ql.indexOf("spdy")==-1&&ql.indexOf("quic")==-1&&ql.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Dp(F,F.h),F.h=null))}if(m.D){let Mp=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Mp&&(m.ya=Mp,ze(m.I,m.D,Mp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var q=c;if(m.qa=Pb(m,m.J?m.ia:null,m.W),q.K){ab(m.h,q);var Ue=q,vt=m.L;vt&&(Ue.I=vt),Ue.B&&(Ip(Ue),kl(Ue)),m.g=q}else xb(m);0<f.i.length&&$l(f)}else Re[0]!="stop"&&Re[0]!="close"||ki(f,7);else f.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?ki(f,7):xp(f):Re[0]!="noop"&&f.l&&f.l.ta(Re),f.v=0)}}ba(4)}catch{}}var VM=class{constructor(c,d){this.g=c,this.map=d}};function ib(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ob(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function sb(c){return c.h?1:c.g?c.g.size:0}function Cp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Dp(c,d){c.g?c.g.add(d):c.h=d}function ab(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}ib.prototype.cancel=function(){if(this.i=cb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function cb(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return k(c.i)}function jM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function UM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function lb(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=UM(c),m=jM(c),A=m.length,F=0;F<A;F++)d.call(void 0,m[F],f&&f[F],c)}var ub=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function BM(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),A=null;if(0<=m){var F=c[f].substring(0,m);A=c[f].substring(m+1)}else F=c[f];d(F,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function Oi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Oi){this.h=c.h,Fl(this,c.j),this.o=c.o,this.g=c.g,Ll(this,c.s),this.l=c.l;var d=c.i,f=new xa;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),db(this,f),this.m=c.m}else c&&(d=String(c).match(ub))?(this.h=!1,Fl(this,d[1]||"",!0),this.o=Da(d[2]||""),this.g=Da(d[3]||"",!0),Ll(this,d[4]),this.l=Da(d[5]||"",!0),db(this,d[6]||"",!0),this.m=Da(d[7]||"")):(this.h=!1,this.i=new xa(null,this.h))}Oi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Ta(d,hb,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Ta(d,hb,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Ta(f,f.charAt(0)=="/"?zM:HM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Ta(f,GM)),c.join("")};function dr(c){return new Oi(c)}function Fl(c,d,f){c.j=f?Da(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Ll(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function db(c,d,f){d instanceof xa?(c.i=d,WM(c.i,c.h)):(f||(d=Ta(d,qM)),c.i=new xa(d,c.h))}function ze(c,d,f){c.i.set(d,f)}function Vl(c){return ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Da(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ta(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,$M),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function $M(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var hb=/[#\/\?@]/g,HM=/[#\?:]/g,zM=/[#\?]/g,qM=/[#\?@]/g,GM=/#/g;function xa(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Gr(c){c.g||(c.g=new Map,c.h=0,c.i&&BM(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=xa.prototype,n.add=function(c,d){Gr(this),this.i=null,c=No(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function fb(c,d){Gr(c),d=No(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function pb(c,d){return Gr(c),d=No(c,d),c.g.has(d)}n.forEach=function(c,d){Gr(this),this.g.forEach(function(f,m){f.forEach(function(A){c.call(d,A,m,this)},this)},this)},n.na=function(){Gr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let A=c[m];for(let F=0;F<A.length;F++)f.push(d[m])}return f},n.V=function(c){Gr(this);let d=[];if(typeof c=="string")pb(this,c)&&(d=d.concat(this.g.get(No(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return Gr(this),this.i=null,c=No(this,c),pb(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function mb(c,d,f){fb(c,d),0<f.length&&(c.i=null,c.g.set(No(c,d),k(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let F=encodeURIComponent(String(m)),q=this.V(m);for(m=0;m<q.length;m++){var A=F;q[m]!==""&&(A+="="+encodeURIComponent(String(q[m]))),c.push(A)}}return this.i=c.join("&")};function No(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function WM(c,d){d&&!c.j&&(Gr(c),c.i=null,c.g.forEach(function(f,m){var A=m.toLowerCase();m!=A&&(fb(this,m),mb(this,A,f))},c)),c.j=d}function KM(c,d){let f=new Ea;if(a.Image){let m=new Image;m.onload=w(Wr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=w(Wr,f,"TestLoadImage: error",!1,d,m),m.onabort=w(Wr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=w(Wr,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function QM(c,d){let f=new Ea,m=new AbortController,A=setTimeout(()=>{m.abort(),Wr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(F=>{clearTimeout(A),F.ok?Wr(f,"TestPingServer: ok",!0,d):Wr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(A),Wr(f,"TestPingServer: error",!1,d)})}function Wr(c,d,f,m,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),m(f)}catch{}}function YM(){this.g=new PM}function ZM(c,d,f){let m=f||"";try{lb(c,function(A,F){let q=A;u(A)&&(q=mp(A)),d.push(m+F+"="+encodeURIComponent(q))})}catch(A){throw d.push(m+"type="+encodeURIComponent("_badmap")),A}}function Sa(c){this.l=c.Ub||null,this.j=c.eb||!1}x(Sa,gp),Sa.prototype.g=function(){return new jl(this.l,this.j)},Sa.prototype.i=function(c){return function(){return c}}({});function jl(c,d){Ct.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(jl,Ct),n=jl.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ma(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Aa(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ma(this)),this.g&&(this.readyState=3,Ma(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gb(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function gb(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Aa(this):Ma(this),this.readyState==3&&gb(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Aa(this))},n.Qa=function(c){this.g&&(this.response=c,Aa(this))},n.ga=function(){this.g&&Aa(this)};function Aa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ma(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Ma(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(jl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function vb(c){let d="";return le(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function Tp(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=vb(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):ze(c,d,f))}function Je(c){Ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Je,Ct);var JM=/^https?$/i,XM=["POST","PUT"];n=Je.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_p.g(),this.v=this.o?Gw(this.o):Gw(_p),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(F){yb(this,F);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var A in m)f.set(A,m[A]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let F of m.keys())f.set(F,m.get(F));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(F=>F.toLowerCase()=="content-type"),A=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(XM,d,void 0))||m||A||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[F,q]of f)this.g.setRequestHeader(F,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bb(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){yb(this,F)}};function yb(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,_b(c),Ul(c)}function _b(c){c.A||(c.A=!0,Ft(c,"complete"),Ft(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ft(this,"complete"),Ft(this,"abort"),Ul(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ul(this,!0)),Je.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?wb(this):this.bb())},n.bb=function(){wb(this)};function wb(c){if(c.h&&typeof s<"u"&&(!c.v[1]||hr(c)!=4||c.Z()!=2)){if(c.u&&hr(c)==4)$w(c.Ea,0,c);else if(Ft(c,"readystatechange"),hr(c)==4){c.h=!1;try{let q=c.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=q===0){var A=String(c.D).match(ub)[1]||null;!A&&a.self&&a.self.location&&(A=a.self.location.protocol.slice(0,-1)),m=!JM.test(A?A.toLowerCase():"")}f=m}if(f)Ft(c,"complete"),Ft(c,"success");else{c.m=6;try{var F=2<hr(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",_b(c)}}finally{Ul(c)}}}}function Ul(c,d){if(c.g){bb(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Ft(c,"ready");try{f.onreadystatechange=m}catch{}}}function bb(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function hr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<hr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),RM(d)}};function Ib(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function eR(c){let d={};c=(c.g&&2<=hr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(Y(c[m]))continue;var f=S(c[m]);let A=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let F=d[A]||[];d[A]=F,F.push(f)}D(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ra(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Eb(c){this.Aa=0,this.i=[],this.j=new Ea,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ra("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ra("baseRetryDelayMs",5e3,c),this.cb=Ra("retryDelaySeedMs",1e4,c),this.Wa=Ra("forwardChannelMaxRetries",2,c),this.wa=Ra("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ib(c&&c.concurrentRequestLimit),this.Da=new YM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Eb.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,m){Lt(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=Pb(this,null,this.W),$l(this)};function xp(c){if(Cb(c),c.G==3){var d=c.U++,f=dr(c.I);if(ze(f,"SID",c.K),ze(f,"RID",d),ze(f,"TYPE","terminate"),Pa(c,f),d=new qr(c,c.j,d),d.L=2,d.v=Vl(dr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=Nb(d.j,null),d.g.ea(d.v)),d.F=Date.now(),kl(d)}Rb(c)}function Bl(c){c.g&&(Ap(c),c.g.cancel(),c.g=null)}function Cb(c){Bl(c),c.u&&(a.clearTimeout(c.u),c.u=null),Hl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function $l(c){if(!ob(c.h)&&!c.s){c.s=!0;var d=c.Ga;ma||Fw(),ga||(ma(),ga=!0),sp.add(d,c),c.B=0}}function tR(c,d){return sb(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ia(_(c.Ga,c,d),Mb(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let A=new qr(this,this.j,c),F=this.o;if(this.S&&(F?(F=b(F),T(F,this.S)):F=this.S),this.m!==null||this.O||(A.H=F,F=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Tb(this,A,d),f=dr(this.I),ze(f,"RID",c),ze(f,"CVER",22),this.D&&ze(f,"X-HTTP-Session-Id",this.D),Pa(this,f),F&&(this.O?d="headers="+encodeURIComponent(String(vb(F)))+"&"+d:this.m&&Tp(f,this.m,F)),Dp(this.h,A),this.Ua&&ze(f,"TYPE","init"),this.P?(ze(f,"$req",d),ze(f,"SID","null"),A.T=!0,bp(A,f,null)):bp(A,f,d),this.G=2}}else this.G==3&&(c?Db(this,c):this.i.length==0||ob(this.h)||Db(this))};function Db(c,d){var f;d?f=d.l:f=c.U++;let m=dr(c.I);ze(m,"SID",c.K),ze(m,"RID",f),ze(m,"AID",c.T),Pa(c,m),c.m&&c.o&&Tp(m,c.m,c.o),f=new qr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Tb(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Dp(c.h,f),bp(f,m,d)}function Pa(c,d){c.H&&le(c.H,function(f,m){ze(d,m,f)}),c.l&&lb({},function(f,m){ze(d,m,f)})}function Tb(c,d,f){f=Math.min(c.i.length,f);var m=c.l?_(c.l.Na,c.l,c):null;e:{var A=c.i;let F=-1;for(;;){let q=["count="+f];F==-1?0<f?(F=A[0].g,q.push("ofs="+F)):F=0:q.push("ofs="+F);let Ue=!0;for(let vt=0;vt<f;vt++){let Re=A[vt].g,Dt=A[vt].map;if(Re-=F,0>Re)F=Math.max(0,A[vt].g-100),Ue=!1;else try{ZM(Dt,q,"req"+Re+"_")}catch{m&&m(Dt)}}if(Ue){m=q.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function xb(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ma||Fw(),ga||(ma(),ga=!0),sp.add(d,c),c.v=0}}function Sp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ia(_(c.Fa,c),Mb(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Sb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ia(_(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Lt(10),Bl(this),Sb(this))};function Ap(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Sb(c){c.g=new qr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=dr(c.qa);ze(d,"RID","rpc"),ze(d,"SID",c.K),ze(d,"AID",c.T),ze(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&ze(d,"TO",c.ja),ze(d,"TYPE","xmlhttp"),Pa(c,d),c.m&&c.o&&Tp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Vl(dr(d)),f.m=null,f.P=!0,tb(f,c)}n.Za=function(){this.C!=null&&(this.C=null,Bl(this),Sp(this),Lt(19))};function Hl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Ab(c,d){var f=null;if(c.g==d){Hl(c),Ap(c),c.g=null;var m=2}else if(Cp(c.h,d))f=d.D,ab(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var A=c.B;m=Pl(),Ft(m,new Zw(m,f)),$l(c)}else xb(c);else if(A=d.s,A==3||A==0&&0<d.X||!(m==1&&tR(c,d)||m==2&&Sp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),A){case 1:ki(c,5);break;case 4:ki(c,10);break;case 3:ki(c,6);break;default:ki(c,2)}}}function Mb(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function ki(c,d){if(c.j.info("Error code "+d),d==2){var f=_(c.fb,c),m=c.Xa;let A=!m;m=new Oi(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Fl(m,"https"),Vl(m),A?KM(m.toString(),f):QM(m.toString(),f)}else Lt(2);c.G=0,c.l&&c.l.sa(d),Rb(c),Cb(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function Rb(c){if(c.G=0,c.ka=[],c.l){let d=cb(c.h);(d.length!=0||c.i.length!=0)&&(O(c.ka,d),O(c.ka,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.ra()}}function Pb(c,d,f){var m=f instanceof Oi?dr(f):new Oi(f);if(m.g!="")d&&(m.g=d+"."+m.g),Ll(m,m.s);else{var A=a.location;m=A.protocol,d=d?d+"."+A.hostname:A.hostname,A=+A.port;var F=new Oi(null);m&&Fl(F,m),d&&(F.g=d),A&&Ll(F,A),f&&(F.l=f),m=F}return f=c.D,d=c.ya,f&&d&&ze(m,f,d),ze(m,"VER",c.la),Pa(c,m),m}function Nb(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Je(new Sa({eb:f})):new Je(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ob(){}n=Ob.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function zl(){}zl.prototype.g=function(c,d){return new Yt(c,d)};function Yt(c,d){Ct.call(this),this.g=new Eb(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!Y(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Y(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Oo(this)}x(Yt,Ct),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){xp(this.g)},Yt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=mp(c),c=f);d.i.push(new VM(d.Ya++,c)),d.G==3&&$l(d)},Yt.prototype.N=function(){this.g.l=null,delete this.j,xp(this.g),delete this.g,Yt.aa.N.call(this)};function kb(c){vp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}x(kb,vp);function Fb(){yp.call(this),this.status=1}x(Fb,yp);function Oo(c){this.g=c}x(Oo,Ob),Oo.prototype.ua=function(){Ft(this.g,"a")},Oo.prototype.ta=function(c){Ft(this.g,new kb(c))},Oo.prototype.sa=function(c){Ft(this.g,new Fb)},Oo.prototype.ra=function(){Ft(this.g,"b")},zl.prototype.createWebChannel=zl.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,C0=Vr.createWebChannelTransport=function(){return new zl},E0=Vr.getStatEventTarget=function(){return Pl()},I0=Vr.Event=Pi,uf=Vr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nl.NO_ERROR=0,Nl.TIMEOUT=8,Nl.HTTP_ERROR=6,il=Vr.ErrorCode=Nl,Jw.COMPLETE="complete",b0=Vr.EventType=Jw,Ww.EventType=wa,wa.OPEN="a",wa.CLOSE="b",wa.ERROR="c",wa.MESSAGE="d",Ct.prototype.listen=Ct.prototype.K,Gs=Vr.WebChannel=Ww,C$=Vr.FetchXmlHttpFactory=Sa,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,w0=Vr.XhrIo=Je}).apply(typeof lf<"u"?lf:typeof self<"u"?self:typeof window<"u"?window:{});var vA="@firebase/firestore";var gt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");var da="10.14.0";var bo=new wi("@firebase/firestore");function ol(){return bo.logLevel}function ee(n,...e){if(bo.logLevel<=De.DEBUG){let t=e.map(uw);bo.debug(`Firestore (${da}): ${n}`,...t)}}function Br(n,...e){if(bo.logLevel<=De.ERROR){let t=e.map(uw);bo.error(`Firestore (${da}): ${n}`,...t)}}function Xs(n,...e){if(bo.logLevel<=De.WARN){let t=e.map(uw);bo.warn(`Firestore (${da}): ${n}`,...t)}}function uw(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function he(n="Unexpected state"){let e=`FIRESTORE (${da}) INTERNAL ASSERTION FAILED: `+n;throw Br(e),new Error(e)}function Fe(n,e){n||he()}function pe(n,e){return n}var j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},X=class extends vn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var jr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var mf=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},A0=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(gt.UNAUTHENTICATED))}shutdown(){}},M0=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},R0=class{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Fe(this.o===void 0);let r=this.i,i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve(),o=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new jr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>N(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},a=l=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new jr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string"),new mf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new gt(e)}},P0=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},N0=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new P0(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},O0=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},k0=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Fe(this.o===void 0);let r=o=>{o.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,ee("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Fe(typeof t.token=="string"),this.R=t.token,new O0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function D$(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var gf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=D$(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function Pe(n,e){return n<e?-1:n>e?1:0}function ea(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var It=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new X(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new X(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new X(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ye=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new It(0,0))}static max(){return new n(new It(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var vf=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&he(),r===void 0?r=e.length-t:r>e.length-t&&he(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Ze=class n extends vf{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new X(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},T$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,an=class n extends vf{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return T$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new X(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new X(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new X(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ae=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ze.fromString(e))}static fromName(e){return new n(Ze.fromString(e).popFirst(5))}static empty(){return new n(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ze(e.slice()))}};var F0=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};F0.UNKNOWN_ID=-1;function x$(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(r===1e9?new It(t+1,0):new It(t,r));return new Io(i,ae.empty(),e)}function S$(n){return new Io(n.readTime,n.key,-1)}var Io=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ye.min(),ae.empty(),-1)}static max(){return new n(ye.max(),ae.empty(),-1)}};function A$(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ae.comparator(n.documentKey,e.documentKey),t!==0?t:Pe(n.largestBatchId,e.largestBatchId))}var M$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",L0=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Cl(n){return N(this,null,function*(){if(n.code!==j.FAILED_PRECONDITION||n.message!==M$)throw n;ee("LocalStore","Unexpectedly lost primary lease")})}var z=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},l=>r(l))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let l=0;l<o;l++){let u=l;t(e[u]).next(h=>{s[u]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function R$(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Dl(n){return n.name==="IndexedDbTransactionError"}var XA=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Gf(n){return n==null}function dl(n){return n===0&&1/n==-1/0}function P$(n){return typeof n=="number"&&Number.isInteger(n)&&!dl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var N$=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],KZ=[...N$,"documentOverlays"],O$=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],k$=O$,F$=[...k$,"indexConfiguration","indexState","indexEntries"];var QZ=[...F$,"globals"];function yA(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ao(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function e1(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Xe=class n{constructor(e,t){this.comparator=e,this.root=t||or.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,or.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,or.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ys(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ys(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ys(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ys(this.root,e,this.comparator,!0)}},Ys=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},or=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();let e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}};or.EMPTY=null,or.RED=!0,or.BLACK=!1;or.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,t,r,i,o){return this}insert(e,t,r){return new or(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ot=class n{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yf(this.data.getIterator())}getIteratorFrom(e){return new yf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},yf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var _n=class n{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new n([])}unionWith(e){let t=new Ot(an.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ea(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var _f=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var kt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new _f("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};kt.EMPTY_BYTE_STRING=new kt("");var L$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $r(n){if(Fe(!!n),typeof n=="string"){let e=0,t=L$.exec(n);if(Fe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(n.seconds),nanos:Qe(n.nanos)}}function Qe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function xi(n){return typeof n=="string"?kt.fromBase64String(n):kt.fromUint8Array(n)}function dw(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function hw(n){let e=n.mapValue.fields.__previous_value__;return dw(e)?hw(e):e}function hl(n){let e=$r(n.mapValue.fields.__local_write_time__.timestampValue);return new It(e.seconds,e.nanos)}var V0=class{constructor(e,t,r,i,o,s,a,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}},wf=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var df={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Eo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?dw(n)?4:n1(n)?9007199254740991:t1(n)?10:11:he()}function cr(n,e){if(n===e)return!0;let t=Eo(n);if(t!==Eo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hl(n).isEqual(hl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=$r(i.timestampValue),a=$r(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return xi(i.bytesValue).isEqual(xi(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Qe(i.geoPointValue.latitude)===Qe(o.geoPointValue.latitude)&&Qe(i.geoPointValue.longitude)===Qe(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Qe(i.integerValue)===Qe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Qe(i.doubleValue),a=Qe(o.doubleValue);return s===a?dl(s)===dl(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return ea(n.arrayValue.values||[],e.arrayValue.values||[],cr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(yA(s)!==yA(a))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!cr(s[l],a[l])))return!1;return!0}(n,e);default:return he()}}function fl(n,e){return(n.values||[]).find(t=>cr(t,e))!==void 0}function ta(n,e){if(n===e)return 0;let t=Eo(n),r=Eo(e);if(t!==r)return Pe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pe(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Qe(o.integerValue||o.doubleValue),l=Qe(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return _A(n.timestampValue,e.timestampValue);case 4:return _A(hl(n),hl(e));case 5:return Pe(n.stringValue,e.stringValue);case 6:return function(o,s){let a=xi(o),l=xi(s);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){let h=Pe(a[u],l[u]);if(h!==0)return h}return Pe(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Pe(Qe(o.latitude),Qe(s.latitude));return a!==0?a:Pe(Qe(o.longitude),Qe(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return wA(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,h;let p=o.fields||{},_=s.fields||{},w=(a=p.value)===null||a===void 0?void 0:a.arrayValue,x=(l=_.value)===null||l===void 0?void 0:l.arrayValue,k=Pe(((u=w?.values)===null||u===void 0?void 0:u.length)||0,((h=x?.values)===null||h===void 0?void 0:h.length)||0);return k!==0?k:wA(w,x)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===df.mapValue&&s===df.mapValue)return 0;if(o===df.mapValue)return 1;if(s===df.mapValue)return-1;let a=o.fields||{},l=Object.keys(a),u=s.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){let _=Pe(l[p],h[p]);if(_!==0)return _;let w=ta(a[l[p]],u[h[p]]);if(w!==0)return w}return Pe(l.length,h.length)}(n.mapValue,e.mapValue);default:throw he()}}function _A(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Pe(n,e);let t=$r(n),r=$r(e),i=Pe(t.seconds,r.seconds);return i!==0?i:Pe(t.nanos,r.nanos)}function wA(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=ta(t[i],r[i]);if(o)return o}return Pe(t.length,r.length)}function na(n){return j0(n)}function j0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=$r(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return xi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ae.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=j0(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${j0(t.fields[s])}`;return i+"}"}(n.mapValue):he()}function bA(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function U0(n){return!!n&&"integerValue"in n}function fw(n){return!!n&&"arrayValue"in n}function IA(n){return!!n&&"nullValue"in n}function EA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ff(n){return!!n&&"mapValue"in n}function t1(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function al(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ao(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=al(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=al(n.arrayValue.values[t]);return e}return Object.assign({},n)}function n1(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var sn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ff(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=al(t)}setAll(e){let t=an.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=al(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());ff(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];ff(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ao(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(al(this.value))}};function r1(n){let e=[];return Ao(n.fields,(t,r)=>{let i=new an([t]);if(ff(r)){let o=r1(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new _n(e)}var Fn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ye.min(),ye.min(),ye.min(),sn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ye.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ye.min(),ye.min(),sn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ye.min(),ye.min(),sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ra=class{constructor(e,t){this.position=e,this.inclusive=t}};function CA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=ae.comparator(ae.fromName(s.referenceValue),t.key):r=ta(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function DA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!cr(n.position[t],e.position[t]))return!1;return!0}var Co=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function V$(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var bf=class{},ct=class n extends bf{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new $0(e,t,r):t==="array-contains"?new q0(e,r):t==="in"?new G0(e,r):t==="not-in"?new W0(e,r):t==="array-contains-any"?new K0(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new H0(e,r):new z0(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ta(t,this.value)):t!==null&&Eo(this.value)===Eo(t)&&this.matchesComparison(ta(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ln=class n extends bf{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return i1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function i1(n){return n.op==="and"}function o1(n){return j$(n)&&i1(n)}function j$(n){for(let e of n.filters)if(e instanceof Ln)return!1;return!0}function B0(n){if(n instanceof ct)return n.field.canonicalString()+n.op.toString()+na(n.value);if(o1(n))return n.filters.map(e=>B0(e)).join(",");{let e=n.filters.map(t=>B0(t)).join(",");return`${n.op}(${e})`}}function s1(n,e){return n instanceof ct?function(r,i){return i instanceof ct&&r.op===i.op&&r.field.isEqual(i.field)&&cr(r.value,i.value)}(n,e):n instanceof Ln?function(r,i){return i instanceof Ln&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&s1(s,i.filters[a]),!0):!1}(n,e):void he()}function a1(n){return n instanceof ct?function(t){return`${t.field.canonicalString()} ${t.op} ${na(t.value)}`}(n):n instanceof Ln?function(t){return t.op.toString()+" {"+t.getFilters().map(a1).join(" ,")+"}"}(n):"Filter"}var $0=class extends ct{constructor(e,t,r){super(e,t,r),this.key=ae.fromName(r.referenceValue)}matches(e){let t=ae.comparator(e.key,this.key);return this.matchesComparison(t)}},H0=class extends ct{constructor(e,t){super(e,"in",t),this.keys=c1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},z0=class extends ct{constructor(e,t){super(e,"not-in",t),this.keys=c1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function c1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ae.fromName(r.referenceValue))}var q0=class extends ct{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return fw(t)&&fl(t.arrayValue,this.value)}},G0=class extends ct{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&fl(this.value.arrayValue,t)}},W0=class extends ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!fl(this.value.arrayValue,t)}},K0=class extends ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!fw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>fl(this.value.arrayValue,r))}};var Q0=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function TA(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Q0(n,e,t,r,i,o,s)}function pw(n){let e=pe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>B0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Gf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>na(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>na(r)).join(",")),e.ue=t}return e.ue}function mw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!V$(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!s1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!DA(n.startAt,e.startAt)&&DA(n.endAt,e.endAt)}function Y0(n){return ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Si=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function U$(n,e,t,r,i,o,s,a){return new Si(n,e,t,r,i,o,s,a)}function gw(n){return new Si(n)}function xA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function l1(n){return n.collectionGroup!==null}function cl(n){let e=pe(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ot(an.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Co(o,r))}),t.has(an.keyField().canonicalString())||e.ce.push(new Co(an.keyField(),r))}return e.ce}function sr(n){let e=pe(n);return e.le||(e.le=B$(e,cl(n))),e.le}function B$(n,e){if(n.limitType==="F")return TA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Co(i.field,o)});let t=n.endAt?new ra(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ra(n.startAt.position,n.startAt.inclusive):null;return TA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Z0(n,e){let t=n.filters.concat([e]);return new Si(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function J0(n,e,t){return new Si(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wf(n,e){return mw(sr(n),sr(e))&&n.limitType===e.limitType}function u1(n){return`${pw(sr(n))}|lt:${n.limitType}`}function Ws(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>a1(i)).join(", ")}]`),Gf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>na(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>na(i)).join(",")),`Target(${r})`}(sr(n))}; limitType=${n.limitType})`}function Kf(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ae.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of cl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){let u=CA(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,cl(r),i)||r.endAt&&!function(s,a,l){let u=CA(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,cl(r),i))}(n,e)}function $$(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function d1(n){return(e,t)=>{let r=!1;for(let i of cl(n)){let o=H$(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function H$(n,e,t){let r=n.field.isKeyField()?ae.comparator(e.key,t.key):function(o,s,a){let l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?ta(l,u):he()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}var Ai=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return e1(this.inner)}size(){return this.innerSize}};var z$=new Xe(ae.comparator);function Hr(){return z$}var h1=new Xe(ae.comparator);function sl(...n){let e=h1;for(let t of n)e=e.insert(t.key,t);return e}function f1(n){let e=h1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function yo(){return ll()}function p1(){return ll()}function ll(){return new Ai(n=>n.toString(),(n,e)=>n.isEqual(e))}var q$=new Xe(ae.comparator),G$=new Ot(ae.comparator);function Te(...n){let e=G$;for(let t of n)e=e.add(t);return e}var W$=new Ot(Pe);function K$(){return W$}function vw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dl(e)?"-0":e}}function m1(n){return{integerValue:""+n}}function Q$(n,e){return P$(e)?m1(e):vw(n,e)}var ia=class{constructor(){this._=void 0}};function Y$(n,e,t){return n instanceof oa?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&dw(o)&&(o=hw(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Do?v1(n,e):n instanceof To?y1(n,e):function(i,o){let s=g1(i,o),a=SA(s)+SA(i.Pe);return U0(s)&&U0(i.Pe)?m1(a):vw(i.serializer,a)}(n,e)}function Z$(n,e,t){return n instanceof Do?v1(n,e):n instanceof To?y1(n,e):t}function g1(n,e){return n instanceof sa?function(r){return U0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var oa=class extends ia{},Do=class extends ia{constructor(e){super(),this.elements=e}};function v1(n,e){let t=_1(e);for(let r of n.elements)t.some(i=>cr(i,r))||t.push(r);return{arrayValue:{values:t}}}var To=class extends ia{constructor(e){super(),this.elements=e}};function y1(n,e){let t=_1(e);for(let r of n.elements)t=t.filter(i=>!cr(i,r));return{arrayValue:{values:t}}}var sa=class extends ia{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function SA(n){return Qe(n.integerValue||n.doubleValue)}function _1(n){return fw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function J$(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Do&&i instanceof Do||r instanceof To&&i instanceof To?ea(r.elements,i.elements,cr):r instanceof sa&&i instanceof sa?cr(r.Pe,i.Pe):r instanceof oa&&i instanceof oa}(n.transform,e.transform)}var X0=class{constructor(e,t){this.version=e,this.transformResults=t}},Ur=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function pf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var aa=class{};function w1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new pl(n.key,Ur.none()):new xo(n.key,n.data,Ur.none());{let t=n.data,r=sn.empty(),i=new Ot(an.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new lr(n.key,r,new _n(i.toArray()),Ur.none())}}function X$(n,e,t){n instanceof xo?function(i,o,s){let a=i.value.clone(),l=MA(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof lr?function(i,o,s){if(!pf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=MA(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(b1(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function ul(n,e,t,r){return n instanceof xo?function(o,s,a,l){if(!pf(o.precondition,s))return a;let u=o.value.clone(),h=RA(o.fieldTransforms,l,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof lr?function(o,s,a,l){if(!pf(o.precondition,s))return a;let u=RA(o.fieldTransforms,l,s),h=s.data;return h.setAll(b1(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return pf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function e5(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=g1(r.transform,i||null);o!=null&&(t===null&&(t=sn.empty()),t.set(r.field,o))}return t||null}function AA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ea(r,i,(o,s)=>J$(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var xo=class extends aa{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},lr=class extends aa{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function b1(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function MA(n,e,t){let r=new Map;Fe(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Z$(s,a,t[i]))}return r}function RA(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,Y$(o,s,e))}return r}var pl=class extends aa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},e_=class extends aa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var t_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&X$(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=ul(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=ul(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=p1();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let l=w1(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Te())}isEqual(e){return this.batchId===e.batchId&&ea(this.mutations,e.mutations,(t,r)=>AA(t,r))&&ea(this.baseMutations,e.baseMutations,(t,r)=>AA(t,r))}},n_=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Fe(e.mutations.length===r.length);let i=function(){return q$}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var r_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var i_=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var st,Se;function t5(n){switch(n){default:return he();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function I1(n){if(n===void 0)return Br("GRPC error has no .code"),j.UNKNOWN;switch(n){case st.OK:return j.OK;case st.CANCELLED:return j.CANCELLED;case st.UNKNOWN:return j.UNKNOWN;case st.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case st.INTERNAL:return j.INTERNAL;case st.UNAVAILABLE:return j.UNAVAILABLE;case st.UNAUTHENTICATED:return j.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case st.NOT_FOUND:return j.NOT_FOUND;case st.ALREADY_EXISTS:return j.ALREADY_EXISTS;case st.PERMISSION_DENIED:return j.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case st.ABORTED:return j.ABORTED;case st.OUT_OF_RANGE:return j.OUT_OF_RANGE;case st.UNIMPLEMENTED:return j.UNIMPLEMENTED;case st.DATA_LOSS:return j.DATA_LOSS;default:return he()}}(Se=st||(st={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";var PA=null;function n5(){return new TextEncoder}var r5=new Ci([4294967295,4294967295],0);function NA(n){let e=n5().encode(n),t=new _0;return t.update(e),new Uint8Array(t.digest())}function OA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ci([t,r],0),new Ci([i,o],0)]}var o_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new _o(`Invalid padding: ${t}`);if(r<0)throw new _o(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _o(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new _o(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Ci.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Ci.fromNumber(r)));return i.compare(r5)===1&&(i=new Ci([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=NA(e),[r,i]=OA(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=NA(e),[r,i]=OA(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},_o=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var If=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,ml.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ye.min(),i,new Xe(Pe),Hr(),Te())}},ml=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Te(),Te(),Te())}};var Zs=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},Ef=class{constructor(e,t){this.targetId=e,this.me=t}},Cf=class{constructor(e,t,r=kt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Df=class{constructor(){this.fe=0,this.ge=FA(),this.pe=kt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Te(),t=Te(),r=Te();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:he()}}),new ml(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=FA()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},s_=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Hr(),this.qe=kA(),this.Qe=new Xe(Pe)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:he()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(Y0(o))if(r===0){let s=new ae(o.path);this.Ue(t,s,Fn.newNoDocument(s,ye.min()))}else Fe(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(t);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,u)}PA?.et(function(h,p,_,w,x){var k,O,$,Y,Q,de;let Ae={localCacheCount:h,existenceFilterCount:p.count,databaseId:_.database,projectId:_.projectId},le=p.unchangedNames;return le&&(Ae.bloomFilter={applied:x===0,hashCount:(k=le?.hashCount)!==null&&k!==void 0?k:0,bitmapLength:(Y=($=(O=le?.bits)===null||O===void 0?void 0:O.bitmap)===null||$===void 0?void 0:$.length)!==null&&Y!==void 0?Y:0,padding:(de=(Q=le?.bits)===null||Q===void 0?void 0:Q.padding)!==null&&de!==void 0?de:0,mightContain:D=>{var b;return(b=w?.mightContain(D))!==null&&b!==void 0&&b}}),Ae}(s,e.me,this.Le.tt(),a,l))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=xi(r).toUint8Array()}catch(l){if(l instanceof _f)return Xs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new o_(s,i,o)}catch(l){return Xs(l instanceof _o?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&Y0(a.target)){let l=new ae(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Fn.newNoDocument(l,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=Te();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{let u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new If(e,t,this.Qe,this.ke,r);return this.ke=Hr(),this.qe=kA(),this.Qe=new Xe(Pe),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Df,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ot(Pe),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||ee("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Df),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function kA(){return new Xe(ae.comparator)}function FA(){return new Xe(ae.comparator)}var i5={asc:"ASCENDING",desc:"DESCENDING"},o5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s5={and:"AND",or:"OR"},a_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function c_(n,e){return n.useProto3Json||Gf(e)?e:{value:e}}function Tf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function E1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function a5(n,e){return Tf(n,e.toTimestamp())}function ar(n){return Fe(!!n),ye.fromTimestamp(function(t){let r=$r(t);return new It(r.seconds,r.nanos)}(n))}function yw(n,e){return l_(n,e).canonicalString()}function l_(n,e){let t=function(i){return new Ze(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function C1(n){let e=Ze.fromString(n);return Fe(A1(e)),e}function u_(n,e){return yw(n.databaseId,e.path)}function D0(n,e){let t=C1(e);if(t.get(1)!==n.databaseId.projectId)throw new X(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new X(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ae(T1(t))}function D1(n,e){return yw(n.databaseId,e)}function c5(n){let e=C1(n);return e.length===4?Ze.emptyPath():T1(e)}function d_(n){return new Ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function T1(n){return Fe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function LA(n,e,t){return{name:u_(n,e),fields:t.value.mapValue.fields}}function l5(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,h){return u.useProto3Json?(Fe(h===void 0||typeof h=="string"),kt.fromBase64String(h||"")):(Fe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),kt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let h=u.code===void 0?j.UNKNOWN:I1(u.code);return new X(h,u.message||"")}(s);t=new Cf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=D0(n,r.document.name),o=ar(r.document.updateTime),s=r.document.createTime?ar(r.document.createTime):ye.min(),a=new sn({mapValue:{fields:r.document.fields}}),l=Fn.newFoundDocument(i,o,s,a),u=r.targetIds||[],h=r.removedTargetIds||[];t=new Zs(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=D0(n,r.document),o=r.readTime?ar(r.readTime):ye.min(),s=Fn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Zs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=D0(n,r.document),o=r.removedTargetIds||[];t=new Zs([],o,i,null)}else{if(!("filter"in e))return he();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new i_(i,o),a=r.targetId;t=new Ef(a,s)}}return t}function u5(n,e){let t;if(e instanceof xo)t={update:LA(n,e.key,e.value)};else if(e instanceof pl)t={delete:u_(n,e.key)};else if(e instanceof lr)t={update:LA(n,e.key,e.data),updateMask:_5(e.fieldMask)};else{if(!(e instanceof e_))return he();t={verify:u_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof oa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Do)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof To)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof sa)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw he()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:a5(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:he()}(n,e.precondition)),t}function d5(n,e){return n&&n.length>0?(Fe(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?ar(i.updateTime):ar(o);return s.isEqual(ye.min())&&(s=ar(o)),new X0(s,i.transformResults||[])}(t,e))):[]}function h5(n,e){return{documents:[D1(n,e.path)]}}function f5(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=D1(n,i);let o=function(u){if(u.length!==0)return S1(Ln.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(h=>function(_){return{field:Ks(_.field),direction:g5(_.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=c_(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:i}}function p5(n){let e=c5(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Fe(r===1);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let _=x1(p);return _ instanceof Ln&&o1(_)?_.getFilters():[_]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(_=>function(x){return new Co(Qs(x.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(_))}(t.orderBy));let a=null;t.limit&&(a=function(p){let _;return _=typeof p=="object"?p.value:p,Gf(_)?null:_}(t.limit));let l=null;t.startAt&&(l=function(p){let _=!!p.before,w=p.values||[];return new ra(w,_)}(t.startAt));let u=null;return t.endAt&&(u=function(p){let _=!p.before,w=p.values||[];return new ra(w,_)}(t.endAt)),U$(e,i,s,o,a,"F",l,u)}function m5(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function x1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Qs(t.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Qs(t.unaryFilter.field);return ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Qs(t.unaryFilter.field);return ct.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Qs(t.unaryFilter.field);return ct.create(s,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(n):n.fieldFilter!==void 0?function(t){return ct.create(Qs(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ln.create(t.compositeFilter.filters.map(r=>x1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he()}}(t.compositeFilter.op))}(n):he()}function g5(n){return i5[n]}function v5(n){return o5[n]}function y5(n){return s5[n]}function Ks(n){return{fieldPath:n.canonicalString()}}function Qs(n){return an.fromServerFormat(n.fieldPath)}function S1(n){return n instanceof ct?function(t){if(t.op==="=="){if(EA(t.value))return{unaryFilter:{field:Ks(t.field),op:"IS_NAN"}};if(IA(t.value))return{unaryFilter:{field:Ks(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(EA(t.value))return{unaryFilter:{field:Ks(t.field),op:"IS_NOT_NAN"}};if(IA(t.value))return{unaryFilter:{field:Ks(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ks(t.field),op:v5(t.op),value:t.value}}}(n):n instanceof Ln?function(t){let r=t.getFilters().map(i=>S1(i));return r.length===1?r[0]:{compositeFilter:{op:y5(t.op),filters:r}}}(n):he()}function _5(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function A1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var gl=class n{constructor(e,t,r,i,o=ye.min(),s=ye.min(),a=kt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var h_=class{constructor(e){this.ct=e}};function w5(n){let e=p5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?J0(e,e.limit,"L"):e}var xf=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Qe(e.integerValue));else if("doubleValue"in e){let r=Qe(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),dl(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=$r(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(xi(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?n1(e)?this.dt(t,Number.MAX_SAFE_INTEGER):t1(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):he()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(Qe(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),ae.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};xf.vt=new xf;var f_=class{constructor(){this.un=new p_}addToCollectionParentIndex(e,t){return this.un.add(t),z.resolve()}getCollectionParents(e,t){return z.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return z.resolve()}deleteFieldIndex(e,t){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,t){return z.resolve()}getDocumentsMatchingTarget(e,t){return z.resolve(null)}getIndexType(e,t){return z.resolve(0)}getFieldIndexes(e,t){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,t){return z.resolve(Io.min())}getMinOffsetFromCollectionGroup(e,t){return z.resolve(Io.min())}updateCollectionGroup(e,t,r){return z.resolve()}updateIndexEntries(e,t){return z.resolve()}},p_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ot(Ze.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ot(Ze.comparator)).toArray()}};var ZZ=new Uint8Array(0);var ir=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ir.DEFAULT_COLLECTION_PERCENTILE=10,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ir.DEFAULT=new ir(41943040,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ir.DISABLED=new ir(-1,0,0);var vl=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var m_=class{constructor(){this.changes=new Ai(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var g_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var v_=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&ul(r.mutation,i,_n.empty(),It.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Te()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Te()){let i=yo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=sl();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=yo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Te()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Hr(),s=ll(),a=function(){return ll()}();return t.forEach((l,u)=>{let h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof lr)?o=o.insert(u.key,u):h!==void 0?(s.set(u.key,h.mutation.getFieldMask()),ul(h.mutation,u,h.mutation.getFieldMask(),It.now())):s.set(u.key,_n.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,h)=>s.set(u,h)),t.forEach((u,h)=>{var p;return a.set(u,new g_(h,(p=s.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=ll(),i=new Xe((s,a)=>s-a),o=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(l=>{let u=t.get(l);if(u===null)return;let h=r.get(l)||_n.empty();h=a.applyToLocalView(u,h),r.set(l,h);let p=(i.get(a.batchId)||Te()).add(l);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),u=l.key,h=l.value,p=p1();h.forEach(_=>{if(!o.has(_)){let w=w1(t.get(_),r.get(_));w!==null&&p.set(_,w),o=o.add(_)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,p))}return z.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return ae.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):l1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):z.resolve(yo()),a=-1,l=o;return s.next(u=>z.forEach(u,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?z.resolve():this.remoteDocumentCache.getEntry(e,h).next(_=>{l=l.insert(h,_)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Te())).next(h=>({batchId:a,changes:f1(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ae(t)).next(r=>{let i=sl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=sl();return this.indexManager.getCollectionParents(e,o).next(a=>z.forEach(a,l=>{let u=function(p,_){return new Si(_,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((p,_)=>{s=s.insert(p,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((l,u)=>{let h=u.getKey();s.get(h)===null&&(s=s.insert(h,Fn.newInvalidDocument(h)))});let a=sl();return s.forEach((l,u)=>{let h=o.get(l);h!==void 0&&ul(h.mutation,u,_n.empty(),It.now()),Kf(t,u)&&(a=a.insert(l,u))}),a})}};var y_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return z.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ar(i.createTime)}}(t)),z.resolve()}getNamedQuery(e,t){return z.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:w5(i.bundledQuery),readTime:ar(i.readTime)}}(t)),z.resolve()}};var __=class{constructor(){this.overlays=new Xe(ae.comparator),this.Ir=new Map}getOverlay(e,t){return z.resolve(this.overlays.get(t))}getOverlays(e,t){let r=yo();return z.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),z.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),z.resolve()}getOverlaysForCollection(e,t,r){let i=yo(),o=t.length+1,s=new ae(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return z.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Xe((u,h)=>u-h),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let h=o.get(u.largestBatchId);h===null&&(h=yo(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}let a=yo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return z.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new r_(t,r));let o=this.Ir.get(t);o===void 0&&(o=Te(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var w_=class{constructor(){this.sessionToken=kt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,z.resolve()}};var yl=class{constructor(){this.Tr=new Ot(at.Er),this.dr=new Ot(at.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new at(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new at(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new ae(new Ze([])),r=new at(t,e),i=new at(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new ae(new Ze([])),r=new at(t,e),i=new at(t,e+1),o=Te();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new at(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},at=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ae.comparator(e.key,t.key)||Pe(e.wr,t.wr)}static Ar(e,t){return Pe(e.wr,t.wr)||ae.comparator(e.key,t.key)}};var b_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Ot(at.Er)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new t_(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new at(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(s)}lookupMutationBatch(e,t){return z.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new at(t,0),i=new at(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ot(Pe);return t.forEach(i=>{let o=new at(i,0),s=new at(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;ae.isDocumentKey(o)||(o=o.child(""));let s=new at(new ae(o),0),a=new Ot(Pe);return this.br.forEachWhile(l=>{let u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),z.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Fe(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return z.forEach(t.mutations,i=>{let o=new at(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new at(t,0),i=this.br.firstAfterOrEqual(r);return z.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var I_=class{constructor(e){this.Mr=e,this.docs=function(){return new Xe(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return z.resolve(r?r.document.mutableCopy():Fn.newInvalidDocument(t))}getEntries(e,t){let r=Hr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Fn.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Hr(),s=t.path,a=new ae(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:u,value:{document:h}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||A$(S$(h),r)<=0||(i.has(h.key)||Kf(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return z.resolve(o)}getAllFromCollectionGroup(e,t,r,i){he()}Or(e,t){return z.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new E_(this)}getSize(e){return z.resolve(this.size)}},E_=class extends m_{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),z.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var C_=class{constructor(e){this.persistence=e,this.Nr=new Ai(t=>pw(t),mw),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.Lr=0,this.Br=new yl,this.targetCount=0,this.kr=vl.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),z.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new vl(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,z.resolve()}updateTargetData(e,t){return this.Kn(t),z.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(o).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return z.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),z.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),z.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),z.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return z.resolve(r)}containsKey(e,t){return z.resolve(this.Br.containsKey(t))}};var D_=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new XA(0),this.Kr=!1,this.Kr=!0,this.$r=new w_,this.referenceDelegate=e(this),this.Ur=new C_(this),this.indexManager=new f_,this.remoteDocumentCache=function(i){return new I_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new h_(t),this.Gr=new y_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new __,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new b_(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){ee("MemoryPersistence","Starting transaction:",e);let i=new T_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},T_=class extends L0{constructor(e){super(),this.currentSequenceNumber=e}},x_=class n{constructor(e){this.persistence=e,this.Jr=new yl,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw he()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),z.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),z.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Xr,r=>{let i=ae.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,ye.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return z.or([()=>z.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var S_=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=Te(),i=Te();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var A_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var M_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return PS()?8:R$(rn())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new A_;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(ol()<=De.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",Ws(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),z.resolve()):(ol()<=De.DEBUG&&ee("QueryEngine","Query:",Ws(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ol()<=De.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",Ws(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sr(t))):z.resolve())}Yi(e,t){if(xA(t))return z.resolve(null);let r=sr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=J0(t,null,"F"),r=sr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Te(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{let u=this.ts(t,a);return this.ns(t,u,s,l.readTime)?this.Yi(e,J0(t,null,"F")):this.rs(e,u,t,l)}))})))}Zi(e,t,r,i){return xA(t)||i.isEqual(ye.min())?z.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?z.resolve(null):(ol()<=De.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ws(t)),this.rs(e,s,t,x$(i,-1)).next(a=>a))})}ts(e,t){let r=new Ot(d1(e));return t.forEach((i,o)=>{Kf(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return ol()<=De.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Ws(t)),this.Ji.getDocumentsMatchingQuery(e,t,Io.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var R_=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Xe(Pe),this._s=new Ai(o=>pw(o),mw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function b5(n,e,t,r){return new R_(n,e,t,r)}function M1(n,e){return N(this,null,function*(){let t=pe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],l=Te();for(let u of i){s.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}for(let u of o){a.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function I5(n,e){let t=pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){let p=u.batch,_=p.keys(),w=z.resolve();return _.forEach(x=>{w=w.next(()=>h.getEntry(l,x)).next(k=>{let O=u.docVersions.get(x);Fe(O!==null),k.version.compareTo(O)<0&&(p.applyToRemoteDocument(k,u),k.isValidDocument()&&(k.setReadTime(u.commitVersion),h.addEntry(k)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Te();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function R1(n){let e=pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function E5(n,e){let t=pe(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((h,p)=>{let _=i.get(p);if(!_)return;a.push(t.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(o,h.addedDocuments,p)));let w=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?w=w.withResumeToken(kt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):h.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(h.resumeToken,r)),i=i.insert(p,w),function(k,O,$){return k.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(_,w,h)&&a.push(t.Ur.updateTargetData(o,w))});let l=Hr(),u=Te();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(C5(o,s,e.documentUpdates).next(h=>{l=h.Ps,u=h.Is})),!r.isEqual(ye.min())){let h=t.Ur.getLastRemoteSnapshotVersion(o).next(p=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return z.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(t.os=i,o))}function C5(n,e,t){let r=Te(),i=Te();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Hr();return t.forEach((a,l)=>{let u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ye.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ee("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function D5(n,e){let t=pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function T5(n,e){let t=pe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,z.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new gl(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function P_(n,e,t){return N(this,null,function*(){let r=pe(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Dl(s))throw s;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function VA(n,e,t){let r=pe(n),i=ye.min(),o=Te();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,h){let p=pe(l),_=p._s.get(h);return _!==void 0?z.resolve(p.os.get(_)):p.Ur.getTargetData(u,h)}(r,s,sr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:ye.min(),t?o:Te())).next(a=>(x5(r,$$(e),a),{documents:a,Ts:o})))}function x5(n,e,t){let r=n.us.get(e)||ye.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}var Sf=class{constructor(){this.activeTargetIds=K$()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var N_=class{constructor(){this.so=new Sf,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Sf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var O_=class{_o(e){}shutdown(){}};var Af=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var hf=null;function T0(){return hf===null?hf=function(){return 268435456+Math.round(2147483648*Math.random())}():hf++,"0x"+hf.toString(16)}var S5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var k_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Nt="WebChannelConnection",F_=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=T0(),l=this.xo(t,r.toUriEncodedString());ee("RestConnection",`Sending RPC '${t}' ${a}:`,l,i);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(t,l,u,i).then(h=>(ee("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw Xs("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+da}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=S5[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=T0();return new Promise((s,a)=>{let l=new w0;l.setWithCredentials(!0),l.listenOnce(b0.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case il.NO_ERROR:let h=l.getResponseJson();ee(Nt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case il.TIMEOUT:ee(Nt,`RPC '${e}' ${o} timed out`),a(new X(j.DEADLINE_EXCEEDED,"Request time out"));break;case il.HTTP_ERROR:let p=l.getStatus();if(ee(Nt,`RPC '${e}' ${o} failed with status:`,p,"response text:",l.getResponseText()),p>0){let _=l.getResponseJson();Array.isArray(_)&&(_=_[0]);let w=_?.error;if(w&&w.status&&w.message){let x=function(O){let $=O.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf($)>=0?$:j.UNKNOWN}(w.status);a(new X(x,w.message))}else a(new X(j.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new X(j.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{ee(Nt,`RPC '${e}' ${o} completed.`)}});let u=JSON.stringify(i);ee(Nt,`RPC '${e}' ${o} sending request:`,i),l.send(t,"POST",u,r,15)})}Bo(e,t,r){let i=T0(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=C0(),a=E0(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;let h=o.join("");ee(Nt,`Creating RPC '${e}' stream ${i}: ${h}`,l);let p=s.createWebChannel(h,l),_=!1,w=!1,x=new k_({Io:O=>{w?ee(Nt,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(_||(ee(Nt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),_=!0),ee(Nt,`RPC '${e}' stream ${i} sending:`,O),p.send(O))},To:()=>p.close()}),k=(O,$,Y)=>{O.listen($,Q=>{try{Y(Q)}catch(de){setTimeout(()=>{throw de},0)}})};return k(p,Gs.EventType.OPEN,()=>{w||(ee(Nt,`RPC '${e}' stream ${i} transport opened.`),x.yo())}),k(p,Gs.EventType.CLOSE,()=>{w||(w=!0,ee(Nt,`RPC '${e}' stream ${i} transport closed`),x.So())}),k(p,Gs.EventType.ERROR,O=>{w||(w=!0,Xs(Nt,`RPC '${e}' stream ${i} transport errored:`,O),x.So(new X(j.UNAVAILABLE,"The operation could not be completed")))}),k(p,Gs.EventType.MESSAGE,O=>{var $;if(!w){let Y=O.data[0];Fe(!!Y);let Q=Y,de=Q.error||(($=Q[0])===null||$===void 0?void 0:$.error);if(de){ee(Nt,`RPC '${e}' stream ${i} received error:`,de);let Ae=de.status,le=function(E){let T=st[E];if(T!==void 0)return I1(T)}(Ae),D=de.message;le===void 0&&(le=j.INTERNAL,D="Unknown error status: "+Ae+" with message "+de.message),w=!0,x.So(new X(le,D)),p.close()}else ee(Nt,`RPC '${e}' stream ${i} received:`,Y),x.bo(Y)}}),k(a,I0.STAT_EVENT,O=>{O.stat===uf.PROXY?ee(Nt,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===uf.NOPROXY&&ee(Nt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}};function x0(){return typeof document<"u"?document:null}function Qf(n){return new a_(n,!0)}var Mf=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Rf=class{constructor(e,t,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Mf(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return N(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return N(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return N(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===j.RESOURCE_EXHAUSTED?(Br(t.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new X(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>N(this,null,function*(){this.state=0,this.start()}))}I_(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},L_=class extends Rf{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=l5(this.serializer,e),r=function(o){if(!("targetChange"in o))return ye.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ye.min():s.readTime?ar(s.readTime):ye.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=d_(this.serializer),t.addTarget=function(o,s){let a,l=s.target;if(a=Y0(l)?{documents:h5(o,l)}:{query:f5(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=E1(o,s.resumeToken);let u=c_(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ye.min())>0){a.readTime=Tf(o,s.snapshotVersion.toTimestamp());let u=c_(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=m5(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=d_(this.serializer),t.removeTarget=e,this.a_(t)}},V_=class extends Rf{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=d5(e.writeResults,e.commitTime),r=ar(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=d_(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>u5(this.serializer,r))};this.a_(t)}};var j_=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new X(j.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,l_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(j.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,l_(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(j.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},U_=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Br(t),this.D_=!1):ee("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var B_=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>N(this,null,function*(){Mo(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),yield function(l){return N(this,null,function*(){let u=pe(l);u.L_.add(4),yield Tl(u),u.q_.set("Unknown"),u.L_.delete(4),yield Yf(u)})}(this))}))}),this.q_=new U_(r,i)}};function Yf(n){return N(this,null,function*(){if(Mo(n))for(let e of n.B_)yield e(!0)})}function Tl(n){return N(this,null,function*(){for(let e of n.B_)yield e(!1)})}function P1(n,e){let t=pe(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Iw(t)?bw(t):ha(t).r_()&&ww(t,e))}function _w(n,e){let t=pe(n),r=ha(t);t.N_.delete(e),r.r_()&&N1(t,e),t.N_.size===0&&(r.r_()?r.o_():Mo(t)&&t.q_.set("Unknown"))}function ww(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ha(n).A_(e)}function N1(n,e){n.Q_.xe(e),ha(n).R_(e)}function bw(n){n.Q_=new s_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),ha(n).start(),n.q_.v_()}function Iw(n){return Mo(n)&&!ha(n).n_()&&n.N_.size>0}function Mo(n){return pe(n).L_.size===0}function O1(n){n.Q_=void 0}function A5(n){return N(this,null,function*(){n.q_.set("Online")})}function M5(n){return N(this,null,function*(){n.N_.forEach((e,t)=>{ww(n,e)})})}function R5(n,e){return N(this,null,function*(){O1(n),Iw(n)?(n.q_.M_(e),bw(n)):n.q_.set("Unknown")})}function P5(n,e,t){return N(this,null,function*(){if(n.q_.set("Online"),e instanceof Cf&&e.state===2&&e.cause)try{yield function(i,o){return N(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Pf(n,r)}else if(e instanceof Zs?n.Q_.Ke(e):e instanceof Ef?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ye.min()))try{let r=yield R1(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let h=o.N_.get(u);h&&o.N_.set(u,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{let h=o.N_.get(l);if(!h)return;o.N_.set(l,h.withResumeToken(kt.EMPTY_BYTE_STRING,h.snapshotVersion)),N1(o,l);let p=new gl(h.target,l,u,h.sequenceNumber);ww(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){ee("RemoteStore","Failed to raise snapshot:",r),yield Pf(n,r)}})}function Pf(n,e,t){return N(this,null,function*(){if(!Dl(e))throw e;n.L_.add(1),yield Tl(n),n.q_.set("Offline"),t||(t=()=>R1(n.localStore)),n.asyncQueue.enqueueRetryable(()=>N(this,null,function*(){ee("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Yf(n)}))})}function k1(n,e){return e().catch(t=>Pf(n,t,e))}function Zf(n){return N(this,null,function*(){let e=pe(n),t=Mi(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;N5(e);)try{let i=yield D5(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,O5(e,i)}catch(i){yield Pf(e,i)}F1(e)&&L1(e)})}function N5(n){return Mo(n)&&n.O_.length<10}function O5(n,e){n.O_.push(e);let t=Mi(n);t.r_()&&t.V_&&t.m_(e.mutations)}function F1(n){return Mo(n)&&!Mi(n).n_()&&n.O_.length>0}function L1(n){Mi(n).start()}function k5(n){return N(this,null,function*(){Mi(n).p_()})}function F5(n){return N(this,null,function*(){let e=Mi(n);for(let t of n.O_)e.m_(t.mutations)})}function L5(n,e,t){return N(this,null,function*(){let r=n.O_.shift(),i=n_.from(r,e,t);yield k1(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Zf(n)})}function V5(n,e){return N(this,null,function*(){e&&Mi(n).V_&&(yield function(r,i){return N(this,null,function*(){if(function(s){return t5(s)&&s!==j.ABORTED}(i.code)){let o=r.O_.shift();Mi(r).s_(),yield k1(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Zf(r)}})}(n,e)),F1(n)&&L1(n)})}function jA(n,e){return N(this,null,function*(){let t=pe(n);t.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");let r=Mo(t);t.L_.add(3),yield Tl(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Yf(t)})}function j5(n,e){return N(this,null,function*(){let t=pe(n);e?(t.L_.delete(2),yield Yf(t)):e||(t.L_.add(2),yield Tl(t),t.q_.set("Unknown"))})}function ha(n){return n.K_||(n.K_=function(t,r,i){let o=pe(t);return o.w_(),new L_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:A5.bind(null,n),Ro:M5.bind(null,n),mo:R5.bind(null,n),d_:P5.bind(null,n)}),n.B_.push(e=>N(this,null,function*(){e?(n.K_.s_(),Iw(n)?bw(n):n.q_.set("Unknown")):(yield n.K_.stop(),O1(n))}))),n.K_}function Mi(n){return n.U_||(n.U_=function(t,r,i){let o=pe(t);return o.w_(),new V_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:k5.bind(null,n),mo:V5.bind(null,n),f_:F5.bind(null,n),g_:L5.bind(null,n)}),n.B_.push(e=>N(this,null,function*(){e?(n.U_.s_(),yield Zf(n)):(yield n.U_.stop(),n.O_.length>0&&(ee("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var $_=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Ew(n,e){if(Br("AsyncQueue",`${e}: ${n}`),Dl(n))return new X(j.UNAVAILABLE,`${e}: ${n}`);throw n}var Nf=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ae.comparator(t.key,r.key):(t,r)=>ae.comparator(t.key,r.key),this.keyedMap=sl(),this.sortedSet=new Xe(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Of=class{constructor(){this.W_=new Xe(ae.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):he():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},ca=class n{constructor(e,t,r,i,o,s,a,l,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Nf.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var H_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},z_=class{constructor(){this.queries=UA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=pe(t),o=i.queries;i.queries=UA(),o.forEach((s,a)=>{for(let l of a.j_)l.onError(r)})})(this,new X(j.ABORTED,"Firestore shutting down"))}};function UA(){return new Ai(n=>u1(n),Wf)}function U5(n,e){return N(this,null,function*(){let t=pe(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new H_,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=Ew(s,`Initialization of query '${Ws(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&Cw(t)})}function B5(n,e){return N(this,null,function*(){let t=pe(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function $5(n,e){let t=pe(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&Cw(t)}function H5(n,e,t){let r=pe(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function Cw(n){n.Y_.forEach(e=>{e.next()})}var q_,BA;(BA=q_||(q_={})).ea="default",BA.Cache="cache";var G_=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ca(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==q_.Cache}};var kf=class{constructor(e){this.key=e}},Ff=class{constructor(e){this.key=e}},W_=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Te(),this.mutatedKeys=Te(),this.Aa=d1(e),this.Ra=new Nf(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new Of,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let _=i.get(h),w=Kf(this.query,p)?p:null,x=!!_&&this.mutatedKeys.has(_.key),k=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations),O=!1;_&&w?_.data.isEqual(w.data)?x!==k&&(r.track({type:3,doc:w}),O=!0):this.ga(_,w)||(r.track({type:2,doc:w}),O=!0,(l&&this.Aa(w,l)>0||u&&this.Aa(w,u)<0)&&(a=!0)):!_&&w?(r.track({type:0,doc:w}),O=!0):_&&!w&&(r.track({type:1,doc:_}),O=!0,(l||u)&&(a=!0)),O&&(w?(s=s.add(w),o=k?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(w,x){let k=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return k(w)-k(x)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new ca(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Of,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Te(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Ff(r))}),this.da.forEach(r=>{e.has(r)||t.push(new kf(r))}),t}ba(e){this.Ta=e.Ts,this.da=Te();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return ca.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},K_=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Q_=class{constructor(e){this.key=e,this.va=!1}},Y_=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Ai(a=>u1(a),Wf),this.Ma=new Map,this.xa=new Set,this.Oa=new Xe(ae.comparator),this.Na=new Map,this.La=new yl,this.Ba={},this.ka=new Map,this.qa=vl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function z5(n,e,t=!0){return N(this,null,function*(){let r=H1(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield V1(r,e,t,!0),i})}function q5(n,e){return N(this,null,function*(){let t=H1(n);yield V1(t,e,!0,!1)})}function V1(n,e,t,r){return N(this,null,function*(){let i=yield T5(n.localStore,sr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield G5(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&P1(n.remoteStore,i),a})}function G5(n,e,t,r,i){return N(this,null,function*(){n.Ka=(p,_,w)=>function(k,O,$,Y){return N(this,null,function*(){let Q=O.view.ma($);Q.ns&&(Q=yield VA(k.localStore,O.query,!1).then(({documents:D})=>O.view.ma(D,Q)));let de=Y&&Y.targetChanges.get(O.targetId),Ae=Y&&Y.targetMismatches.get(O.targetId)!=null,le=O.view.applyChanges(Q,k.isPrimaryClient,de,Ae);return HA(k,O.targetId,le.wa),le.snapshot})}(n,p,_,w);let o=yield VA(n.localStore,e,!0),s=new W_(e,o.Ts),a=s.ma(o.documents),l=ml.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,l);HA(n,t,u.wa);let h=new K_(e,t,s);return n.Fa.set(e,h),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),u.snapshot})}function W5(n,e,t){return N(this,null,function*(){let r=pe(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Wf(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield P_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&_w(r.remoteStore,i.targetId),Z_(r,i.targetId)}).catch(Cl))):(Z_(r,i.targetId),yield P_(r.localStore,i.targetId,!0))})}function K5(n,e){return N(this,null,function*(){let t=pe(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),_w(t.remoteStore,r.targetId))})}function Q5(n,e,t){return N(this,null,function*(){let r=nH(n);try{let i=yield function(s,a){let l=pe(s),u=It.now(),h=a.reduce((w,x)=>w.add(x.key),Te()),p,_;return l.persistence.runTransaction("Locally write mutations","readwrite",w=>{let x=Hr(),k=Te();return l.cs.getEntries(w,h).next(O=>{x=O,x.forEach(($,Y)=>{Y.isValidDocument()||(k=k.add($))})}).next(()=>l.localDocuments.getOverlayedDocuments(w,x)).next(O=>{p=O;let $=[];for(let Y of a){let Q=e5(Y,p.get(Y.key).overlayedDocument);Q!=null&&$.push(new lr(Y.key,Q,r1(Q.value.mapValue),Ur.exists(!0)))}return l.mutationQueue.addMutationBatch(w,u,$,a)}).next(O=>{_=O;let $=O.applyToLocalDocumentSet(p,k);return l.documentOverlayCache.saveOverlays(w,O.batchId,$)})}).then(()=>({batchId:_.batchId,changes:f1(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new Xe(Pe)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,t),yield xl(r,i.changes),yield Zf(r.remoteStore)}catch(i){let o=Ew(i,"Failed to persist write");t.reject(o)}})}function j1(n,e){return N(this,null,function*(){let t=pe(n);try{let r=yield E5(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(Fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Fe(s.va):i.removedDocuments.size>0&&(Fe(s.va),s.va=!1))}),yield xl(t,r,e)}catch(r){yield Cl(r)}})}function $A(n,e,t){let r=pe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let l=pe(s);l.onlineState=a;let u=!1;l.queries.forEach((h,p)=>{for(let _ of p.j_)_.Z_(a)&&(u=!0)}),u&&Cw(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Y5(n,e,t){return N(this,null,function*(){let r=pe(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Xe(ae.comparator);s=s.insert(o,Fn.newNoDocument(o,ye.min()));let a=Te().add(o),l=new If(ye.min(),new Map,new Xe(Pe),s,a);yield j1(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),Dw(r)}else yield P_(r.localStore,e,!1).then(()=>Z_(r,e,t)).catch(Cl)})}function Z5(n,e){return N(this,null,function*(){let t=pe(n),r=e.batch.batchId;try{let i=yield I5(t.localStore,e);B1(t,r,null),U1(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield xl(t,i)}catch(i){yield Cl(i)}})}function J5(n,e,t){return N(this,null,function*(){let r=pe(n);try{let i=yield function(s,a){let l=pe(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(p=>(Fe(p!==null),h=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);B1(r,e,t),U1(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield xl(r,i)}catch(i){yield Cl(i)}})}function U1(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function B1(n,e,t){let r=pe(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Z_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||$1(n,r)})}function $1(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(_w(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),Dw(n))}function HA(n,e,t){for(let r of t)r instanceof kf?(n.La.addReference(r.key,e),X5(n,r)):r instanceof Ff?(ee("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||$1(n,r.key)):he()}function X5(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(ee("SyncEngine","New document in limbo: "+t),n.xa.add(r),Dw(n))}function Dw(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new ae(Ze.fromString(e)),r=n.qa.next();n.Na.set(r,new Q_(t)),n.Oa=n.Oa.insert(t,r),P1(n.remoteStore,new gl(sr(gw(t.path)),r,"TargetPurposeLimboResolution",XA.oe))}}function xl(n,e,t){return N(this,null,function*(){let r=pe(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,t).then(u=>{var h;if((u||t)&&r.isPrimaryClient){let p=u?!u.fromCache:(h=t?.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){i.push(u);let p=S_.Wi(l.targetId,u);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(l,u){return N(this,null,function*(){let h=pe(l);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>z.forEach(u,_=>z.forEach(_.$i,w=>h.persistence.referenceDelegate.addReference(p,_.targetId,w)).next(()=>z.forEach(_.Ui,w=>h.persistence.referenceDelegate.removeReference(p,_.targetId,w)))))}catch(p){if(!Dl(p))throw p;ee("LocalStore","Failed to update sequence numbers: "+p)}for(let p of u){let _=p.targetId;if(!p.fromCache){let w=h.os.get(_),x=w.snapshotVersion,k=w.withLastLimboFreeSnapshotVersion(x);h.os=h.os.insert(_,k)}}})}(r.localStore,o))})}function eH(n,e){return N(this,null,function*(){let t=pe(n);if(!t.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());let r=yield M1(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new X(j.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield xl(t,r.hs)}})}function tH(n,e){let t=pe(n),r=t.Na.get(e);if(r&&r.va)return Te().add(r.key);{let i=Te(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function H1(n){let e=pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=j1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Y5.bind(null,e),e.Ca.d_=$5.bind(null,e.eventManager),e.Ca.$a=H5.bind(null,e.eventManager),e}function nH(n){let e=pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Z5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=J5.bind(null,e),e}var zA=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return N(this,null,function*(){this.serializer=Qf(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return b5(this.persistence,new M_,t.initialUser,this.serializer)}Ga(t){return new D_(x_.Zr,this.serializer)}Wa(t){return new N_}terminate(){return N(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var rH=(()=>{class n{initialize(t,r){return N(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>$A(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=eH.bind(null,this.syncEngine),yield j5(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new z_}()}createDatastore(t){let r=Qf(t.databaseInfo.databaseId),i=function(s){return new F_(s)}(t.databaseInfo);return function(s,a,l,u){return new j_(s,a,l,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,l){return new B_(i,o,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,r=>$A(this.syncEngine,r,0),function(){return Af.D()?new Af:new O_}())}createSyncEngine(t,r){return function(o,s,a,l,u,h,p){let _=new Y_(o,s,a,l,u,h);return p&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return N(this,null,function*(){var t,r;yield function(o){return N(this,null,function*(){let s=pe(o);ee("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Tl(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var J_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Br("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var X_=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=gt.UNAUTHENTICATED,this.clientId=gf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>N(this,null,function*(){ee("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(ee("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>N(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Ew(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function S0(n,e){return N(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>N(this,null,function*(){r.isEqual(i)||(yield M1(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function qA(n,e){return N(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield iH(n);ee("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>jA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>jA(e.remoteStore,i)),n._onlineComponents=e})}function iH(n){return N(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{yield S0(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===j.FAILED_PRECONDITION||i.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Xs("Error using user provided cache. Falling back to memory cache: "+t),yield S0(n,new zA)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),yield S0(n,new zA);return n._offlineComponents})}function z1(n){return N(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),yield qA(n,n._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),yield qA(n,new rH))),n._onlineComponents})}function oH(n){return z1(n).then(e=>e.syncEngine)}function GA(n){return N(this,null,function*(){let e=yield z1(n),t=e.eventManager;return t.onListen=z5.bind(null,e.syncEngine),t.onUnlisten=W5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=q5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=K5.bind(null,e.syncEngine),t})}function q1(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var WA=new Map;function G1(n,e,t){if(!t)throw new X(j.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function sH(n,e,t,r){if(e===!0&&r===!0)throw new X(j.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function KA(n){if(!ae.isDocumentKey(n))throw new X(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function QA(n){if(ae.isDocumentKey(n))throw new X(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Jf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":he()}function Di(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new X(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Jf(n);throw new X(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Lf=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=q1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new X(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new X(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new X(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},la=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lf({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lf(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new A0;switch(r.type){case"firstParty":return new N0(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return N(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=WA.get(t);r&&(ee("ComponentProvider","Removing Datastore"),WA.delete(t),r.terminate())}(this),Promise.resolve()}};function W1(n,e,t,r={}){var i;let o=(n=Di(n,la))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=gt.MOCK_USER;else{a=xS(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new X(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new gt(u)}n._authCredentials=new M0(new mf(a,l))}}var So=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Qt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Ti=class n extends So{constructor(e,t,r){super(e,t,gw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new ae(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function K1(n,e,...t){if(n=Pt(n),G1("collection","path",e),n instanceof la){let r=Ze.fromString(e,...t);return QA(r),new Ti(n,null,r)}{if(!(n instanceof Qt||n instanceof Ti))throw new X(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ze.fromString(e,...t));return QA(r),new Ti(n.firestore,null,r)}}function Tw(n,e,...t){if(n=Pt(n),arguments.length===1&&(e=gf.newId()),G1("doc","path",e),n instanceof la){let r=Ze.fromString(e,...t);return KA(r),new Qt(n,null,new ae(r))}{if(!(n instanceof Qt||n instanceof Ti))throw new X(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ze.fromString(e,...t));return KA(r),new Qt(n.firestore,n instanceof Ti?n.converter:null,new ae(r))}}var Vf=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Mf(this,"async_queue_retry"),this.Vu=()=>{let r=x0();r&&ee("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=x0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=x0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new jr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return N(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Dl(e))throw e;ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Br("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=$_.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&he()}verifyOperationInProgress(){}wu(){return N(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function YA(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Ri=class extends la{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Vf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return N(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Vf(e),this._firestoreClient=void 0,yield e}})}};function Q1(n,e){let t=typeof n=="object"?n:Kc(),r=typeof n=="string"?n:e||"(default)",i=e0(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=DS("firestore");o&&W1(i,...o)}return i}function Y1(n){if(n._terminated)throw new X(j.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||aH(n),n._firestoreClient}function aH(n){var e,t,r;let i=n._freezeSettings(),o=function(a,l,u,h){return new V0(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,q1(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new X_(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}var _l=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(kt.fromBase64String(e))}catch(t){throw new X(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ua=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new X(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var wl=class{constructor(e){this._methodName=e}};var bl=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new X(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new X(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}};var Il=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var cH=/^__.*__$/,ew=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new lr(e,this.data,this.fieldMask,t,this.fieldTransforms):new xo(e,this.data,t,this.fieldTransforms)}},jf=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new lr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function Z1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}var tw=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Bf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Z1(this.Cu)&&cH.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},nw=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Qf(e)}Qu(e,t,r,i=!1){return new tw({Cu:e,methodName:t,qu:r,path:an.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function xw(n){let e=n._freezeSettings(),t=Qf(n._databaseId);return new nw(n._databaseId,!!e.ignoreUndefinedProperties,t)}function lH(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);Sw("Data must be an object, but it was:",s,r);let a=J1(r,s),l,u;if(o.merge)l=new _n(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let _=rw(e,p,t);if(!s.contains(_))throw new X(j.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);eM(h,_)||h.push(_)}l=new _n(h),u=s.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=s.fieldTransforms;return new ew(new sn(a),l,u)}var Uf=class n extends wl{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function uH(n,e,t,r){let i=n.Qu(1,e,t);Sw("Data must be an object, but it was:",i,r);let o=[],s=sn.empty();Ao(r,(l,u)=>{let h=Aw(e,l,t);u=Pt(u);let p=i.Nu(h);if(u instanceof Uf)o.push(h);else{let _=Sl(u,p);_!=null&&(o.push(h),s.set(h,_))}});let a=new _n(o);return new jf(s,a,i.fieldTransforms)}function dH(n,e,t,r,i,o){let s=n.Qu(1,e,t),a=[rw(e,r,t)],l=[i];if(o.length%2!=0)throw new X(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)a.push(rw(e,o[_])),l.push(o[_+1]);let u=[],h=sn.empty();for(let _=a.length-1;_>=0;--_)if(!eM(u,a[_])){let w=a[_],x=l[_];x=Pt(x);let k=s.Nu(w);if(x instanceof Uf)u.push(w);else{let O=Sl(x,k);O!=null&&(u.push(w),h.set(w,O))}}let p=new _n(u);return new jf(h,p,s.fieldTransforms)}function hH(n,e,t,r=!1){return Sl(t,n.Qu(r?4:3,e))}function Sl(n,e){if(X1(n=Pt(n)))return Sw("Unsupported field value:",e,n),J1(n,e);if(n instanceof wl)return function(r,i){if(!Z1(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let l=Sl(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Q$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=It.fromDate(r);return{timestampValue:Tf(i.serializer,o)}}if(r instanceof It){let o=new It(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Tf(i.serializer,o)}}if(r instanceof bl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _l)return{bytesValue:E1(i.serializer,r._byteString)};if(r instanceof Qt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:yw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Il)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return vw(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Jf(r)}`)}(n,e)}function J1(n,e){let t={};return e1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(n,(r,i)=>{let o=Sl(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function X1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof It||n instanceof bl||n instanceof _l||n instanceof Qt||n instanceof wl||n instanceof Il)}function Sw(n,e,t){if(!X1(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Jf(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function rw(n,e,t){if((e=Pt(e))instanceof ua)return e._internalPath;if(typeof e=="string")return Aw(n,e);throw Bf("Field path arguments must be of type string or ",n,!1,void 0,t)}var fH=new RegExp("[~\\*/\\[\\]]");function Aw(n,e,t){if(e.search(fH)>=0)throw Bf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ua(...e.split("."))._internalPath}catch{throw Bf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Bf(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new X(j.INVALID_ARGUMENT,a+n+l)}function eM(n,e){return n.some(t=>t.isEqual(e))}var $f=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new iw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Mw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},iw=class extends $f{data(){return super.data()}};function Mw(n,e){return typeof e=="string"?Aw(n,e):e instanceof ua?e._internalPath:e._delegate._internalPath}function pH(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new X(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var El=class{},Hf=class extends El{};function tM(n,e,...t){let r=[];e instanceof El&&r.push(e),r=r.concat(t),function(o){let s=o.filter(l=>l instanceof sw).length,a=o.filter(l=>l instanceof ow).length;if(s>1||s>0&&a>0)throw new X(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var ow=class n extends Hf{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return rM(e._query,t),new So(e.firestore,e.converter,Z0(e._query,t))}_parse(e){let t=xw(e.firestore);return function(o,s,a,l,u,h,p){let _;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new X(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){JA(p,h);let w=[];for(let x of p)w.push(ZA(l,o,x));_={arrayValue:{values:w}}}else _=ZA(l,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||JA(p,h),_=hH(a,s,p,h==="in"||h==="not-in");return ct.create(u,h,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};var sw=class n extends El{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Ln.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let l of a)rM(s,l),s=Z0(s,l)}(e._query,t),new So(e.firestore,e.converter,Z0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var aw=class n extends Hf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new X(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new X(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Co(o,s)}(e._query,this._field,this._direction);return new So(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new Si(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function nM(n,e="asc"){let t=e,r=Mw("orderBy",n);return aw._create(r,t)}function ZA(n,e,t){if(typeof(t=Pt(t))=="string"){if(t==="")throw new X(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!l1(e)&&t.indexOf("/")!==-1)throw new X(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Ze.fromString(t));if(!ae.isDocumentKey(r))throw new X(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bA(n,new ae(r))}if(t instanceof Qt)return bA(n,t._key);throw new X(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jf(t)}.`)}function JA(n,e){if(!Array.isArray(n)||n.length===0)throw new X(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rM(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new X(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var cw=class{convertValue(e,t="none"){switch(Eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw he()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Ao(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Qe(s.doubleValue));return new Il(o)}convertGeoPoint(e){return new bl(Qe(e.latitude),Qe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=hw(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(hl(e));default:return null}}convertTimestamp(e){let t=$r(e);return new It(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ze.fromString(e);Fe(A1(r));let i=new wf(r.get(1),r.get(3)),o=new ae(r.popFirst(5));return i.isEqual(t)||Br(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function mH(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var wo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},zf=class extends $f{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Js(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Mw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Js=class extends zf{data(e={}){return super.data(e)}},lw=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new wo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Js(this._firestore,this._userDataWriter,r.key,r,new wo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new X(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let l=new Js(i._firestore,i._userDataWriter,a.doc.key,a.doc,new wo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let l=new Js(i._firestore,i._userDataWriter,a.doc.key,a.doc,new wo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,h=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:gH(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function gH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}var qf=class extends cw{constructor(e){super(),this.firestore=e}convertBytes(e){return new _l(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,t)}};function iM(n,e,t,...r){n=Di(n,Qt);let i=Di(n.firestore,Ri),o=xw(i),s;return s=typeof(e=Pt(e))=="string"||e instanceof ua?dH(o,"updateDoc",n._key,e,t,r):uH(o,"updateDoc",n._key,e),Rw(i,[s.toMutation(n._key,Ur.exists(!0))])}function oM(n){return Rw(Di(n.firestore,Ri),[new pl(n._key,Ur.none())])}function sM(n,e){let t=Di(n.firestore,Ri),r=Tw(n),i=mH(n.converter,e);return Rw(t,[lH(xw(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Ur.exists(!1))]).then(()=>r)}function aM(n,...e){var t,r,i;n=Pt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||YA(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(YA(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let l,u,h;if(n instanceof Qt)u=Di(n.firestore,Ri),h=gw(n._key.path),l={next:p=>{e[s]&&e[s](vH(u,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Di(n,So);u=Di(p.firestore,Ri),h=p._query;let _=new qf(u);l={next:w=>{e[s]&&e[s](new lw(u,_,p,w))},error:e[s+1],complete:e[s+2]},pH(n._query)}return function(_,w,x,k){let O=new J_(k),$=new G_(w,O,x);return _.asyncQueue.enqueueAndForget(()=>N(this,null,function*(){return U5(yield GA(_),$)})),()=>{O.Za(),_.asyncQueue.enqueueAndForget(()=>N(this,null,function*(){return B5(yield GA(_),$)}))}}(Y1(u),h,a,l)}function Rw(n,e){return function(r,i){let o=new jr;return r.asyncQueue.enqueueAndForget(()=>N(this,null,function*(){return Q5(yield oH(r),i,o)})),o.promise}(Y1(n),e)}function vH(n,e,t){let r=t.docs.get(e._key),i=new qf(n);return new zf(n,i,e._key,r,new wo(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){da=i})(Hs),Ii(new yn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Ri(new R0(r.getProvider("auth-internal")),new k0(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wf(u.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),mt(vA,"4.7.3",e),mt(vA,"4.7.3","esm2017")})();var Ro=class{constructor(e){return e}},cM="firestore",Pw=class{constructor(){return Yc(cM)}};var Nw=new W("angularfire2.firestore-instances");function yH(n,e){let t=r0(cM,n,e);return t&&new Ro(t)}function _H(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ro(r)}}var wH={provide:Pw,deps:[[new un,Nw]]},bH={provide:Ro,useFactory:yH,deps:[[new un,Nw],mo]};function lM(n,...e){return mt("angularfire",qs.full,"fst"),_t([bH,wH,{provide:Nw,useFactory:_H(n),multi:!0,deps:[Oe,yt,Zc,Jc,[new un,cf],[new un,Qc],...e]}])}var uM=on(sM,!0);var Ow=on(K1,!0);var dM=on(oM,!0);var kw=on(Tw,!0);var hM=on(Q1,!0);var fM=on(aM,!0);var pM=on(nM,!0);var mM=on(tM,!0);var gM=on(iM,!0);var fa=class n{constructor(e){this.firestore=e;this.loadArtworks()}artworks=[];artworksSubject=new qe([]);artworks$=this.artworksSubject.asObservable();loadArtworks(){try{let e=mM(Ow(this.firestore,"Obras"),pM("titulo"));fM(e,t=>{let r=[];t.forEach(i=>{let o=i.data();r.push(me(U({},o),{id:i.id}))}),this.artworks=r,this.artworksSubject.next(r)},t=>{console.error("Error loading artworks:",t),this.artworksSubject.next([])})}catch(e){console.error("Error setting up Firestore listener:",e),this.artworksSubject.next([])}}getAllArtworks(){return this.artworks$}getArtworksByCategory(e){return this.artworks$.pipe(se(t=>e==="all"?t:t.filter(r=>r.genero.toLowerCase()===e.toLowerCase())))}getArtworkById(e){return this.artworks$.pipe(se(t=>t.find(r=>r.id===e)))}addArtwork(e){return N(this,null,function*(){try{let t=e,{id:r}=t,i=Fo(t,["id"]);return(yield uM(Ow(this.firestore,"Obras"),i)).id}catch(r){throw console.error("Error adding artwork:",r),r}})}updateArtwork(e){return N(this,null,function*(){try{let t=e,{id:r}=t,i=Fo(t,["id"]),o=kw(this.firestore,"Obras",r);yield gM(o,i)}catch(r){throw console.error("Error updating artwork:",r),r}})}deleteArtwork(e){return N(this,null,function*(){try{yield dM(kw(this.firestore,"Obras",e))}catch(t){throw console.error("Error deleting artwork:",t),t}})}static \u0275fac=function(t){return new(t||n)(Z(Ro))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};function EH(n,e){n&1&&(g(0,"span",21),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"gallery.title")," "))}function CH(n,e){n&1&&(g(0,"span",22),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"gallery.subtitle")," "))}function DH(n,e){n&1&&(g(0,"p",23),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"gallery.title")," "))}function TH(n,e){if(n&1){let t=it();g(0,"button",24),ce("click",function(){let i=ie(t).$implicit,o=ue();return oe(o.filterByCategory(i))}),I(1),v()}if(n&2){let t=e.$implicit,r=ue();kd(r.getCategoryButtonClass(t)),y(),B(" ",r.getCategoryDisplayName(t)," ")}}function xH(n,e){if(n&1&&(g(0,"div",25)(1,"span",26),I(2),R(3,"transloco"),v()()),n&2){let t=ue();y(2),Xa(" ",t.filteredArtworks.length," ",P(3,2,"gallery.results")," ")}}function SH(n,e){if(n&1&&(g(0,"div",27),ne(1,"app-artwork-carousel",28),v()),n&2){let t=ue();y(),V("artworks",t.filteredArtworks)}}function AH(n,e){n&1&&ne(0,"p",34)}function MH(n,e){if(n&1){let t=it();g(0,"div",29)(1,"div",30)(2,"div",31),I(3,"\u{1F3A8}"),v(),G(4,AH,1,0,"p",32),g(5,"button",33),ce("click",function(){ie(t);let i=ue();return oe(i.clearFilters())}),I(6),R(7,"transloco"),v()()()}n&2&&(y(4),V("transloco","gallery.noResults.title"),y(2),B(" ",P(7,2,"gallery.noResults.button")," "))}function RH(n,e){n&1&&ne(0,"span",39)}function PH(n,e){n&1&&(g(0,"div",35)(1,"div",36),ne(2,"div",37),G(3,RH,1,0,"span",38),v()()),n&2&&(y(3),V("transloco","gallery.loading"))}var Xf=class n{constructor(e,t){this.artworkService=e;this.translocoService=t}artworks=[];filteredArtworks=[];isLoading=!0;availableCategories=["todas","paisajismo","bodegones","retratos","animalismo","otros"];selectedCategory="todas";searchTerm="";subscription=new $e;ngOnInit(){this.loadArtworks()}ngOnDestroy(){this.subscription.unsubscribe()}loadArtworks(){this.isLoading=!0,this.subscription.add(this.artworkService.getAllArtworks().subscribe({next:e=>{this.artworks=e,this.applyFilters(),this.isLoading=!1},error:e=>{console.error("Error loading artworks:",e),this.isLoading=!1}}))}filterByCategory(e){this.selectedCategory=e,this.applyFilters()}getCategoryButtonClass(e){let t="px-3 lg:px-6 py-2 lg:py-3 rounded-full text-xs sm:text-sm font-medium transition-all duration-300 whitespace-nowrap";return this.selectedCategory===e?`${t} bg-primary text-white shadow-lg transform hover:scale-105 border border-primary`:`${t} bg-white/80 backdrop-blur-sm text-primary-dark border border-accent hover:bg-primary/10 hover:border-primary/30 hover:shadow-md`}getCategoryDisplayName(e){return this.translocoService.translate(`gallery.categories.${e}`)}applyFilters(){let e=this.artworks;if(this.selectedCategory!=="todas"&&(e=e.filter(t=>t.categoria.toLowerCase()===this.selectedCategory)),this.searchTerm.trim()!==""){let t=this.searchTerm.toLowerCase().trim();e=e.filter(r=>r.titulo.toLowerCase().includes(t)||r.descripcion&&r.descripcion.toLowerCase().includes(t)||r.tecnica.toLowerCase().includes(t))}this.filteredArtworks=e}clearFilters(){this.selectedCategory="todas",this.searchTerm="",this.applyFilters()}clearSearch(){this.searchTerm="",this.applyFilters()}static \u0275fac=function(t){return new(t||n)(J(fa),J(Kt))};static \u0275cmp=Ve({type:n,selectors:[["app-gallery"]],standalone:!0,features:[je],decls:22,vars:8,consts:[["noResults",""],["id","galeria",1,"py-16","lg:py-20","bg-background","relative","overflow-hidden"],[1,"absolute","inset-0","bg-gradient-to-br","from-background","via-white","to-accent/20"],[1,"absolute","top-10","right-10","w-48","lg:w-72","h-48","lg:h-72","bg-primary/5","rounded-full","blur-3xl","animate-float"],[1,"absolute","bottom-10","left-10","w-64","lg:w-96","h-64","lg:h-96","bg-accent/10","rounded-full","blur-3xl","animate-float",2,"animation-delay","2s"],[1,"container","relative","z-10","px-4","sm:px-6"],[1,"text-center","mb-12","lg:mb-16","animate-fade-in-up"],[1,"mb-4","lg:mb-6"],["class","inline-block px-3 lg:px-4 py-1 lg:py-2 bg-accent/30 text-primary-dark rounded-full text-xs lg:text-sm font-medium",4,"transloco"],[1,"text-3xl","sm:text-4xl","md:text-5xl","lg:text-6xl","font-light","text-primary-dark","mb-4","lg:mb-6","leading-tight"],["class","font-serif italic",4,"transloco"],["class","text-base sm:text-lg md:text-xl text-text-light max-w-2xl mx-auto leading-relaxed px-4",4,"transloco"],[1,"mb-8","lg:mb-12","animate-fade-in-up",2,"animation-delay","0.2s"],[1,"flex","justify-center","mb-6","lg:mb-8"],[1,"flex","flex-wrap","gap-2","sm:gap-3","lg:gap-4","justify-center","max-w-4xl","mx-auto","px-2"],["class","px-3 lg:px-6 py-2 lg:py-3 rounded-full text-xs sm:text-sm font-medium transition-all duration-300 whitespace-nowrap",3,"class","click",4,"ngFor","ngForOf"],[1,"flex","justify-center","px-2"],[1,"relative","w-full","max-w-md","lg:max-w-lg"],["class","mt-3 text-center",4,"ngIf"],["class","animate-fade-in-up","style","animation-delay: 0.4s;",4,"ngIf","ngIfElse"],["class","text-center py-12",4,"ngIf"],[1,"inline-block","px-3","lg:px-4","py-1","lg:py-2","bg-accent/30","text-primary-dark","rounded-full","text-xs","lg:text-sm","font-medium"],[1,"font-serif","italic"],[1,"text-base","sm:text-lg","md:text-xl","text-text-light","max-w-2xl","mx-auto","leading-relaxed","px-4"],[1,"px-3","lg:px-6","py-2","lg:py-3","rounded-full","text-xs","sm:text-sm","font-medium","transition-all","duration-300","whitespace-nowrap",3,"click"],[1,"mt-3","text-center"],[1,"inline-block","px-3","py-1","bg-accent/20","text-primary-dark","rounded-full","text-xs","font-medium"],[1,"animate-fade-in-up",2,"animation-delay","0.4s"],[3,"artworks"],[1,"text-center","py-8","lg:py-12","animate-fade-in-up"],[1,"max-w-md","mx-auto"],[1,"text-6xl","mb-4"],["class","text-lg text-text-light mb-4",4,"transloco"],[1,"btn","btn-outline","text-sm",3,"click"],[1,"text-lg","text-text-light","mb-4"],[1,"text-center","py-12"],[1,"inline-flex","items-center","gap-3","text-text-light"],[1,"w-6","h-6","border-2","border-primary/30","border-t-primary","rounded-full","animate-spin"],["class","text-sm font-medium",4,"transloco"],[1,"text-sm","font-medium"]],template:function(t,r){if(t&1&&(g(0,"section",1),ne(1,"div",2)(2,"div",3)(3,"div",4),g(4,"div",5)(5,"div",6)(6,"div",7),G(7,EH,3,3,"span",8),v(),g(8,"h1",9),G(9,CH,3,3,"span",10),v(),G(10,DH,3,3,"p",11),v(),g(11,"div",12)(12,"div",13)(13,"div",14),G(14,TH,2,3,"button",15),v()(),g(15,"div",16)(16,"div",17),G(17,xH,4,4,"div",18),v()()(),G(18,SH,2,1,"div",19)(19,MH,8,4,"ng-template",null,0,so)(21,PH,4,1,"div",20),v()()),t&2){let i=xr(20);y(7),V("transloco","gallery.title"),y(2),V("transloco","gallery.subtitle"),y(),V("transloco","gallery.description"),y(4),V("ngForOf",r.availableCategories),y(3),V("ngIf",r.filteredArtworks.length>0),y(),V("ngIf",r.filteredArtworks.length>0)("ngIfElse",i),y(3),V("ngIf",r.isLoading)}},dependencies:[dt,Qn,mn,Hh,Ls,ot,Xn,Rt],styles:[".category-button[_ngcontent-%COMP%]{white-space:nowrap;border-radius:9999px;padding:.5rem .75rem;font-size:.75rem;line-height:1rem;font-weight:500;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}@media (min-width: 640px){.category-button[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem}}@media (min-width: 1024px){.category-button[_ngcontent-%COMP%]{padding:.75rem 1.5rem}}.category-button.active[_ngcontent-%COMP%]{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));border-width:1px;--tw-border-opacity: 1;border-color:rgb(107 114 128 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(107 114 128 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.category-button.active[_ngcontent-%COMP%]:hover{--tw-scale-x: 1.05;--tw-scale-y: 1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.category-button.inactive[_ngcontent-%COMP%]{border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));background-color:#fffc;--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1));--tw-backdrop-blur: blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);color:rgb(var(--color-primary-dark))}.category-button.inactive[_ngcontent-%COMP%]:hover{border-color:#6b72804d;background-color:#6b72801a;--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.search-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:28rem}@media (min-width: 1024px){.search-container[_ngcontent-%COMP%]{max-width:32rem}}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]{display:flex;border-radius:.75rem;border-width:1px;border-color:#d1d5db80;background-color:#fffc;--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);--tw-backdrop-blur: blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]:hover{border-color:#6b72804d}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]:focus-within{border-color:#6b728080;--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{flex:1 1 0%;border-style:none;background-color:transparent;padding:.75rem 1rem;font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{--tw-placeholder-opacity: 1;color:rgb(107 114 128 / var(--tw-placeholder-opacity, 1))}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}@media (min-width: 1024px){.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-size:1rem;line-height:1.5rem}}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1));color:rgb(var(--color-text-light));opacity:.9}.search-container[_ngcontent-%COMP%]   .search-button[_ngcontent-%COMP%]:hover{transform:none}.results-counter[_ngcontent-%COMP%]{margin-top:.75rem;text-align:center}.results-counter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;border-radius:9999px;background-color:#d1d5db33;padding:.25rem .75rem;font-size:.75rem;line-height:1rem;font-weight:500;--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1));color:rgb(var(--color-primary-dark))}.loading-indicator[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.75rem;--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1));color:rgb(var(--color-text-light));opacity:.9}.loading-indicator[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{height:1.5rem;width:1.5rem}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.loading-indicator[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 60s infinite linear;border-radius:9999px;border-width:2px;border-color:#6b72804d;--tw-border-opacity: 1;border-top-color:rgb(107 114 128 / var(--tw-border-opacity, 1))}.no-results[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .8s ease-out;padding-top:2rem;padding-bottom:2rem;text-align:center;animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}@media (min-width: 1024px){.no-results[_ngcontent-%COMP%]{padding-top:3rem;padding-bottom:3rem}}.no-results[_ngcontent-%COMP%]   .no-results-content[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;max-width:28rem}.no-results[_ngcontent-%COMP%]   .no-results-icon[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:3.75rem;line-height:1}.no-results[_ngcontent-%COMP%]   .no-results-text[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:1.125rem;line-height:1.75rem;--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1));color:rgb(var(--color-text-light));opacity:.9}@media (max-width: 640px){.category-button[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.75rem;line-height:1rem;min-width:80px}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{padding:.5rem .75rem;font-size:.875rem;line-height:1.25rem}.search-container[_ngcontent-%COMP%]   .search-button[_ngcontent-%COMP%]{padding:.5rem .75rem}.search-container[_ngcontent-%COMP%]   .search-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}@media (max-width: 480px){.category-button[_ngcontent-%COMP%]{padding:.25rem;line-height:1rem;min-width:70px;font-size:.7rem}.categories-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}.categories-container[_ngcontent-%COMP%]   .category-button[_ngcontent-%COMP%]{width:100%;max-width:140px;justify-content:center}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.animate-fade-in-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}button[_ngcontent-%COMP%]:focus-visible{outline-width:2px;outline-offset:2px;outline-color:#6b7280}input[_ngcontent-%COMP%]:focus-visible{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-color: rgb(107 114 128 / .5);--tw-ring-offset-width: 2px;--tw-ring-offset-color: #FAFAF9}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], .category-button[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.text-primary-dark[_ngcontent-%COMP%]{color:rgb(var(--color-primary-dark))}.text-text-light[_ngcontent-%COMP%]{color:rgb(var(--color-text-light));opacity:.9}"]})};function NH(n,e){n&1&&(g(0,"span",36),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"footer.contact.title")," "))}function OH(n,e){n&1&&(g(0,"span",37),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"footer.contact.subtitle")," "))}function kH(n,e){n&1&&(g(0,"p",38),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"footer.contact.email.title"),""))}function FH(n,e){n&1&&(g(0,"p",38),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"footer.contact.phone.title"),""))}function LH(n,e){n&1&&(g(0,"p",38),I(1),R(2,"transloco"),v()),n&2&&(y(),H(P(2,1,"footer.contact.studio.title")))}function VH(n,e){n&1&&(g(0,"p",15),I(1),R(2,"transloco"),v()),n&2&&(y(),H(P(2,1,"footer.contact.studio.address")))}function jH(n,e){n&1&&(g(0,"span",36),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"footer.social.title")," "))}function UH(n,e){n&1&&(g(0,"span",37),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"footer.social.subtitle")," "))}function BH(n,e){n&1&&(g(0,"p",39),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"footer.social.instagram.title"),""))}function $H(n,e){n&1&&(g(0,"p",39),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"footer.social.facebook.title"),""))}function HH(n,e){n&1&&(g(0,"p",39),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"footer.social.twitter.title"),""))}function zH(n,e){n&1&&(g(0,"span",36),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"footer.events.title")," "))}function qH(n,e){n&1&&(g(0,"span",37),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"footer.events.subtitle")," "))}function GH(n,e){n&1&&(g(0,"p",40),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"footer.events.event1.title")," "))}function WH(n,e){n&1&&(g(0,"p",41),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"footer.events.event1.description")," "))}function KH(n,e){n&1&&(g(0,"p",40),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"footer.events.event3.title")," "))}function QH(n,e){n&1&&(g(0,"p",41),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"footer.events.event3.description")," "))}function YH(n,e){n&1&&(g(0,"p",40),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"footer.events.event2.description")," "))}function ZH(n,e){n&1&&(g(0,"p",41),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"footer.events.event2.description")," "))}function JH(n,e){n&1&&(g(0,"a",42),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"footer.privacy")," "))}function XH(n,e){n&1&&(g(0,"a",42),I(1),R(2,"transloco"),v()),n&2&&(y(),B(" ",P(2,1,"footer.terms")," "))}var ep=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ve({type:n,selectors:[["app-footer"]],standalone:!0,features:[je],decls:87,vars:27,consts:[["id","contacto",1,"relative","bg-background","py-20","overflow-hidden"],[1,"absolute","inset-0","bg-gradient-to-br","from-background","via-white","to-accent/20"],[1,"absolute","top-0","left-0","w-64","h-64","bg-primary/5","rounded-full","blur-3xl","animate-float"],[1,"absolute","bottom-0","right-0","w-80","h-80","bg-accent/10","rounded-full","blur-3xl","animate-float",2,"animation-delay","2s"],[1,"container","relative","z-10"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-12"],[1,"text-center","lg:text-left","animate-fade-in-up"],[1,"mb-6"],["class","inline-block px-4 py-2 bg-accent/30 text-primary-dark rounded-full text-sm font-medium mb-4",4,"transloco"],[1,"text-3xl","font-light","text-primary-dark","mb-6"],["class","font-serif italic",4,"transloco"],[1,"space-y-4","text-text"],[1,"flex","items-center","gap-3"],[1,"text-2xl"],["class","font-medium",4,"transloco"],[1,"text-text-light"],["class","text-text-light",4,"transloco"],[1,"text-center","lg:text-left","animate-fade-in-up",2,"animation-delay","0.2s"],[1,"space-y-4"],["href","#",1,"flex","items-center","gap-3","group","text-text","hover:text-primary-dark","transition-all","duration-300"],[1,"text-2xl","group-hover:scale-110","transition-transform"],["class","font-medium group-hover:underline",4,"transloco"],[1,"text-text-light","text-sm"],[1,"text-center","lg:text-left","animate-fade-in-up",2,"animation-delay","0.4s"],[1,"bg-white/50","backdrop-blur-sm","rounded-lg","p-4","border","border-accent/30"],["class","font-semibold text-primary-dark",4,"transloco"],["class","text-sm mt-1",4,"transloco"],[1,"border-t","border-accent/30","mt-12","pt-8","text-center","animate-fade-in-up",2,"animation-delay","0.6s"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","gap-4"],[1,"text-text-light","font-light",3,"innerHTML"],[1,"flex","gap-6","text-text-light"],["href","#","class","hover:text-primary-dark transition-colors duration-300 font-light",4,"transloco"],[1,"mt-6","flex","justify-center"],[1,"w-24","h-1","bg-gradient-to-r","from-transparent","via-primary/50","to-transparent","rounded-full"],[1,"absolute","-bottom-10","-left-10","w-32","h-32","bg-primary/10","rounded-full","blur-2xl"],[1,"absolute","-top-10","-right-10","w-40","h-40","bg-accent/15","rounded-full","blur-2xl"],[1,"inline-block","px-4","py-2","bg-accent/30","text-primary-dark","rounded-full","text-sm","font-medium","mb-4"],[1,"font-serif","italic"],[1,"font-medium"],[1,"font-medium","group-hover:underline"],[1,"font-semibold","text-primary-dark"],[1,"text-sm","mt-1"],["href","#",1,"hover:text-primary-dark","transition-colors","duration-300","font-light"]],template:function(t,r){t&1&&(g(0,"footer",0),ne(1,"div",1)(2,"div",2)(3,"div",3),g(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),G(8,NH,3,3,"span",8),v(),g(9,"h3",9),G(10,OH,3,3,"span",10),v(),g(11,"div",11)(12,"div",12)(13,"span",13),I(14,"\u{1F4E7}"),v(),g(15,"div"),G(16,kH,3,3,"p",14),g(17,"p",15),I(18,"artista@email.com"),v()()(),g(19,"div",12)(20,"span",13),I(21,"\u{1F4F1}"),v(),g(22,"div"),G(23,FH,3,3,"p",14),g(24,"p",15),I(25,"+34 123 456 789"),v()()(),g(26,"div",12)(27,"span",13),I(28,"\u{1F4CD}"),v(),g(29,"div"),G(30,LH,3,3,"p",14)(31,VH,3,3,"p",16),v()()()(),g(32,"div",17)(33,"div",7),G(34,jH,3,3,"span",8),v(),g(35,"h3",9),G(36,UH,3,3,"span",10),v(),g(37,"div",18)(38,"a",19)(39,"span",20),I(40,"\u{1F4F7}"),v(),g(41,"div"),G(42,BH,3,3,"p",21),g(43,"p",22),I(44,"@malaver.arte"),v()()(),g(45,"a",19)(46,"span",20),I(47,"\u{1F465}"),v(),g(48,"div"),G(49,$H,3,3,"p",21),g(50,"p",22),I(51,"Mar\xEDa Malaver Arte"),v()()(),g(52,"a",19)(53,"span",20),I(54,"\u{1F426}"),v(),g(55,"div"),G(56,HH,3,3,"p",21),g(57,"p",22),I(58,"@malaver_art"),v()()()()(),g(59,"div",23)(60,"div",7),G(61,zH,3,3,"span",8),v(),g(62,"h3",9),G(63,qH,3,3,"span",10),v(),g(64,"div",11)(65,"div",24),G(66,GH,3,3,"p",25)(67,WH,3,3,"p",26),v(),g(68,"div",24),G(69,KH,3,3,"p",25)(70,QH,3,3,"p",26),v(),g(71,"div",24),G(72,YH,3,3,"p",25)(73,ZH,3,3,"p",26),v()()()(),g(74,"div",27)(75,"div",28)(76,"p",29),R(77,"transloco"),I(78),R(79,"transloco"),v(),g(80,"div",30),G(81,JH,3,3,"a",31)(82,XH,3,3,"a",31),v()(),g(83,"div",32),ne(84,"div",33),v()()(),ne(85,"div",34)(86,"div",35),v()),t&2&&(y(8),V("transloco","footer.contact.title"),y(2),V("transloco","footer.contact.subtitle"),y(6),V("transloco","footer.contact.email.title"),y(7),V("transloco","footer.contact.phone.title"),y(7),V("transloco","footer.contact.studio.title"),y(),V("transloco","footer.contact.studio.address"),y(3),V("transloco","footer.social.title"),y(2),V("transloco","footer.social.subtitle"),y(6),V("transloco","footer.social.instagram.title"),y(7),V("transloco","footer.social.facebook.title"),y(7),V("transloco","footer.social.twitter.title"),y(5),V("transloco","footer.events.title"),y(2),V("transloco","footer.events.subtitle"),y(3),V("transloco","footer.events.event1.title"),y(),V("transloco","footer.events.event1.description"),y(2),V("transloco","footer.events.event1.title"),y(),V("transloco","footer.events.event1.description"),y(2),V("transloco","footer.events.event2.title"),y(),V("transloco","footer.events.event2.description"),y(3),V("innerHTML",P(77,23,"footer.copyright"),ro),y(2),B(" ",P(79,25,"footer.copyright")," "),y(3),V("transloco","footer.privacy"),y(),V("transloco","footer.terms"))},dependencies:[ot,Xn,Rt]})};var tp=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ve({type:n,selectors:[["app-home"]],standalone:!0,features:[je],decls:6,vars:0,template:function(t,r){t&1&&(ne(0,"app-header"),g(1,"main"),ne(2,"app-gallery")(3,"app-hero")(4,"app-techniques"),v(),ne(5,"app-footer"))},dependencies:[nr,Bh,$h,Xf,ep]})};function ez(n,e){if(n&1&&(g(0,"div",45),I(1),v()),n&2){let t=ue();y(),B(" ",t.successMessage," ")}}function tz(n,e){if(n&1&&(g(0,"div",46),I(1),v()),n&2){let t=ue();y(),B(" ",t.errorMessage," ")}}function nz(n,e){if(n&1){let t=it();g(0,"button",47),ce("click",function(){ie(t);let i=ue();return oe(i.cancelEdit())}),I(1),R(2,"transloco"),v()}n&2&&(y(),B(" ",P(2,1,"adminDashboard.form.cancel")," "))}function rz(n,e){n&1&&(g(0,"div",48)(1,"span"),I(2),R(3,"transloco"),v()()),n&2&&(y(2),H(P(3,1,"adminDashboard.noArtworks")))}function iz(n,e){if(n&1){let t=it();g(0,"tr")(1,"td",55),ne(2,"img",56),v(),g(3,"td",55)(4,"div",57),I(5),v(),g(6,"div",58),I(7),v()(),g(8,"td",59),I(9),v(),g(10,"td",59),I(11),v(),g(12,"td",60)(13,"button",61),ce("click",function(){let i=ie(t).$implicit,o=ue(2);return oe(o.editArtwork(i))}),I(14),R(15,"transloco"),v(),g(16,"button",62),ce("click",function(){let i=ie(t).$implicit,o=ue(2);return oe(o.deleteArtwork(i.id))}),I(17),R(18,"transloco"),v()()()}if(n&2){let t=e.$implicit;y(2),V("src",t.imagen,Tr)("alt",t.titulo),y(3),H(t.titulo),y(2),H(t.medidas),y(2),B(" ",t.tecnica," "),y(2),Xa(" ",t.precio," ",t.moneda," "),y(3),B(" ",P(15,9,"adminDashboard.table.edit")," "),y(3),B(" ",P(18,11,"adminDashboard.table.delete")," ")}}function oz(n,e){if(n&1&&(g(0,"div",49)(1,"table",50)(2,"thead",51)(3,"tr")(4,"th",52),I(5),R(6,"transloco"),v(),g(7,"th",52),I(8),R(9,"transloco"),v(),g(10,"th",52),I(11),R(12,"transloco"),v(),g(13,"th",52),I(14),R(15,"transloco"),v(),g(16,"th",52),I(17),R(18,"transloco"),v()()(),g(19,"tbody",53),G(20,iz,19,13,"tr",54),v()()()),n&2){let t=ue();y(5),B(" ",P(6,6,"adminDashboard.table.image"),""),y(3),B(" ",P(9,8,"adminDashboard.table.title"),""),y(3),B(" ",P(12,10,"adminDashboard.table.technique"),""),y(3),B(" ",P(15,12,"adminDashboard.table.price"),""),y(3),B(" ",P(18,14,"adminDashboard.table.actions"),""),y(3),V("ngForOf",t.artworks)}}var np=class n{constructor(e,t,r){this.artworkService=e;this.authService=t;this.translocoService=r}artworks=[];newArtwork={id:"",titulo:"",medidas:"",tecnica:"",estilo:"",genero:"",descripcion:"",estado:"",precio:0,moneda:"EUR",imagen:"",anio:new Date().getFullYear(),categoria:"",vendido:!1};editingArtwork=null;successMessage="";errorMessage="";subscription=new $e;ngOnInit(){this.loadArtworks()}ngOnDestroy(){this.subscription.unsubscribe()}loadArtworks(){this.subscription.add(this.artworkService.artworks$.subscribe({next:e=>{this.artworks=e},error:e=>{console.error("Error loading artworks:",e),this.errorMessage=this.translocoService.translate("adminDashboard.errors.load"),setTimeout(()=>{this.errorMessage=""},3e3)}}))}onSubmit(){return N(this,null,function*(){try{this.editingArtwork?(yield this.artworkService.updateArtwork(U({},this.newArtwork)),this.successMessage=this.translocoService.translate("adminDashboard.success.update")):(yield this.artworkService.addArtwork(U({},this.newArtwork)),this.successMessage=this.translocoService.translate("adminDashboard.success.add")),this.resetForm(),setTimeout(()=>{this.successMessage=""},3e3)}catch(e){console.error("Error saving artwork:",e),this.errorMessage=this.translocoService.translate("adminDashboard.errors.save"),setTimeout(()=>{this.errorMessage=""},3e3)}})}editArtwork(e){this.editingArtwork=e,this.newArtwork=U({},e)}deleteArtwork(e){return N(this,null,function*(){if(confirm(this.translocoService.translate("adminDashboard.confirmDelete")))try{yield this.artworkService.deleteArtwork(e),this.successMessage=this.translocoService.translate("adminDashboard.success.delete"),setTimeout(()=>{this.successMessage=""},3e3)}catch(t){console.error("Error deleting artwork:",t),this.errorMessage=this.translocoService.translate("adminDashboard.errors.delete"),setTimeout(()=>{this.errorMessage=""},3e3)}})}resetForm(){this.newArtwork={id:"",titulo:"",medidas:"",tecnica:"",estilo:"",genero:"",descripcion:"",estado:"",precio:0,moneda:"EUR",imagen:"",anio:new Date().getFullYear(),categoria:"",vendido:!1},this.editingArtwork=null}cancelEdit(){this.resetForm()}static \u0275fac=function(t){return new(t||n)(J(fa),J(tr),J(Kt))};static \u0275cmp=Ve({type:n,selectors:[["app-admin-dashboard"]],standalone:!0,features:[je],decls:132,vars:105,consts:[["artworkForm","ngForm"],[1,"min-h-screen","bg-gray-100","p-6"],[1,"max-w-7xl","mx-auto"],[1,"flex","justify-between","items-center","mb-8"],[1,"text-3xl","font-bold","text-gray-800"],[1,"bg-red-600","text-white","px-4","py-2","rounded-md","hover:bg-red-700","transition-colors",3,"click"],["class","bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",4,"ngIf"],["class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",4,"ngIf"],[1,"bg-white","shadow-md","rounded-lg","p-6","mb-8"],[1,"text-xl","font-semibold","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4",3,"ngSubmit"],[1,"space-y-4"],[1,"block","text-sm","font-medium","mb-1"],["type","text","name","titulo","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["type","text","name","medidas","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["type","text","name","tecnica","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["type","text","name","estilo",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["type","text","name","genero","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["name","categoria","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["value","paisajismo"],["value","bodegones"],["value","retratos"],["value","animalismo"],["value","otros"],["name","estado","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["value","Nuevo"],["value","Usado"],["value","Restaurado"],["type","number","name","precio","required","","min","0",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["name","moneda","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["value","EUR"],["value","USD"],["value","COP"],["type","number","name","anio",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],["name","vendido","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],[3,"ngValue"],["type","text","name","imagen","required","",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],[1,"md:col-span-2"],["name","descripcion","rows","3",1,"w-full","p-2","border","rounded",3,"ngModelChange","ngModel"],[1,"md:col-span-2","flex","justify-end","space-x-4","mt-4"],["type","button","class","bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-600 transition-colors",3,"click",4,"ngIf"],["type","submit",1,"bg-blue-600","text-white","px-4","py-2","rounded-md","hover:bg-blue-700","transition-colors","disabled:bg-blue-300",3,"disabled"],[1,"bg-white","shadow-md","rounded-lg","p-6"],["class","text-center py-8 text-gray-500",4,"ngIf"],["class","overflow-x-auto",4,"ngIf"],[1,"bg-green-100","border","border-green-400","text-green-700","px-4","py-3","rounded","mb-6"],[1,"bg-red-100","border","border-red-400","text-red-700","px-4","py-3","rounded","mb-6"],["type","button",1,"bg-gray-500","text-white","px-4","py-2","rounded-md","hover:bg-gray-600","transition-colors",3,"click"],[1,"text-center","py-8","text-gray-500"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[4,"ngFor","ngForOf"],[1,"px-6","py-4","whitespace-nowrap"],[1,"h-12","w-12","object-cover","rounded",3,"src","alt"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-500"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium"],[1,"text-indigo-600","hover:text-indigo-900","mr-3",3,"click"],[1,"text-red-600","hover:text-red-900",3,"click"]],template:function(t,r){if(t&1){let i=it();ne(0,"app-header"),g(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),I(5),R(6,"transloco"),v(),g(7,"button",5),ce("click",function(){return ie(i),oe(r.authService.logout())}),I(8),R(9,"transloco"),v()(),G(10,ez,2,1,"div",6)(11,tz,2,1,"div",7),g(12,"div",8)(13,"h2",9),I(14),R(15,"transloco"),v(),g(16,"form",10,0),ce("ngSubmit",function(){return ie(i),oe(r.onSubmit())}),g(18,"div",11)(19,"div")(20,"label",12),I(21),R(22,"transloco"),v(),g(23,"input",13),ft("ngModelChange",function(s){return ie(i),wt(r.newArtwork.titulo,s)||(r.newArtwork.titulo=s),oe(s)}),v()(),g(24,"div")(25,"label",12),I(26),R(27,"transloco"),v(),g(28,"input",14),ft("ngModelChange",function(s){return ie(i),wt(r.newArtwork.medidas,s)||(r.newArtwork.medidas=s),oe(s)}),v()(),g(29,"div")(30,"label",12),I(31),R(32,"transloco"),v(),g(33,"input",15),ft("ngModelChange",function(s){return ie(i),wt(r.newArtwork.tecnica,s)||(r.newArtwork.tecnica=s),oe(s)}),v()(),g(34,"div")(35,"label",12),I(36),R(37,"transloco"),v(),g(38,"input",16),ft("ngModelChange",function(s){return ie(i),wt(r.newArtwork.estilo,s)||(r.newArtwork.estilo=s),oe(s)}),v()(),g(39,"div")(40,"label",12),I(41),R(42,"transloco"),v(),g(43,"input",17),ft("ngModelChange",function(s){return ie(i),wt(r.newArtwork.genero,s)||(r.newArtwork.genero=s),oe(s)}),v()(),g(44,"div")(45,"label",12),I(46),R(47,"transloco"),v(),g(48,"select",18),ft("ngModelChange",function(s){return ie(i),wt(r.newArtwork.categoria,s)||(r.newArtwork.categoria=s),oe(s)}),g(49,"option",19),I(50),R(51,"transloco"),v(),g(52,"option",20),I(53),R(54,"transloco"),v(),g(55,"option",21),I(56),R(57,"transloco"),v(),g(58,"option",22),I(59),R(60,"transloco"),v(),g(61,"option",23),I(62),R(63,"transloco"),v()()()(),g(64,"div",11)(65,"div")(66,"label",12),I(67),R(68,"transloco"),v(),g(69,"select",24),ft("ngModelChange",function(s){return ie(i),wt(r.newArtwork.estado,s)||(r.newArtwork.estado=s),oe(s)}),g(70,"option",25),I(71),R(72,"transloco"),v(),g(73,"option",26),I(74),R(75,"transloco"),v(),g(76,"option",27),I(77),R(78,"transloco"),v()()(),g(79,"div")(80,"label",12),I(81),R(82,"transloco"),v(),g(83,"input",28),ft("ngModelChange",function(s){return ie(i),wt(r.newArtwork.precio,s)||(r.newArtwork.precio=s),oe(s)}),v()(),g(84,"div")(85,"label",12),I(86),R(87,"transloco"),v(),g(88,"select",29),ft("ngModelChange",function(s){return ie(i),wt(r.newArtwork.moneda,s)||(r.newArtwork.moneda=s),oe(s)}),g(89,"option",30),I(90,"EUR"),v(),g(91,"option",31),I(92,"USD"),v(),g(93,"option",32),I(94,"COP"),v()()(),g(95,"div")(96,"label",12),I(97),R(98,"transloco"),v(),g(99,"input",33),ft("ngModelChange",function(s){return ie(i),wt(r.newArtwork.anio,s)||(r.newArtwork.anio=s),oe(s)}),v()(),g(100,"div")(101,"label",12),I(102),R(103,"transloco"),v(),g(104,"select",34),ft("ngModelChange",function(s){return ie(i),wt(r.newArtwork.vendido,s)||(r.newArtwork.vendido=s),oe(s)}),g(105,"option",35),I(106),R(107,"transloco"),v(),g(108,"option",35),I(109),R(110,"transloco"),v()()(),g(111,"div")(112,"label",12),I(113),R(114,"transloco"),v(),g(115,"input",36),ft("ngModelChange",function(s){return ie(i),wt(r.newArtwork.imagen,s)||(r.newArtwork.imagen=s),oe(s)}),v()()(),g(116,"div",37)(117,"label",12),I(118),R(119,"transloco"),v(),g(120,"textarea",38),ft("ngModelChange",function(s){return ie(i),wt(r.newArtwork.descripcion,s)||(r.newArtwork.descripcion=s),oe(s)}),v()(),g(121,"div",39),G(122,nz,3,3,"button",40),g(123,"button",41),I(124),R(125,"transloco"),v()()()(),g(126,"div",42)(127,"h2",9),I(128),R(129,"transloco"),v(),G(130,rz,4,3,"div",43)(131,oz,21,16,"div",44),v()()()}if(t&2){let i=xr(17);y(5),H(P(6,49,"adminDashboard.title")),y(3),B(" ",P(9,51,"adminDashboard.logout")," "),y(2),V("ngIf",r.successMessage),y(),V("ngIf",r.errorMessage),y(3),B(" ",P(15,53,r.editingArtwork?"adminDashboard.editArtwork":"adminDashboard.addArtwork")," "),y(7),H(P(22,55,"adminDashboard.form.title")),y(2),ht("ngModel",r.newArtwork.titulo),y(3),H(P(27,57,"adminDashboard.form.measures")),y(2),ht("ngModel",r.newArtwork.medidas),y(3),H(P(32,59,"adminDashboard.form.technique")),y(2),ht("ngModel",r.newArtwork.tecnica),y(3),H(P(37,61,"adminDashboard.form.style")),y(2),ht("ngModel",r.newArtwork.estilo),y(3),H(P(42,63,"adminDashboard.form.genre")),y(2),ht("ngModel",r.newArtwork.genero),y(3),H(P(47,65,"adminDashboard.form.category")),y(2),ht("ngModel",r.newArtwork.categoria),y(2),H(P(51,67,"gallery.categories.paisajismo")),y(3),H(P(54,69,"gallery.categories.bodegones")),y(3),H(P(57,71,"gallery.categories.retratos")),y(3),H(P(60,73,"gallery.categories.animalismo")),y(3),H(P(63,75,"gallery.categories.otros")),y(5),H(P(68,77,"adminDashboard.form.status")),y(2),ht("ngModel",r.newArtwork.estado),y(2),H(P(72,79,"adminDashboard.form.statusOptions.new")),y(3),H(P(75,81,"adminDashboard.form.statusOptions.used")),y(3),H(P(78,83,"adminDashboard.form.statusOptions.restored")),y(4),H(P(82,85,"adminDashboard.form.price")),y(2),ht("ngModel",r.newArtwork.precio),y(3),H(P(87,87,"adminDashboard.form.currency")),y(2),ht("ngModel",r.newArtwork.moneda),y(9),H(P(98,89,"adminDashboard.form.year")),y(2),ht("ngModel",r.newArtwork.anio),y(3),H(P(103,91,"adminDashboard.form.sold")),y(2),ht("ngModel",r.newArtwork.vendido),y(),V("ngValue",!1),y(),H(P(107,93,"adminDashboard.form.soldOptions.no")),y(2),V("ngValue",!0),y(),H(P(110,95,"adminDashboard.form.soldOptions.yes")),y(4),H(P(114,97,"adminDashboard.form.image")),y(2),ht("ngModel",r.newArtwork.imagen),y(3),H(P(119,99,"adminDashboard.form.description")),y(2),ht("ngModel",r.newArtwork.descripcion),y(2),V("ngIf",r.editingArtwork),y(),V("disabled",!i.valid),y(),B(" ",P(125,101,r.editingArtwork?"adminDashboard.form.update":"adminDashboard.form.add")," "),y(4),H(P(129,103,"adminDashboard.existingArtworks")),y(2),V("ngIf",r.artworks.length===0),y(),V("ngIf",r.artworks.length>0)}},dependencies:[Ls,Rh,eS,nS,Fs,Iy,Ph,Sh,Ah,$c,Ey,Bc,Uc,dt,Qn,mn,ot,Rt,nr]})};function sz(n,e){if(n&1&&(g(0,"div",47)(1,"div",48)(2,"div",49)(3,"span",50),I(4),v()(),g(5,"p",33),I(6),v()()()),n&2){let t=e.$implicit,r=e.index;y(4),H(r+1),y(2),H(t)}}function az(n,e){if(n&1&&(g(0,"div",51)(1,"div",48)(2,"div",52)(3,"span",50),I(4),v()(),g(5,"p",33),I(6),v()()()),n&2){let t=e.$implicit,r=e.index;y(4),H(r+1),y(2),H(t)}}var rp=class n{colombiaExhibitions=["Museo de Arte Moderno, Bogot\xE1","Museo de la Independencia, Casa del Florero, Bogot\xE1","Museo de Arte Colonial, Bogot\xE1","Museo La Tertulia, Cali","MULI Museo Libre de Arte P\xFAblico de Cali, Cali"];europeExhibitions=["Castillo Neuburg an der Kamel",'Galer\xEDa "Luer", Bad W\xF6rishofen',"Galer\xEDa en el Kurhaus, Bad W\xF6rishofen",'Galer\xEDa "Art Gladys", Club de Golf Bad Ragaz (Suiza)','Galer\xEDa "Kunsthalle Art-Sch\xF6ch", Stein am Rhein (Suiza)'];static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ve({type:n,selectors:[["app-artist-bio"]],standalone:!0,features:[je],decls:122,vars:80,consts:[["id","sobre-mi",1,"min-h-screen","flex","items-center","justify-center","relative","overflow-hidden","bg-artistic-pattern","py-16"],[1,"absolute","inset-0","bg-gradient-to-br","from-background/95","via-white/90","to-accent/15"],[1,"absolute","top-5","left-5","w-80","h-80","bg-primary/10","rounded-full","blur-3xl","animate-float"],[1,"absolute","bottom-5","right-5","w-96","h-96","bg-accent/15","rounded-full","blur-3xl","animate-float",2,"animation-delay","2s"],[1,"absolute","top-1/2","left-1/4","w-64","h-64","bg-primary/5","rounded-full","blur-3xl","animate-float",2,"animation-delay","4s"],[1,"container","relative","z-10"],[1,"text-center","mb-16","animate-fade-in-up"],[1,"inline-block","px-6","py-3","bg-gradient-to-r","from-accent/40","to-primary/20","text-primary-dark","rounded-full","text-lg","font-medium","mb-4","shadow-lg"],[1,"text-4xl","md:text-5xl","font-light","text-primary-dark","mb-4","leading-tight"],[1,"text-xl","text-text-light","font-serif","italic"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-8","items-start"],[1,"lg:col-span-1","relative","animate-fade-in-up"],[1,"sticky","top-24"],[1,"relative","group"],[1,"relative","bg-white/90","backdrop-blur-md","rounded-3xl","p-6","shadow-2xl","border-2","border-accent/30","transform","transition-all","duration-500","hover:scale-105","hover:shadow-3xl"],[1,"absolute","-inset-4","bg-gradient-to-r","from-primary/10","to-accent/10","rounded-3xl","blur-lg","opacity-50"],[1,"relative","aspect-[3/4]","bg-gradient-to-br","from-primary/5","to-accent/10","rounded-2xl","overflow-hidden"],["src","https://res.cloudinary.com/dvdscvipo/image/upload/v1758581745/Scannen0002_fa4n0x.jpg","alt","Mar\xEDa Abt-Dutzi - Artista pict\xF3rica",1,"w-full","h-full","object-cover","transition-transform","duration-700","group-hover:scale-110"],[1,"absolute","inset-0","bg-gradient-to-t","from-black/20","to-transparent","opacity-0","group-hover:opacity-100","transition-opacity","duration-500"],[1,"absolute","-top-4","-right-4","w-24","h-24","bg-primary/20","rounded-full","blur-xl","z-0"],[1,"absolute","-bottom-4","-left-4","w-28","h-28","bg-accent/20","rounded-full","blur-xl","z-0"],[1,"mt-8","space-y-4"],[1,"bg-white/80","backdrop-blur-sm","rounded-2xl","p-6","shadow-lg","border","border-accent/20"],[1,"text-xl","font-light","text-primary-dark","mb-3"],[1,"text-text","text-sm"],[1,"lg:col-span-2","animate-fade-in-up",2,"animation-delay","0.3s"],[1,"mb-12"],[1,"flex","items-center","mb-6"],[1,"text-3xl","font-light","text-primary-dark"],[1,"bg-white/80","backdrop-blur-sm","rounded-2xl","p-8","shadow-lg","border","border-accent/20"],[1,"space-y-6","text-text","leading-relaxed"],[1,"text-lg"],[1,"bg-gradient-to-r","from-accent/20","to-primary/10","rounded-xl","p-6","my-6","border-l-4","border-primary"],[1,"font-medium","text-primary-dark"],[1,"mt-2","text-sm","text-text-light"],[1,"text-lg","mb-6"],[1,"mb-8"],[1,"text-2xl","font-light","text-primary-dark","mb-6","text-center"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["class","bg-gradient-to-br from-white to-accent/5 rounded-xl p-5 shadow-md border border-accent/20 hover:shadow-lg transition-shadow duration-300",4,"ngFor","ngForOf"],["class","bg-gradient-to-br from-white to-primary/5 rounded-xl p-5 shadow-md border border-accent/20 hover:shadow-lg transition-shadow duration-300",4,"ngFor","ngForOf"],[1,"text-center","mt-16","pt-8","border-t","border-accent/30"],[1,"bg-gradient-to-r","from-primary/10","to-accent/10","rounded-2xl","p-8","shadow-lg"],[1,"text-2xl","font-light","text-primary-dark","mb-4"],[1,"text-lg","text-text","leading-relaxed","max-w-3xl","mx-auto"],[1,"mt-6"],[1,"text-2xl","font-serif","italic","text-primary-dark"],[1,"bg-gradient-to-br","from-white","to-accent/5","rounded-xl","p-5","shadow-md","border","border-accent/20","hover:shadow-lg","transition-shadow","duration-300"],[1,"flex","items-start","mb-3"],[1,"w-8","h-8","bg-primary/20","rounded-full","flex","items-center","justify-center","mr-3","flex-shrink-0"],[1,"text-primary-dark","font-bold"],[1,"bg-gradient-to-br","from-white","to-primary/5","rounded-xl","p-5","shadow-md","border","border-accent/20","hover:shadow-lg","transition-shadow","duration-300"],[1,"w-8","h-8","bg-accent/30","rounded-full","flex","items-center","justify-center","mr-3","flex-shrink-0"]],template:function(t,r){t&1&&(ne(0,"app-header"),g(1,"section",0),ne(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),g(6,"div",5)(7,"div",6)(8,"span",7),I(9),R(10,"transloco"),v(),g(11,"h1",8),I(12),R(13,"transloco"),v(),g(14,"p",9),I(15),R(16,"transloco"),v()(),g(17,"div",10)(18,"div",11)(19,"div",12)(20,"div",13)(21,"div",14),ne(22,"div",15),g(23,"div",16),ne(24,"img",17)(25,"div",18),v()(),ne(26,"div",19)(27,"div",20),v(),g(28,"div",21)(29,"div",22)(30,"h3",23),I(31),R(32,"transloco"),v(),g(33,"p",24),I(34),R(35,"transloco"),v()(),g(36,"div",22)(37,"h3",23),I(38),R(39,"transloco"),v(),g(40,"p",24),I(41),R(42,"transloco"),v()()()()(),g(43,"div",25)(44,"div",26)(45,"div",27)(46,"h2",28),I(47),R(48,"transloco"),v()(),g(49,"div",29)(50,"div",30)(51,"p",31),I(52),R(53,"transloco"),v(),g(54,"p"),I(55),R(56,"transloco"),v(),g(57,"p"),I(58),R(59,"transloco"),v(),g(60,"div",32)(61,"p",33),I(62),R(63,"transloco"),v(),g(64,"p",34),I(65),R(66,"transloco"),v()(),g(67,"p"),I(68),R(69,"transloco"),v()()()(),g(70,"div",26)(71,"div",27)(72,"h2",28),I(73),R(74,"transloco"),v()(),g(75,"div",29)(76,"p",35),I(77),R(78,"transloco"),v(),g(79,"p",36),I(80),R(81,"transloco"),v(),g(82,"div",36)(83,"h3",37),I(84),R(85,"transloco"),v(),g(86,"div",38),G(87,sz,7,2,"div",39),v()()()(),g(88,"div",26)(89,"div",27)(90,"h2",28),I(91),R(92,"transloco"),v()(),g(93,"div",29)(94,"div",30)(95,"p"),I(96),R(97,"transloco"),v(),g(98,"p"),I(99),R(100,"transloco"),v(),g(101,"p",36),I(102),R(103,"transloco"),v(),g(104,"div")(105,"h3",37),I(106),R(107,"transloco"),v(),g(108,"div",38),G(109,az,7,2,"div",40),v()()()()(),g(110,"div",41)(111,"div",42)(112,"h3",43),I(113),R(114,"transloco"),v(),g(115,"p",44),I(116),R(117,"transloco"),v(),g(118,"div",45)(119,"p",46),I(120),R(121,"transloco"),v()()()()()()()()),t&2&&(y(9),B(" ",P(10,28,"bio.title")," "),y(3),B(" ",P(13,30,"bio.location")," "),y(3),H(P(16,32,"bio.date")),y(16),B("\u{1F3A8} ",P(32,34,"bio.techniqueTitle"),""),y(3),H(P(35,36,"bio.techniqueDescription")),y(4),B("\u{1F4C5} ",P(39,38,"bio.experienceTitle"),""),y(3),H(P(42,40,"bio.experienceYears")),y(6),H(P(48,42,"bio.childhoodTitle")),y(5),H(P(53,44,"bio.paragraphs.p1")),y(3),H(P(56,46,"bio.paragraphs.p2")),y(3),H(P(59,48,"bio.paragraphs.p3")),y(4),H(P(63,50,"bio.paragraphs.p4")),y(3),H(P(66,52,"bio.paragraphs.p5")),y(3),H(P(69,54,"bio.paragraphs.p6")),y(5),H(P(74,56,"bio.careerTitle")),y(4),H(P(78,58,"bio.paragraphs.p7")),y(3),H(P(81,60,"bio.paragraphs.p8")),y(4),H(P(85,62,"bio.exhibitionsColombia.title")),y(3),V("ngForOf",r.colombiaExhibitions),y(4),H(P(92,64,"bio.germanyTitle")),y(5),H(P(97,66,"bio.paragraphs.p9")),y(3),H(P(100,68,"bio.paragraphs.p10")),y(3),H(P(103,70,"bio.paragraphs.p11")),y(4),H(P(107,72,"bio.exhibitionsEurope.title")),y(3),V("ngForOf",r.europeExhibitions),y(4),H(P(114,74,"bio.legacyTitle")),y(3),H(P(117,76,"bio.legacyDescription")),y(4),H(P(121,78,"bio.signature")))},dependencies:[ot,Rt,dt,Qn,nr]})};var yM=[{path:"",component:tp},{path:"admin/login",component:jh},{path:"admin/dashboard",component:np,canActivate:[Uh]},{path:"bio",component:rp},{path:"**",redirectTo:""}];var _M={production:!1,firebaseConfig:{apiKey:"AIzaSyBY5l0nyxjgrb2MC8b2_3lGOf4h2KHTH24",authDomain:"galeria-70ec6.firebaseapp.com",projectId:"galeria-70ec6",storageBucket:"galeria-70ec6.firebasestorage.app",messagingSenderId:"17744554129",appId:"1:17744554129:web:4dcbadd5dad6e58238f730",measurementId:"G-2SCNFR1HB6"}};var wM=["es","en","de"];var ip=class n{http=L(Dv);getTranslation(e){return this.http.get(`assets/i18n/${e}.json`)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};var bM={providers:[QD({eventCoalescing:!0}),xx(yM),AT(),QS(()=>YS(_M.firebaseConfig)),lM(()=>hM()),_S({config:{availableLangs:wM,defaultLang:"de",reRenderOnLangChange:!0,prodMode:!XD()},loader:ip})]};function lz(n,e){n&1&&(g(0,"div",2)(1,"div",3)(2,"div",4),ne(3,"div",5)(4,"div",6),g(5,"div",7),ne(6,"div",8)(7,"div",9)(8,"div",10)(9,"div",11),v()(),g(10,"div",12),I(11,"Malaver"),v()()())}function uz(n,e){n&1&&(g(0,"div",13),ne(1,"router-outlet"),v())}var op=class n{isLoading=!0;transloco=L(Kt);languages=[{code:"es",name:"languages.es"},{code:"en",name:"languages.en"},{code:"de",name:"languages.de"}];ngOnInit(){setTimeout(()=>{this.isLoading=!1},2e3)}changeLang(e){this.transloco.setActiveLang(e)}getLanguage(){return"languages."+this.transloco.getActiveLang()}title="Malaver";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ve({type:n,selectors:[["app-root"]],standalone:!0,features:[je],decls:2,vars:2,consts:[["class","loader-overlay",4,"ngIf"],["class","app-content",4,"ngIf"],[1,"loader-overlay"],[1,"spinner-container"],[1,"palette-loader"],[1,"palette-base"],[1,"thumb-hole"],[1,"paint-spots"],[1,"paint-spot","spot-1"],[1,"paint-spot","spot-2"],[1,"paint-spot","spot-3"],[1,"paint-spot","spot-4"],[1,"loader-logo"],[1,"app-content"]],template:function(t,r){t&1&&G(0,lz,12,0,"div",0)(1,uz,2,0,"div",1),t&2&&(V("ngIf",r.isLoading),y(),V("ngIf",!r.isLoading))},dependencies:[dt,mn,uy,ot],styles:[".loader-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#fff;display:flex;justify-content:center;align-items:center;z-index:9999}.spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.palette-loader[_ngcontent-%COMP%]{width:120px;height:120px;position:relative;animation:_ngcontent-%COMP%_float 3s ease-in-out infinite}.palette-base[_ngcontent-%COMP%]{width:100px;height:100px;background:#8b4513;border-radius:50%;position:absolute;top:10px;left:10px;box-shadow:0 4px 8px #0003}.thumb-hole[_ngcontent-%COMP%]{width:25px;height:25px;background:#fff;border-radius:50%;position:absolute;top:15px;left:15px;box-shadow:inset 0 2px 4px #0003}.paint-spots[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.paint-spot[_ngcontent-%COMP%]{position:absolute;width:25px;height:25px;border-radius:50%;animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}.spot-1[_ngcontent-%COMP%]{background:#ff5252;top:20px;right:20px;animation-delay:0s}.spot-2[_ngcontent-%COMP%]{background:#ffeb3b;bottom:30px;right:40px;animation-delay:.3s}.spot-3[_ngcontent-%COMP%]{background:#4caf50;bottom:20px;left:30px;animation-delay:.6s}.spot-4[_ngcontent-%COMP%]{background:#2196f3;top:40px;left:20px;animation-delay:.9s}.loader-logo[_ngcontent-%COMP%]{margin-top:20px;font-family:Georgia,serif;font-style:italic;font-size:2rem;color:#4f46e5;animation:_ngcontent-%COMP%_fadeInOut 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1);opacity:.8}50%{transform:scale(1.2);opacity:1}}@keyframes _ngcontent-%COMP%_fadeInOut{0%,to{opacity:.7}50%{opacity:1}}.app-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}"]})};LT(op,bM).catch(n=>console.error(n));
